"use strict";(globalThis.webpackChunkfrontend_home=globalThis.webpackChunkfrontend_home||[]).push([["8965"],{57974:function(e,i,t){t.d(i,{Z:function(){return r}});let n={},r=()=>({setSearchIdInitialLoadTime:e=>{if(!!e&&!n[e])n={...n,[e]:Date.now()}},getConversionTime:e=>e&&n[e]?Date.now()-n[e]:null})},74048:function(e,i,t){t.d(i,{Z:function(){return a}});var n=t(67294),r=t(1563),l=t(54056),o=t(93435);let a=e=>{let{enabled:i,hasResults:t,isLoading:a,featureName:u}=e,s=(0,l.SK)();(0,n.useEffect)(()=>{i&&t&&s(r.En,{requestTime:(0,o.X3)(),featureName:u})},[i,s,t,u]),(0,n.useEffect)(()=>{i&&t&&!a&&s(r.TB,{requestTime:(0,o.X3)(),featureName:u})},[i,s,t,a,u])}},85746:function(e,i,t){t.d(i,{Z:()=>K}),t("40777");var n=t("71654"),r=t("67294"),l=t("39719"),o=t("59150"),a=t("6326"),u=t("28147"),s=t("45095");let d=e=>{let{pageName:i}=e;if("resultsPage"!==i)return null;try{let e=(0,o.St)(s.Zz),{itineraryPriceEur:i,sourcePage:t,origin:n,originType:r,destination:l,destinationType:a}=JSON.parse(e);return{clickedTilesItineraryPriceEur:i,clickedTilesItinerarySourcePage:t,clickedTilesItineraryOrigin:n,clickedTilesItineraryOriginType:r,clickedTilesItineraryDestination:l,clickedTilesItineraryDestinationType:a}}catch{}return null};var c=t("51092"),p=t("41154"),v=t("93435"),f=t("9034"),y=t("13670"),_=t("64138"),g=t("69498"),b=t("25772"),m=t("27244");let k=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,g.Z)(),l=(0,b.Z)();return(0,r.useCallback)(()=>{var r;e({module:"search",category:"destinations",action:"empty results displayed",event_name:"search: destinations: empty results displayed",props:{...i,...t,...n,...l,loading_time_milliseconds:(0,v.X3)(),request_id:null!==(r=(0,f.NL)())&&void 0!==r?r:void 0}})},[t,i,n,l,e])},h=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,b.Z)();return(0,r.useCallback)(()=>{e({module:"search",category:"destinations",action:"loading started",event_name:"search: destinations: loading started",props:{...i,...t,...n}})},[t,i,n,e])},T=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,b.Z)();return(0,r.useCallback)(()=>{var r;e({module:"search",category:"destinations",action:"results displayed",event_name:"search: destinations: results displayed",props:{...i,...t,...n,loading_time_milliseconds:(0,v.X3)(),request_id:null!==(r=(0,f.NL)())&&void 0!==r?r:void 0}})},[t,i,n,e])},S=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,g.Z)(),l=(0,b.Z)();return(0,r.useCallback)((r,o)=>{e({module:"search",category:"flights",action:"all results displayed",event_name:"search: flights: all results displayed",props:{...i,...t,...n,...l,loading_time_milliseconds:(0,v.X3)(),...r,...o}})},[t,i,n,l,e])},w=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,b.Z)();return(0,r.useCallback)(()=>{e({module:"search",category:"flights",action:"empty results displayed",event_name:"search: flights: empty results displayed",props:{...i,...t,...n,loading_time_milliseconds:(0,v.X3)()}})},[t,i,n,e])},E=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,g.Z)(),l=(0,b.Z)();return(0,r.useCallback)((r,o)=>{e({module:"search",category:"flights",action:"first results displayed",event_name:"search: flights: first results displayed",props:{...i,...t,...n,...l,loading_time_milliseconds:(0,v.X3)(),...r,...o}})},[t,i,n,l,e])},Z=()=>{let e=(0,m.Z)(),i=(0,_.Z)(),t=(0,y.Z)(),n=(0,g.Z)(),l=(0,b.Z)();return(0,r.useCallback)(()=>{e({module:"search",category:"flights",action:"loading started",event_name:"search: flights: loading started",props:{...i,...t,...n,...l}})},[t,i,n,l,e])};var C=t("31164"),P=t("24031"),D=t("54056"),I=t("36235"),R=t("31095"),A=t("96695"),N=t("30045");let L=e=>{let{variables:i,searchForm:t,isTiles:n}=e,r=(0,R.CP)(t),{passengers:l}=t,o=(0,R.Cq)(t),{origin:a,destination:u}=(0,R.Rb)(t),{departureDate:s,returnDate:d,flexible:c}=(0,R.i3)(t),p=(0,R.Sq)(t),v=(0,R.cN)(t);return{query:i,isTiles:n,class:r,passengers:l,bags:o,origin:a,destination:u,departureDate:s,returnDate:d,flexible:c,...null!==p&&{segmentCount:p},...null!==v&&{tripLength:v}}},K=e=>{let{enabled:i,hasResults:t,isLoading:v,isWideSearch:f,variables:y,baggageEligibility:_,guaranteeAndRedirectsEligibility:g,kiwiBasicEligibility:b,firstResultsItineraryPriceEur:m,statusPerProvider:K,isTier1Search:x,kayakEligibilityTestData:O,responseContainsKayakItinerary:q,tilesDataSource:z,hasTopThreeResortingOccurred:B=!1,carriersDeeplinkEligibility:F=!1,hasSeatsScarcityInResults:U=!1,umbrellaRequestId:H,extendedTrackingMetadata:X,eligibleForPareto:V=null,displayedResults:W,resultsCount:j,pollCount:M,pollTimeStart:Q,error:J}=e,Y=(0,D.SK)(),G=(0,l.v9)(C.km),$=(0,l.v9)(N.N),ee=(0,l.v9)(P.D6),ei=(0,A.dC)(ee),et=(0,A.Pq)(ee),en=(0,o.St)(s._L),{isPriceMatchGuaranteeActive:er}=(0,c.Z)(),el=null!=O,eo=d({pageName:G}),ea=(0,r.useRef)(!1),{numberOfCabinBags:eu,areTopFiveResultsEligibleForPrompt:es}=(0,p.Z)({baggageEligibility:_}),ed=L({variables:y,searchForm:ee,isTiles:f}),ec=null!==(0,n.useTest)("TOP_3_RES_DIVERSIFIED"),ep=null!==(0,n.useTest)("TOP_3_RES_DIVERSIFIED_NR"),ev=Z(),ef=h(),ey=E(),e_=S(),eg=T(),eb=w(),em=k(),ek=ec||ep;(0,r.useEffect)(()=>{i&&v&&(f?ef():ev(),Y(u.$E,ed))},[i,v]),(0,r.useEffect)(()=>{i&&!f&&H&&Y(a.oT,{...(0,I.be)({isTier1Search:!0===x,searchForm:ee}),...(0,I.r0)(g),...(0,I.Qz)(b)})},[i,H]),(0,r.useEffect)(()=>{i&&!v&&!t&&(f?em():eb(),Y(u.qV,{...ed,statusPerProvider:K,...J&&J instanceof Error?{error:{message:J.message,reason:"RelayNetwork"===J.name?"NetworkError":J.name}}:{error:J},tierMarketing:$?1:0}))},[v,t,J]),(0,r.useEffect)(()=>{i&&t&&en&&(Y(u.DA,{query:y}),(0,o.lD)(s._L))},[t,en]),(0,r.useEffect)(()=>{if(i&&t){let e=(0,R.wv)(V,W);if(!f){let i=(0,R.B7)(b);ey((0,R.Ov)(e),i)}let i=(0,R.QC)(W);Y(u.jd,{...ed,resultsCount:j,VIMetrics:i,...(0,R.gx)(x),...(0,R.jD)(X),...z&&{tilesDataSource:z},...e})}},[t,x]),(0,r.useEffect)(()=>{if(i&&t&&!v){let e=(0,R.wv)(V,W);if(f)eg();else{let i=(0,R.B7)(b);e_((0,R.Ov)(e),i)}let i=(0,R.QC)(W);Y(u.h,{...ed,resultsCount:j,VIMetrics:i,...M&&{pollCount:M.current},...Q&&{pollingTime:Date.now()-Q.current},...(0,R.gx)(x),...(0,R.jD)(X),...z&&{tilesDataSource:z},...e})}},[t,v,x]),(0,r.useEffect)(()=>{if(i&&t&&!f&&eo&&null!=m&&!ea.current){let{clickedTilesItineraryPriceEur:e}=eo,i=(Number(e)/Number(m)).toFixed(2);Y(u.wK,{...eo,firstResultsItineraryPriceEur:m,percentageDifference:Number(i),query:y}),ea.current=!0}},[t,eo,m,y]),(0,r.useEffect)(()=>{if(i&&t&&!f&&!v&&eo&&null!=m){let{clickedTilesItineraryPriceEur:e}=eo,i=(Number(e)/Number(m)).toFixed(2);Y(u.VK,{...eo,firstResultsItineraryPriceEur:m,percentageDifference:Number(i),query:y}),(0,o.lD)(s.Zz)}},[t,v,eo,m,y]),(0,r.useEffect)(()=>{i&&!v&&er&&(!1===q||ei)&&x&&Y(u.CR)},[v,t,er,x,q,ei]),(0,r.useEffect)(()=>{i&&!v&&es&&Y(u.EM,{bagsCount:eu})},[v,t,eu,es]),(0,r.useEffect)(()=>{i&&t&&!v&&el&&(!0===O.containsKayakWithCurrentRules&&Y(u.EF,{...ed,...(0,R.gx)(x)}),!0===O.containsKayakWithNewRules&&Y(u.gk,{...ed,tierMarketing:x?1:0}),!0===O.containsKayakAirlinesWithNewRules&&Y(u.vU,{...ed,tierMarketing:x?1:0}))},[t,v,el,O,x]),(0,r.useEffect)(()=>{i&&t&&!v&&ek&&Y(u.Of,{...ed,hasTopThreeResortingOccurred:B})},[i,t,v,ek,B]),(0,r.useEffect)(()=>{i&&t&&!v&&F&&et&&Y(u.b_,{...ed})},[F,i,t,v,et,ed]),(0,r.useEffect)(()=>{i&&t&&U&&Y(u.Yi)},[t,U])}},6326:function(e,i,t){t.d(i,{Iu:function(){return o},Pz:function(){return c},YV:function(){return d},g_:function(){return l},oT:function(){return r},oy:function(){return s},r7:function(){return a},sb:function(){return u}});var n=t(50767);let r={category:"pre-booking",attributesType:n.KP.RESULTS,action:"eligibility",destinations:n.T9},l={category:"pre-booking",attributesType:n.KP.RESULTS,action:"screen displayed",destinations:n.T9},o={category:"pre-booking",attributesType:n.KP.RESULTS,action:"bags bundle eligibility",destinations:n.T9},a={category:"pre-booking",attributesType:n.KP.RESULTS,action:"price lock selected",destinations:n.T9},u={category:"pre-booking",attributesType:n.KP.RESULTS,action:"full details displayed",destinations:n.T9},s={category:"pre-booking",attributesType:n.KP.RESULTS,action:"continue clicked",destinations:n.T9},d={category:"pre-booking",attributesType:n.KP.RESULTS,action:"screen exited",destinations:n.T9},c={category:"pre-booking",attributesType:n.KP.RESULTS,action:"feedback form submitted",destinations:n.T9}},41154:function(e,i,t){t.d(i,{Z:function(){return r}});var n=t(71654);let r=e=>{let{baggageEligibility:i}=e,t=(0,n.useFeature)("PROMPT_TO_SEARCH_WITH_BAGS"),r=!!(null==i?void 0:i.topFiveResultsBaggageEligibleForPrompt);return{areTopFiveResultsEligibleForPrompt:r,shouldShowCabinBagsPrompt:r&&t,numberOfCabinBags:null==i?void 0:i.numberOfBags}}},25772:function(e,i,t){t.d(i,{Z:()=>c});var n=t("39719"),r=t("10499"),l=t("79021"),o=t("44198"),a=t("31095");t("67886"),t("65451"),t("46015"),t("38334"),t("94880"),t("75643"),t("29761");var u=t("67101");let s=e=>0===e.stops.length?["any"]:[...new Set(e.stops.map(e=>0===e.stopNumber?"direct":1===e.stopNumber?"up_to_1_stop":2===e.stopNumber?"up_to_2_stops":"any"))].sort(),d=e=>{let i=e.stops.findIndex(e=>e.overnightStopover!==u.O3);return -1!==i},c=()=>{let e=(0,n.v9)(l.p),i=(0,n.v9)(o.Oy),t=(0,r.Cd)(i),u=(0,r.iJ)(i),c=(0,a.Cq)(i),p={cabin_bag_filter_value:c.cabin,checked_bag_filter_value:c.checked,stops_filter_value:s(e.get("stopNumber"))};return"nomad"===u?p:(("oneWay"===u||"return"===u)&&!t&&(p={...p,is_duration_filter_applied:e.isSet("flightDuration"),is_exclude_countries_filter_applied:e.isSet("countries"),is_redirect_excluded:e.isSet("ensureKiwiBookingOption")}),"return"===u&&!t&&(p={...p,is_return_from_different_airport_excluded:e.isSet("returnFromDifferentAirport"),is_return_to_different_airport_excluded:e.isSet("returnToDifferentAirport")}),!t&&(p={...p,is_airport_change_excluded:e.isSet("allowDifferentStationConnection"),is_carriers_filter_applied:e.isSet("airlines"),is_times_filter_applied:e.isSet("times")}),p={...p,is_days_filter_applied:e.isSet("daysInWeek"),is_hidden_cities_excluded:e.isSet("enableTrueHiddenCity"),is_overnight_stopover_excluded:d(e.get("stopNumber")),is_price_filter_applied:e.isSet("price"),is_self_transfer_excluded:e.isSet("enableSelfTransfer"),is_throwaway_ticketing_excluded:e.isSet("enableThrowAwayTicketing")})}},36235:function(e,i,t){t.d(i,{Qz:function(){return f},be:function(){return y},cp:function(){return c},r0:function(){return v},vS:function(){return p}}),t(67886),t(65451),t(46015),t(38334),t(94880),t(75643),t(29761);var n=t(45930),r=t(29477),l=t(92852),o=t(32815),a=t(31095);let u=e=>null===e?o.n:[...e.reduce((e,i)=>{var t,n;return"string"==typeof(null===(t=i.itineraryProvider)||void 0===t?void 0:null===(n=t.contentProvider)||void 0===n?void 0:n.code)&&e.add(i.itineraryProvider.contentProvider.code),e},new Set)].join(","),s=e=>{if(null===e)return o.n;if(1===e.length){var i,t;return(null===(i=e[0].itineraryProvider)||void 0===i?void 0:i.providerCategory)==="AIRLINE"?"airline":(null===(t=e[0].itineraryProvider)||void 0===t?void 0:t.providerCategory)==="OTA"?"ota":o.n}return"multiple"},d=(e,i)=>{var t,n,d,c,p,v,f,y,_,g,b,m,k,h,T,S,w,E;let Z=(0,a.d6)((0,r.FL)(e)),C=(0,l.z)(null===(t=e.priceEur)||void 0===t?void 0:t.amount),P={selfTransfer:null!==(n=null===(d=e.travelHack)||void 0===d?void 0:d.isVirtualInterlining)&&void 0!==n?n:o.n,tat:null!==(c=null===(p=e.travelHack)||void 0===p?void 0:p.isThrowawayTicket)&&void 0!==c?c:o.n,thc:null!==(v=null===(f=e.travelHack)||void 0===f?void 0:f.isTrueHiddenCity)&&void 0!==v?v:o.n},{isKiwiGuaranteeAvailable:D,isAutomaticCheckinAvailable:I,isDisruptionProtectionAvailable:R,isInstantChatSupportAvailable:A,guaranteeFeeEur:N}=(0,r.cK)(e),{kiwiBookingOption:L,kiwiBasicBookingOption:K,externalBookingOptions:x}=(0,r.gr)(e),O=null!==L,q=null!==K,z=null!==x,B=O?L.token:o.n,F=q?K.token:o.n,U=(null==L?void 0:null===(y=L.priceLocks)||void 0===y?void 0:null===(_=y.priceLocksCurr)||void 0===_?void 0:_.find(e=>(null==e?void 0:e.default)===!0))!=null,H=(null==K?void 0:null===(g=K.priceLocks)||void 0===g?void 0:null===(b=g.priceLocksCurr)||void 0===b?void 0:b.find(e=>(null==e?void 0:e.default)===!0))!=null,X={kiwi:{available:O,disruptionTreatment:null!==(m=null==L?void 0:L.disruptionTreatment)&&void 0!==m?m:o.n,guarantee:O?D:o.n,guaranteeFee:(null==N?void 0:N.amount)==null?o.n:(0,l.z)(N.amount),kiwiProduct:null!==(k=null==L?void 0:L.kiwiProduct)&&void 0!==k?k:o.n,perks:{isAutomaticCheckinAvailable:O?I:o.n,isDisruptionProtectionAvailable:O?R:o.n,isInstantChatSupportAvailable:O?A:o.n},priceLock:O?U:o.n,price:O?(0,l.z)(null===(h=L.priceEur)||void 0===h?void 0:h.amount):o.n},kiwiBasic:{available:q,disruptionTreatment:null!==(T=null==K?void 0:K.disruptionTreatment)&&void 0!==T?T:o.n,kiwiProduct:null!==(S=null==K?void 0:K.kiwiProduct)&&void 0!==S?S:o.n,perks:{isAutomaticCheckinAvailable:!q&&o.n,isDisruptionProtectionAvailable:!q&&o.n,isInstantChatSupportAvailable:!q&&o.n},priceLock:q?H:o.n,price:q?(0,l.z)(null===(w=K.priceEur)||void 0===w?void 0:w.amount):o.n},redirect:{available:z,provider:u(x),price:z?(0,l.z)(null===(E=x[0].priceEur)||void 0===E?void 0:E.amount):o.n,type:s(x)}},V=i*(0,r.tT)(e).length;return{airlines:Z,bookingToken:B,itineraryId:e.id,kiwiBasicBookingToken:F,numberOfSeats:V,options:X,resultPrice:C,travelHacks:P}},c=e=>{var i,t;let r=(null==e?void 0:null===(i=e.itineraryProvider)||void 0===i?void 0:i.code)===n.zT,l=(null==e?void 0:null===(t=e.itineraryProvider)||void 0===t?void 0:t.code)===n.bZ;return null===e?o.n:r?"kiwi":l?"kiwi-basic":"redirect"},p=e=>{var i,t,r;let{bookingOption:a,benefitsData:u}=e,s=(null==a?void 0:null===(i=a.itineraryProvider)||void 0===i?void 0:i.code)===n.zT,{isKiwiGuaranteeAvailable:d,isAutomaticCheckinAvailable:p,isDisruptionProtectionAvailable:v,isInstantChatSupportAvailable:f}=u,y=s?d:o.n,_=c(a);return{guarantee:y,kiwiProduct:null!==(t=null==a?void 0:a.kiwiProduct)&&void 0!==t?t:o.n,perks:{isAutomaticCheckinAvailable:s?p:o.n,isDisruptionProtectionAvailable:s?v:o.n,isInstantChatSupportAvailable:s?f:o.n},price:null===a?o.n:(0,l.z)(null===(r=a.priceEur)||void 0===r?void 0:r.amount),type:_}},v=e=>{if(!e)return{redirect:{anywhere:o.n,top10:o.n,isKiwiAvailable:o.n},guarantee:{anywhere:o.n,top10:o.n},combination:{anywhere:o.n,top10:o.n}};let{redirect:i,guarantee:t,combination:n}=e,r=e=>"boolean"==typeof e?e:o.n;return{redirect:{anywhere:r(null==i?void 0:i.anywhere),top10:r(null==i?void 0:i.top10),isKiwiAvailable:r(null==i?void 0:i.isKiwiAvailable)},guarantee:{anywhere:r(null==t?void 0:t.anywhere),top10:r(null==t?void 0:t.top10)},combination:{anywhere:r(null==n?void 0:n.anywhere),top10:r(null==n?void 0:n.top10)}}},f=e=>{if(!e)return{kiwiBasic:{anywhere:o.n,top10:o.n}};let{anywhere:i,top10:t}=e;return{kiwiBasic:{anywhere:"boolean"==typeof i?i:o.n,top10:"boolean"==typeof t?t:o.n}}},y=e=>{let{isTier1Search:i,itinerary:t,itineraryRank:n,searchForm:r,extendedTrackingMetadata:l}=e,o=(0,a.Cq)(r),u=(0,a.CP)(r),{departureDate:s,returnDate:c}=(0,a.i3)(r),{origin:p,destination:v}=(0,a.Rb)(r),{passengers:f}=r,y=f.adults+f.children+f.infants;return{bags:o,class:u,departureDate:s,destination:v,origin:p,passengers:f,returnDate:c,...(0,a.gx)(i),...(0,a.jD)(l),...void 0!==t&&d(t,y),...void 0!==n&&{rank:n}}}}}]);
//# sourceMappingURL=8965.a79c0fcc.js.map