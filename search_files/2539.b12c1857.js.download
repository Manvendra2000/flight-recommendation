"use strict";(globalThis.webpackChunkfrontend_home=globalThis.webpackChunkfrontend_home||[]).push([["2539"],{20721:function(e,t,i){i.d(t,{SY:()=>ee,hY:()=>J,$O:()=>Y,es:()=>V,rY:()=>ei,gj:()=>et,mh:()=>ed,RF:()=>X,E6:()=>el,D0:()=>eu,Zg:()=>Q,Ph:()=>es,IT:()=>er});var r=i("42157"),l=i.n(r),n=i("69105"),a=i.n(n),o=i("46773"),s=i("74094"),u=i("94287"),d=i("68264"),m=i("45109"),c=i("41958"),p=i("14315"),f=i("29500"),g=i("12490"),D=i("31902"),b=i("99081"),h=i("96167"),E=i("96181"),A=i("69871"),T=i("45930"),k=i("2119"),y=i("33297"),S=i("29495"),L=i("82770"),I=i("38895"),B=i("10499"),C=i("18252"),N=i("14219"),v=i("37401"),w=i("17341"),R=i("52412"),F=i("94853"),U=i("96695");let x=["pl","gb","at","hu","nl","pe","rs","ar","ro"],O=["it","il","bg","lt","es"],W=["tr","fi","br","cz","us","fr"];var P=i("25800"),Z=i("73799");let M=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],H={quality:{sortBy:"QUALITY"},price:{sortBy:"PRICE"},duration:{sortBy:"DURATION"},date:{sortBy:"DATE"},popularity:{sortBy:"POPULARITY"},sourceTakeoffAsc:{sortBy:"SOURCE_TAKEOFF",sortOrder:"ASCENDING"},destinationLandingAsc:{sortBy:"DESTINATION_LANDING",sortOrder:"ASCENDING"}},V=(e,t)=>{let i=k.Ll(e,t);return{...e,adultsHoldBags:i.adults.map(e=>e.checked),adultsHandBags:i.adults.map(e=>e.cabin),childrenHoldBags:i.children.map(e=>e.checked),childrenHandBags:i.children.map(e=>e.cabin)}},Y=e=>{let{type:t,allowMixed:i}=e;return{cabinClass:t,applyMixedClasses:i}},_=function(e){let{min:t,max:i}=e,{minLimit:r=0,maxLimit:n=0,modifyValue:o=a()}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={};return t&&t!==r&&(s.start=o(t)),i&&i!==n&&(s.end=o(i)),l()(s)?null:s},G=function(e){let{min:t,max:i}=e,{minLimit:r,maxLimit:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{minLimit:0,maxLimit:0};return i!==l||t!==r?{start:t,end:i}:null},K=(e,t)=>{if(!e)return null;let i=(0,I.XF)(t),r=e.map((e,t)=>e&&!i.includes(t)?M[t]:null).filter(F.v);return r.length>0?r:null},z=(e,t,i)=>{let r={};if(i){let e=G(i.departure,{minLimit:0,maxLimit:24});e&&(r.departureHours=e);let t=G(i.arrival,{minLimit:0,maxLimit:24});t&&(r.arrivalHours=t)}if(e){let i=K(e,t);i&&(r.days=i)}return l()(r)?null:r},q=(e,t)=>_(e,{modifyValue:e=>Math.floor((0,v.Z)(e,t))}),j=(e,t)=>{let{places:i}=e,{omitLarge:r,useAnywhereInsteadOfEmptyDestination:l}=t;if(l&&0===i.length)return[A.sU.ANYWHERE];let n=r?i.filter(e=>!C.EG(e)):i;return null==n?void 0:n.map(C.mh).filter(F.v)},X=(e,t,i,r)=>{let{passengers:l,cabinClass:n,bags:a}=e;return{source:{ids:j(t,{})},destination:{ids:j(i,{})},dates:{start:(0,m.WU)(r.start,h.Z.umbrellaDateTimeFormat),end:(0,m.WU)(r.end,h.Z.umbrellaDateTimeFormat)},passengers:V(l,a),cabinClass:Y(n)}},J=e=>{let t=(0,I.Ws)(e)?e:(0,I.oc)();return t.from=(0,f.b)(t.from),t.to=(0,d.i)(t.to),t},Q=(e,t)=>{let i={},r=(0,R.nG)(),l=J(e),n=t&&t.type!==L.l.ANYTIME?J(t):null,a=null!=l&&l.flexibleDate?(0,b.k)(l.from,l.flexibleDate):l.from,o=null!=l&&l.flexibleDate?(0,s.E)(l.to,l.flexibleDate):l.to,d=null!=n&&n.flexibleDate?(0,b.k)(n.from,n.flexibleDate):null==n?void 0:n.from,f=null!=n&&n.flexibleDate?(0,s.E)(n.to,n.flexibleDate):null==n?void 0:n.to,E=(0,p.V)([r,f&&(0,c.R)(f,o)?f:o]),A=d&&(0,c.R)(d,a)?a:d,T=(0,p.V)([r,f&&(0,c.R)(E,f)?f:E]),k=(0,D.e)(new Date);if(e.type!==L.l.ANYTIME){if((0,I.g3)(e)){if("month"===e.stay)i.nightsCount={start:27,end:31};else if("time-of-stay"===e.stay){var y,S,B,C;i.nightsCount={start:null!==(y=null===(S=e.timeToStay)||void 0===S?void 0:S.min)&&void 0!==y?y:0,end:null!==(B=null===(C=e.timeToStay)||void 0===C?void 0:C.max)&&void 0!==B?B:0}}i.outboundDepartureMonths=e.months.map(e=>(0,m.WU)((0,u.z)(k,e),"LLLL").toUpperCase())}else i.outboundDepartureDate={start:null!=l&&l.flexibleDate?(0,m.WU)((0,c.R)((0,g.I)(),(0,b.k)(l.from,l.flexibleDate))?(0,b.k)(l.from,l.flexibleDate):(0,g.I)(),h.Z.umbrellaDateTimeFormat):(0,m.WU)(l.from,h.Z.umbrellaDateTimeFormat),end:null!=l&&l.flexibleDate?(0,m.WU)(E,h.Z.umbrellaDateTimeFormat):(0,m.WU)(l.to,h.Z.umbrellaDateTimeFormat)}}if(t&&t.type!==L.l.ANYTIME&&!(0,I.g3)(e)){if((0,I.Ws)(t)){let e=J(t);i.inboundDepartureDate={start:e.flexibleDate&&A?(0,m.WU)((0,c.R)((0,g.I)(),A)?A:(0,g.I)(),h.Z.umbrellaDateTimeFormat):(0,m.WU)(e.from,h.Z.umbrellaDateTimeFormat),end:e.flexibleDate?(0,m.WU)(T,h.Z.umbrellaDateTimeFormat):(0,m.WU)(e.to,h.Z.umbrellaDateTimeFormat)}}else(0,I.Es)(t)?i.nightsCount={start:t.min,end:t.max}:(0,I.l2)(t)&&(i.inboundDepartureDate={start:(0,m.WU)((0,I.oc)().from,h.Z.umbrellaDateTimeFormat),end:(0,m.WU)((0,I.oc)().to,h.Z.umbrellaDateTimeFormat)})}return i},$=e=>{let t=(0,Z.Z)(e.places[0]);return null==t?e:{places:[t]}},ee=(e,t)=>{let{origin:i,destination:r,outboundDate:l,passengers:n,cabinClass:a,bags:o}=e,{omitLarge:s,useAnywhereInsteadOfEmptyDestination:u}=t,d=j(i,{}),m=j(r,{omitLarge:s,useAnywhereInsteadOfEmptyDestination:!0});if(0===d.length||0===m.length&&!u)return null;let{outboundDepartureDate:c}=Q(l,null);return{itinerary:{source:{ids:d},destination:{ids:m},...c?{outboundDepartureDate:c}:null},passengers:V(n,o),cabinClass:Y(a)}},et=(e,t)=>{let{origin:i,destination:r,outboundDate:l,inboundDate:n,passengers:a,cabinClass:o,bags:s}=e,{omitLarge:u,shouldOriginExtendToRadius:d}=t,m=j(d?$(i):i,{}),c=j(r,{omitLarge:u});return 0===m.length||0===c.length?null:{itinerary:{source:{ids:m},destination:{ids:c},...Q(l,n)},passengers:V(a,s),cabinClass:Y(o)}},ei=(e,t)=>{let{multicity:i,passengers:r,bags:l,cabinClass:n}=e;return{itinerary:i.map((e,i)=>{let{origin:r,destination:l,outboundDate:n}=e,a=J(n),o=t.get("stopNumber").getDirectionValue(i),u=(0,I.k1)(n);return{source:{ids:j(r,{})},destination:{ids:j(l,{})},outboundDepartureDate:{start:(0,m.WU)(u&&null!=a.flexibleDate?(0,f.b)((0,b.k)(a.from,a.flexibleDate)):a.from,h.Z.umbrellaDateTimeFormat),end:(0,m.WU)(u&&null!=a.flexibleDate?(0,d.i)((0,s.E)(a.from,a.flexibleDate)):a.to,h.Z.umbrellaDateTimeFormat)},...o.stopNumber!==y.ZP.DEFAULT_STOP_NUMBER?{maxStopsCount:o.stopNumber}:{},allowOvernightStopover:o.overnightStopover,outbound:z(t.get("daysInWeek").getDirectionValue(i),n,t.get("times").getDirectionValue(i))}}),passengers:V(r,l),cabinClass:Y(n)}},er=e=>{let{nomad:t,passengers:i,cabinClass:r,bags:l}=e,[n,a,...o]=t,s=J(n.dateRange);return{itinerary:{source:{ids:j(n.destination,{})},destination:{ids:j(a.destination,{})},outboundDepartureDate:{start:(0,m.WU)(s.from,h.Z.umbrellaDateTimeFormat),end:(0,m.WU)(s.to,h.Z.umbrellaDateTimeFormat)},stopovers:o.map(e=>{let{destination:t,timeOfStay:i}=e;return{location:{ids:j(t,{})},...i?{nightsCount:{start:i.min,end:i.max}}:{}}})},passengers:V(i,l),cabinClass:Y(r)}},el=e=>{let{searchForm:t,filtersState:i,options:r,limit:l,providers:n,currencyData:a,isAggregate:o=!1,shouldApplyTravelHacksFilters:s=!0,shouldAllowReturnFromDifferentCity:u}=e,d=i.values(),m=B.iJ(t),c=m===B.xd.nomad,p=m===B.xd.multicity,f={..."boolean"==typeof u&&{allowReturnFromDifferentCity:u},allowChangeInboundDestination:!!o||d.returnToDifferentAirport,allowChangeInboundSource:!!o||d.returnFromDifferentAirport,allowDifferentStationConnection:d.allowDifferentStationConnection,...o&&{allowReturnFromDifferentCity:!1,allowReturnToDifferentCity:!1},...s&&!c&&{enableSelfTransfer:d.enableSelfTransfer,enableThrowAwayTicketing:d.enableThrowAwayTicketing,enableTrueHiddenCity:d.enableTrueHiddenCity}},g=[B.xd.oneWay,B.xd.return].includes(m),D=B.xd.return===m,{daysInWeekList:b}=d.daysInWeek;if(g){let e=z(b[0],t.outboundDate,d.times.getDirectionValue(0));if(e&&(f.outbound=e),D){let e=z(b[1],t.inboundDate,d.times.getDirectionValue(1));e&&(f.inbound=e)}d.ensureKiwiBookingOption&&(f.ensureKiwiBookingOption=!0)}d.flightDuration!==y.ZP.MAXIMAL_FLIGHT_DURATION&&(f.maxDuration=Math.round(d.flightDuration)),g&&d.stopNumber.stops[0]&&d.stopNumber.stops[0].overnightStopover!==y.ZP.DEFAULT_OVERNIGHT_STOPOVER&&(f.allowOvernightStopover=d.stopNumber.stops[0].overnightStopover),!p&&d.stopNumber.stops[0]&&d.stopNumber.stops[0].stopNumber!==y.ZP.DEFAULT_STOP_NUMBER&&(f.maxStopsCount=d.stopNumber.stops[0].stopNumber);let h=_(d.stopDuration,{minLimit:y.ZP.MINIMAL_DURATION,maxLimit:y.ZP.MAXIMAL_DURATION});h&&(f.stopoverTime=h);let E=q(d.price,a);return E&&(f.price=E),d.airlines.selected.length>0&&(d.airlines.excludeSelectedItems?f.excludeCarriers=d.airlines.selected:f.carriers=d.airlines.selected),d.countries.selected.length>0&&(d.countries.excludeSelectedItems?f.excludeStopoverCountries=d.countries.selected:f.stopoverCountries=d.countries.selected),f.transportTypes=["FLIGHT"],d.lockedSectors.isSet()&&(f.sectorIds=d.lockedSectors.sectors),n.length>0?f.contentProviders=n:f.contentProviders=[T.zT],p?f.flightsApiLimit=250:g&&!o&&(f.flightsApiLimit=25),l&&(f.limit=r.isBot?5:l),f},en=e=>{let{partnerMarket:t,searchForm:i,isKiwiBranding:r,isPopularityTilesReduction:l,kayakWithoutBagsTestValue:n,isTop3ResultsDiversified:a,isTop3ResultsDiversifiedNR:o,baggageProtectionBundleTestValue:s,carrierRedirects:u,isCarrierRedirectsSEM:d,priceElasticityGuaranteeTestValue:m,paretoProtectVanillaTestValue:c,kiwiBasicTestValue:p,kiwiBasicThirdIterationTestValue:f,marketStopPenalisationTestValue:g}=e,D={};if(!r)return null;let b=(0,U.Pq)(i);if(b&&null!==m&&("on"===m?D.priceElasticityGuarantee="ENABLE":"off"===m&&(D.priceElasticityGuarantee="DISABLE")),b&&null!=s&&("on"===s?D.baggageProtectionBundle="ENABLE":"off"===s&&(D.baggageProtectionBundle="DISABLE")),b&&null!=c&&(D.paretoProtectVanilla="on"===c?"ENABLE":"DISABLE"),b&&null!=p&&E.i.includes(t.toLowerCase())&&("on"===p?D.kiwiBasic="ENABLE":"off"===p&&(D.kiwiBasic="DISABLE")),b&&null!=f&&!(0,P.D)(t.toLowerCase())&&("off"===f?D.kiwiBasicThirdIteration="CONTROL":"b"===f?D.kiwiBasicThirdIteration="B":"c"===f&&(D.kiwiBasicThirdIteration="C")),b&&null!=g){let e=t.toLowerCase();"on"===g?x.includes(e)?D.marketStopPenalisation0="ENABLE":O.includes(e)?D.marketStopPenalisation10="ENABLE":W.includes(e)&&(D.marketStopPenalisation30="ENABLE"):"off"===g&&(x.includes(e)?D.marketStopPenalisation0="DISABLE":O.includes(e)?D.marketStopPenalisation10="DISABLE":W.includes(e)&&(D.marketStopPenalisation30="DISABLE"))}return(l&&(D.popularityTilesReduction=!0),"on"===n?D.kayakWithoutBags="ENABLE":"off"===n&&(D.kayakWithoutBags="DISABLE"),(a||o)&&(D.topThreeResultsHighlighting={firstResult:{highlightingOption:"BEST_VALUE",enableTravelHackForResult:"ENABLE",nrOptimized:o?"ENABLE":"DISABLE"},secondResult:{highlightingOption:"CHEAPEST",enableTravelHackForResult:"ENABLE",nrOptimized:o?"ENABLE":"DISABLE"},thirdResult:{highlightingOption:"DIRECT",enableTravelHackForResult:"ENABLE",nrOptimized:o?"ENABLE":"DISABLE"}}),u&&(D.carriersDeeplinkResultsEnable=!0),d&&(D.carriersDeeplinkOnSEMEnable=!0),0===Object.keys(D).length)?null:D},ea=e=>{let{marketStopPenalisationTestValue:t,partnerMarket:i}=e;if("off"===t){let e=i.toLowerCase();if(x.includes(e))return{sortVersion:14,applySortingChanges:!1};if(O.includes(e))return{sortVersion:7,applySortingChanges:!1};if(W.includes(e))return{sortVersion:9,applySortingChanges:!1}}else if("on"===t){let e=i.toLowerCase();if(x.includes(e))return{sortVersion:14,applySortingChanges:!0};if(O.includes(e))return{sortVersion:7,applySortingChanges:!0};if(W.includes(e))return{sortVersion:9,applySortingChanges:!0}}return null},eo=(e,t,i)=>t?"skypicker_travel":i.startsWith("android")?"skypicker-android":i.startsWith("ios")?"skypicker-ios":e,es=e=>{let{searchForm:t,filtersState:i,options:r,currency:l,sharedItineraryId:n=null,shouldUseReducedTilesResults:a=!1,kayakWithoutBagsTestValue:s=null,market:u,isTop3ResultsDiversified:d=!1,isTop3ResultsDiversifiedNR:m=!1,carrierRedirects:c=!1,isCarrierRedirectsSEM:p=!1,baggageProtectionBundleTestValue:f,marketStopPenalisationTestValue:g,priceElasticityGuaranteeTestValue:D,kiwiBasicTestValue:b,kiwiBasicThirdIterationTestValue:h,paretoProtectVanillaTestValue:E,ui:A,userEmail:T,isPrefetch:k=!1}=e,{apiUrl:y,language:L,isBot:I,branding:C,affiliateThisSession:v,country:R}=r,F=(0,N.cb)(v,(0,o.load)(o.Cookie.AFFILIATE_ID)),U=a&&(0,S.cg)(t.destination),x=en({partnerMarket:u,searchForm:t,isKiwiBranding:(0,w.V)(C),isPopularityTilesReduction:U,kayakWithoutBagsTestValue:s,isTop3ResultsDiversified:d,isTop3ResultsDiversifiedNR:m,carrierRedirects:c,isCarrierRedirectsSEM:p,baggageProtectionBundleTestValue:f,priceElasticityGuaranteeTestValue:D,paretoProtectVanillaTestValue:E,kiwiBasicTestValue:b,kiwiBasicThirdIterationTestValue:h,marketStopPenalisationTestValue:g}),O=i.get(B.Cd(t)?"sortAggregateBy":"sortBy"),W=ea({marketStopPenalisationTestValue:g,partnerMarket:u}),P=eo(C.partner,I,A);return{...H[O]||{sortBy:"QUALITY"},mergePriceDiffRule:"INCREASED",currency:l,userEmail:T,apiUrl:y&&!y.startsWith("https://api.skypicker.com")?y:null,locale:L,market:R,partner:P,partnerMarket:u,affilID:F,storeSearch:!1,searchStrategy:"REDUCED",...null!==x&&{abTestInput:x},...null!=n&&""!==n&&{sharedItineraryId:n},...null!==W&&W,...k&&{isPrefetch:!0}}},eu=e=>{var t,i,r;return null!==(t=null!==(i=e.name)&&void 0!==i?i:null===(r=e.default)||void 0===r?void 0:r.operation.name)&&void 0!==t?t:"relay"},ed=(e,t)=>JSON.stringify({queryId:eu(e),variables:t})},73561:function(e,t,i){i.d(t,{Y:function(){return m}});var r=i(46773),l=i(96181),n=i(45930),a=i(14219),o=i(25800),s=i(17341);let u=["SKYPICKER","skyscanner","acquisition","retention","retargeting","kayak","skypicker","momondo","aviasales","jetcost","skypicker-ios","liligo","cheapflights","swoodoo","adwordssearch","skiplagged","skypicker-android","wego","flygresor","finn","dohop","checkfelix","tripadvisor","idealo","12goasia","criteo","taptica","stories","bingsearch","facebook","gflights"],d=e=>{var t;let i=e.branding.id,l=null!==(t=(0,a.yh)((0,r.load)(r.Cookie.AFFILIATE_ID)||""))&&void 0!==t?t:"";return((0,s.V)(e.branding)||"newkiwicom"===i)&&(!l||u.includes(l))},m=(e,t,i,r)=>{let{META_PROVIDER_FRESH:a,META_PROVIDER_KAYAK:u,META_PROVIDER_KIWI:m,META_PROVIDER_WEGO:c,META_PROVIDER_U2:p,ALLOW_KAYAK_IN_TIER1:f,ALLOW_WEGO_IN_TIER1:g,ALLOW_FRESH_IN_TIER1:D,ALLOW_FRESH_FULL_TRAFFIC:b}=t,h=[],E=(0,o.D)(e.userMarket);m&&(h=[...h,n.zT]);let A="on"===i&&l.i.includes(e.userMarket.toLowerCase())||("b"===r||"c"===r)&&!E;if(d(e))a&&e.allowFresh&&(h=[...h,"FRESH"]),u&&e.allowKayak&&!A&&(h=[...h,"KAYAK"]),c&&e.allowWego&&E&&(h=[...h,"WEGO"]);else{let t=f&&e.allowKayak&&E,i=g&&e.allowWego&&E,r=D&&e.allowFresh&&E,l=(0,s.V)(e.branding);l&&r&&a?h=[...h,"FRESH"]:l&&b&&e.allowFresh&&a&&(h=[...h,"FRESH"]),t&&u&&(h=[...h,"KAYAK"]),i&&c&&(h=[...h,"WEGO"])}return p&&e.allowU2&&E&&(h=[...h,"U2_META_API"]),h}}}]);
//# sourceMappingURL=2539.b12c1857.js.map