"use strict";(globalThis.webpackChunkfrontend_home=globalThis.webpackChunkfrontend_home||[]).push([["8031"],{6390:function(l,e,n){n.d(e,{Z:()=>P});var i=n("63127"),r=n("32423"),u=n.n(r),t=n("72337"),o=n.n(t),a=n("4603"),d=n.n(a);n("40777");var v=n("67294"),s=n("39719"),c=n("28147"),f=n("98544"),m=n("17150"),b=n("20721"),h=n("54056"),g=n("93435"),y=n("9034"),p=n("22578");let I=l=>{let{query:e,variables:n,cacheConfig:r,render:u}=l,t=(0,p.useRelayEnvironment)();return(0,i.Z)(p.QueryRenderer,{environment:t,query:e,variables:n,cacheConfig:r,render:u})},k=l=>{let{query:e,variables:n,cacheConfig:r,render:u,fallback:t}=l;return"undefined"==typeof window?t:(0,i.Z)(I,{query:e,variables:n,cacheConfig:r,render:u})};var E=n("28860"),R=n("62859"),T=n("59930"),C=n("57974"),Z=n("74048"),S=n("85746");let q=l=>{var e,n,i,r,u,t,o,a,d,c,m,b,g,p,I,k,q,w,D,M,P,B,K,_,A,N,U,x,L,G;let{error:O,featureName:z,firstRequestTime:Y,hasMore:H,hasNext:Q,isCurrentLoading:V,isPrefetch:W,persistentResults:$,pollIteration:j,pollTimeStart:F,queryMetaDataSearchId:J,results:X,serverToken:ll,searchSessionIdParam:le,shouldBenchmarkSearchResults:ln,shouldTrackSearchResults:li,variables:lr,forceUpdate:lu,render:lt,retry:lo}=l,la=(0,h.SK)(),ld=(0,s.I0)(),{setSearchIdInitialLoadTime:lv}=(0,C.Z)(),ls=Date.now(),lc=H&&(j.current<10||ls-F.current<6e4),lf=null!==(e=null==X?void 0:null===(n=X.server)||void 0===n?void 0:n.serverToken)&&void 0!==e?e:null,lm=V||lc,lb=j.current>=10&&H,lh=ls-F.current>=6e4&&H,lg=X||!$.current?X:$.current,ly=null==lg?void 0:null===(i=lg.server)||void 0===i?void 0:i.requestId,lp=null!=ly&&0===j.current&&!W,lI=!lm&&null!=ly&&!W,lk=(0,v.useRef)(Y),lE=(0,v.useRef)(null);lE.current=V?null:ls,lp&&((0,y.BK)(ly),(0,y.TK)(`${null===(G=lr.filter)||void 0===G?void 0:G.contentProviders}`)),lI&&(0,y.SH)(ly),(0,v.useEffect)(()=>{lp&&ld((0,f.Z)(ly))},[ld,ly,lp]),(0,v.useEffect)(()=>{lI&&ld((0,f.Nl)(ly))},[ld,ly,lI]),(0,v.useEffect)(()=>{lh&&lb&&la(E.yr,{pollTime:ls-F.current,pollCount:j.current})},[lb,lh,la]),(0,v.useEffect)(()=>{$.current=lg},[lg]),(0,v.useEffect)(()=>{let l=lo?()=>{lk.current=Date.now(),lo()}:null;!V&&lc&&l&&(j.current+=1,null!=X&&ll.current!==lf&&null!=ly?(null==le.current&&(le.current=ly),ll.current=lf,lu()):l())},[lc,lu,V,j,lf,X,lo,ll,ly,le]);let lR=null!==(r=null==lg?void 0:lg.itineraries)&&void 0!==r?r:[],lT=lR.length>0,lC=lR.length,lZ=lR[0],lS=(0,R.xY)(lZ)&&null!==(u=null==lZ?void 0:null===(t=lZ.priceEur)||void 0===t?void 0:t.amount)&&void 0!==u?u:null,lq=null==lg?void 0:lg.metadata,lw=(0,R._q)(lg),lD=lw?null==lg?void 0:null===(o=lg.metadata)||void 0===o?void 0:null===(a=o.eligibilityInformation)||void 0===a?void 0:a.baggageEligibilityInformation:null,lM=lw?null==lg?void 0:null===(d=lg.metadata)||void 0===d?void 0:null===(c=d.eligibilityInformation)||void 0===c?void 0:c.guaranteeAndRedirectsEligibilityInformation:null,lP=lw?null==lg?void 0:null===(m=lg.metadata)||void 0===m?void 0:null===(b=m.eligibilityInformation)||void 0===b?void 0:b.kiwiBasicEligibility:null,lB=null==lq?void 0:lq.statusPerProvider,lK=null!==(g=null==lq?void 0:lq.hasTier1MarketItineraries)&&void 0!==g?g:null,l_=lw&&null!==(p=null==lg?void 0:null===(I=lg.metadata)||void 0===I?void 0:I.kayakEligibilityTest)&&void 0!==p?p:null,lA=!!lw&&null!==(k=null==lg?void 0:null===(q=lg.metadata)||void 0===q?void 0:null===(w=q.eligibilityInformation)||void 0===w?void 0:w.topThreeResortingOccurred)&&void 0!==k&&k,lN=!!lw&&null!==(D=null==lg?void 0:null===(M=lg.metadata)||void 0===M?void 0:null===(P=M.eligibilityInformation)||void 0===P?void 0:P.carriersDeeplinkEligibility)&&void 0!==D&&D,lU=lw&&null!==(B=null==lg?void 0:null===(K=lg.metadata)||void 0===K?void 0:null===(_=K.eligibilityInformation)||void 0===_?void 0:_.responseContainsKayakItinerary)&&void 0!==B?B:null,lx=lw&&null!==(A=null==lg?void 0:null===(N=lg.metadata)||void 0===N?void 0:null===(U=N.eligibilityInformation)||void 0===U?void 0:U.paretoABTestEligible)&&void 0!==A?A:null,lL=lR.some(l=>{var e,n;return((0,R.xY)(l)||(0,R.Li)(l))&&(0,T.o)(null!==(e=null==l?void 0:null===(n=l.lastAvailable)||void 0===n?void 0:n.seatsLeft)&&void 0!==e?e:0)}),lG=!W&&lw&&null!==(x=null==lg?void 0:null===(L=lg.metadata)||void 0===L?void 0:L.extendedTrackingMetadata)&&void 0!==x?x:null;return lT&&lv(ly),(0,S.Z)({enabled:li,hasResults:lT,isLoading:lm,isWideSearch:!1,variables:lr,baggageEligibility:lD,guaranteeAndRedirectsEligibility:lM,kiwiBasicEligibility:lP,firstResultsItineraryPriceEur:lS,statusPerProvider:lB,isTier1Search:lK,kayakEligibilityTestData:l_,responseContainsKayakItinerary:lU,hasTopThreeResortingOccurred:lA,carriersDeeplinkEligibility:lN,hasSeatsScarcityInResults:lL,umbrellaRequestId:ly,extendedTrackingMetadata:lG,eligibleForPareto:lx,resultsCount:lC,displayedResults:lg,pollCount:j,pollTimeStart:F,error:O}),(0,Z.Z)({enabled:ln,hasResults:lT,isLoading:lm,featureName:z}),lt(lg,{responseTime:lE.current,searchId:J,isLoading:lm,hasNext:Q,error:O,variables:lr})},w=["options","serverToken"],D=["filter","limit"],M=["options","searchSessionId"],P=(0,v.memo)(l=>{var e,n;let{query:r,variables:t,render:a,noCache:p=!1,rootKey:I,isPrefetch:E}=l,R=(0,h.SK)(),T=(0,s.I0)(),[,C]=(0,v.useState)({}),Z=(0,v.useCallback)(()=>C({}),[]),S=(0,v.useRef)(0),P=(0,v.useRef)(Date.now()),B=(0,v.useRef)(null),K=(0,v.useRef)(null),_=(0,v.useRef)(null),A=(0,v.useRef)(m.UZ),N=(0,v.useRef)(null),U=d()(o()(w),o()(D),o()(M)),x=(0,b.mh)(r,U(t)),L=Date.now(),G=x!==_.current;G&&(S.current=0,P.current=Date.now(),_.current=x,B.current=null,K.current=null,A.current=null===(n=t.filter)||void 0===n?void 0:n.limit,N.current=null);let O=B.current,z=N.current;G&&!E&&(0,y.e0)(),(0,v.useEffect)(()=>{G&&!E&&(T((0,f.UZ)()),T((0,f.zr)()))},[T,G,E]),(0,v.useEffect)(()=>()=>{(0,y.e0)(),T((0,f.UZ)()),T((0,f.zr)())},[]),(0,v.useEffect)(()=>{(0,g.uK)()},[x,null===(e=t.filter)||void 0===e?void 0:e.limit]);let Y=(0,v.useMemo)(()=>({force:p}),[p]),H=(0,v.useMemo)(()=>d()(u()(w,O),u()(M,z))(t),[O,z,t]),Q=(0,v.useCallback)(l=>{var e;return null!==(e=null==l?void 0:l[I])&&void 0!==e?e:null},[I]),V=(0,v.useCallback)(l=>{var e,n,u,o,d,v,s;let{error:f,props:m,retry:h}=l;f&&R(c.Cf,{query:t,error:f});let g=Q(m);(null==g?void 0:g.error)!=null&&R(c.Cf,{query:t,error:Error(g.error)});let y=!!(!m&&!f),p=(null!==(e=null==g?void 0:null===(n=g.metadata)||void 0===n?void 0:n.itinerariesCount)&&void 0!==e?e:0)>(null!==(u=null==g?void 0:null===(o=g.itineraries)||void 0===o?void 0:o.length)&&void 0!==u?u:0),I=!E&&null!==(d=null==g?void 0:null===(v=g.metadata)||void 0===v?void 0:v.hasMorePending)&&void 0!==d&&d;return(0,i.Z)(q,{error:null!==(s=null!=f?f:null==g?void 0:g.error)&&void 0!==s?s:null,featureName:(0,b.D0)(r),firstRequestTime:L,hasMore:I,hasNext:p,isCurrentLoading:y,isPrefetch:E,persistentResults:K,pollIteration:S,pollTimeStart:P,queryMetaDataSearchId:x,results:g,serverToken:B,searchSessionIdParam:N,shouldBenchmarkSearchResults:!E,shouldTrackSearchResults:!E,variables:t,forceUpdate:Z,render:a,retry:h})},[L,Z,Q,E,r,a,R,t]);return(0,i.Z)(k,{query:r,variables:H,cacheConfig:Y,render:V,fallback:V({error:null,props:null,retry:null})})})},31825:function(l,e,n){n.d(e,{Z:function(){return r}});var i=n(71654);let r=()=>(0,i.useTest)("BAGGAGE_PROTECTION_BUNDLE_V3")},59930:function(l,e,n){n.d(e,{o:function(){return i}});let i=l=>l>0&&l<=3}}]);
//# sourceMappingURL=8031.2ed61c96.js.map