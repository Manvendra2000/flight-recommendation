"use strict";(globalThis.webpackChunkfrontend_home=globalThis.webpackChunkfrontend_home||[]).push([["1663"],{46127:function(e,t,i){i.d(t,{Z:function(){return o}});var a,l=i(63127),r=i(19342),n=i(86896);let o=e=>{let{onClick:t}=e,{formatMessage:i}=(0,n.Z)();return(0,l.Z)(r.default,{type:"secondary",onClick:t,dataTest:"BackButton",iconLeft:a||(a=(0,l.Z)("svg",{width:"20",height:"16"},void 0,(0,l.Z)("path",{d:"M20 8a1 1 0 0 0-1-1H3.83l4.88-4.88A1 1 0 0 0 7.295.705L.707 7.293a1 1 0 0 0 0 1.414l6.588 6.588a.998.998 0 0 0 1.41-1.41L3.83 9H19a1 1 0 0 0 1-1Z",fill:"#252A31"}))),title:i({id:"search.form.back_to_search"})})}},41813:function(e,t,i){i.d(t,{Z:function(){return r}});var a=i(63127),l=i(1410);let r=e=>{let{children:t,smallSize:i=!1,isWindowHeightSmall:r=!1,className:n}=e;return(0,a.Z)("div",{className:(0,l.Z)("mx-auto w-[calc(100%-(2*theme(spacing.400)))] ld:w-[calc(100%-(2*theme(spacing.1000)))]",i?"max-w-[1120px]":"max-w-[1320px]",r&&"ld:mb-400",n)},void 0,t)}},7055:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var a,l=i(63127),r=i(95433),n=i(85942),o=i(19993),s=i(44012),d=i(3279),u=i(78597),c=i(85893);let v=(0,o.defineMessages)({title:{id:"search.emergency_banners.down.title"},description:{id:"search.emergency_banners.down.description"}}),m=(0,o.defineMessages)({title:{id:"search.emergency_banners.airline_down.title"},description:{id:"search.emergency_banners.airline_down.description"}}),p=e=>{switch(e){case"SEARCH_DOWN":return v;case"SEARCH_PARTIALLY_DOWN":return m;default:return null}},f=e=>{let{onDismiss:t,content:i,position:o}=e,{isMobile:u}=(0,d.Z)(),{id:v,title:{value:m,tkey:f},type:g,description:{value:h,tkey:Z,...b}}=i,y=p(v),k="homepage"===o&&u,x=b&&Object.keys(b)[0];return(0,l.Z)(r.default,{type:g,title:!k&&(y&&f?(0,c.jsx)(s.Z,{...y.title}):m),id:"emergencyBanner",icon:!0,spaceAfter:"medium"},void 0,(0,l.Z)("div",{className:"flex w-full flex-col items-center justify-between gap-100 tb:flex-row"},void 0,(0,l.Z)("p",{className:"mb-200 tb:mb-0"},void 0,y&&Z?(0,c.jsx)(s.Z,{...y.description,...x&&{values:{[x]:b[x]}}}):h),(0,l.Z)(n.default,{fullWidth:u,type:g,onClick:()=>t(o)},void 0,a||(a=(0,l.Z)(s.Z,{id:"orbit.button_close"})))))},g=e=>{let{position:t}=e,{isEmergencyActive:i,activeHomepageEmergency:a,activeResultsEmergency:r,dismissBanner:n}=(0,u.Yb)();return i?"homepage"===t&&a?(0,l.Z)(f,{position:"homepage",content:a,onDismiss:n}):"results"===t&&r?(0,l.Z)(f,{position:"results",content:r,onDismiss:n}):null:null}},66891:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItineraryDebug",selections:[{alias:null,args:null,concreteType:"ItineraryDebugData",kind:"LinkedField",name:"itineraryDebugData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null}],storageKey:null}],type:"Itinerary",abstractKey:"__isItinerary"};a.hash="69454cead59813a9115c1c4e51898b20";let l=a},29839:function(e,t,i){i.d(t,{Z:function(){return s}});var a,l=i(63127),r=i(96345),n=i(1410),o=i(67294);let s=e=>{let{isLoading:t,isMobileSearchHeaderEnabled:i,isMCorNomad:s=!1,isOWRT:d=!1}=e,u=(0,r.default)(),[c,v]=(0,o.useState)(u?window.scrollY:0),m=()=>v(window.scrollY),p=()=>window.removeEventListener("scroll",m);return(0,o.useEffect)(()=>(t?window.addEventListener("scroll",m):p(),p),[t]),(0,l.Z)("div",{className:(0,n.Z)("sticky top-0 z-30 h-[3px] w-full overflow-hidden de:left-0",c>64?(0,n.Z)("de:fixed",d&&!i&&"fixed top-[--form-height-mobile]",s&&!i&&"tb:fixed tb:top-[--mc-nomad-form-height-tablet]",s&&!i?"de:top-[--mc-nomad-form-height-tablet]":"de:top-[--form-height-desktop] ld:top-[--form-height-largeDesktop]",i&&"fixed top-1600"):"de:absolute"),"data-test":"LoadingLine"},void 0,u&&t&&(a||(a=(0,l.Z)("div",{className:"absolute h-[3px] w-2/5 translate-x-[-40vw] animate-loading-line bg-blue-normal"}))))}},13383:function(e,t,i){i.d(t,{Z:function(){return o}});var a=i(63127),l=i(96345),r=i(1410),n=i(67294);let o=e=>{let{firstResultsLoaded:t,isLoading:i,isMobileSearchHeaderEnabled:o,isMCorNomad:s=!1,isOWRT:d=!1,searchId:u}=e,c=(0,l.default)(),[v,m]=(0,n.useState)(c?window.scrollY:0),[p,f]=(0,n.useState)(0),[g,h]=(0,n.useState)("350ms"),Z=(0,n.useRef)(null),b=(0,n.useRef)(null),y=(0,n.useRef)(0),k=(0,n.useRef)(null),x=()=>m(window.scrollY),_=()=>window.removeEventListener("scroll",x);return(0,n.useEffect)(()=>{f(0),y.current=0,k.current=null,b.current=null},[u]),(0,n.useEffect)(()=>{y.current=p},[p]),(0,n.useEffect)(()=>{i?window.addEventListener("scroll",x):_()},[i]),(0,n.useEffect)(()=>{t&&null===k.current&&(k.current=Date.now(),f(40))},[t]),(0,n.useEffect)(()=>{if(!!i)return b.current=Date.now(),Z.current&&clearInterval(Z.current),Z.current=setInterval(()=>{var e,i;let a=Date.now(),l=a-(null!==(e=b.current)&&void 0!==e?e:0);if(l<2e3&&!t)f(l/2e3*30);else if(y.current<90){if(t){let e=a-(null!==(i=k.current)&&void 0!==i?i:a);f(Math.min(40+e/6e3*50,90))}else f(e=>Math.min(e+.025,40))}else f(e=>Math.min(e+.03,98))},50),()=>{Z.current&&clearInterval(Z.current)}},[i,k.current]),(0,n.useEffect)(()=>{if(!i){Z.current&&clearInterval(Z.current),f(100);let e=setTimeout(()=>{h("0"),f(0),k.current=null},500),t=setTimeout(()=>{h("350ms")},1e3);return()=>{clearTimeout(e),clearTimeout(t)}}},[i]),(0,a.Z)("div",{className:(0,r.Z)("sticky top-0 z-30 h-[3px] w-full overflow-hidden de:left-0",v>64?(0,r.Z)("de:fixed",d&&!o&&"fixed top-[--form-height-mobile]",s&&!o&&"tb:fixed tb:top-[--mc-nomad-form-height-tablet]",s&&!o?"de:top-[--mc-nomad-form-height-tablet]":"de:top-[--form-height-desktop] ld:top-[--form-height-largeDesktop]",o&&"fixed top-1600"):"de:absolute"),"data-test":"LoadingLine"},void 0,c&&(0,a.Z)("div",{style:{"--loading-scale-x":`${p}%`,"--transition-duration":g},className:"absolute h-[3px] w-full start-0 ltr:origin-left rtl:origin-right ease-linear scale-x-[--loading-scale-x] transition-transform duration-[--transition-duration] bg-blue-normal"}))}},57651:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PrebookingStation",selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"City",kind:"LinkedField",name:"city",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Station",abstractKey:null};a.hash="a51954ece25ab764e18acf0b5fa21b98";let l=a},5889:function(e,t,i){var a,l,r,n,o;i.r(t),i.d(t,{default:function(){return d}});let s=(n=[{alias:null,args:null,concreteType:"SectorSegment",kind:"LinkedField",name:"sectorSegments",plural:!0,selections:[{alias:null,args:null,concreteType:"Segment",kind:"LinkedField",name:"segment",plural:!1,selections:[r={alias:null,args:null,concreteType:"Stop",kind:"LinkedField",name:"source",plural:!1,selections:l=[a={alias:null,args:null,concreteType:"Station",kind:"LinkedField",name:"station",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PrebookingStation"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localTime",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Stop",kind:"LinkedField",name:"destination",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TripInfo",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Sector",kind:"LinkedField",name:"sector",plural:!1,selections:n,storageKey:null}],type:"ItineraryOneWay",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Sector",kind:"LinkedField",name:"outbound",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sector",kind:"LinkedField",name:"inbound",plural:!1,selections:[{alias:null,args:null,concreteType:"SectorSegment",kind:"LinkedField",name:"sectorSegments",plural:!0,selections:[{alias:null,args:null,concreteType:"Segment",kind:"LinkedField",name:"segment",plural:!1,selections:[o={alias:null,args:null,concreteType:"Stop",kind:"LinkedField",name:"destination",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"ItineraryReturn",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Sector",kind:"LinkedField",name:"sectors",plural:!0,selections:[{alias:null,args:null,concreteType:"SectorSegment",kind:"LinkedField",name:"sectorSegments",plural:!0,selections:[{alias:null,args:null,concreteType:"Segment",kind:"LinkedField",name:"segment",plural:!1,selections:[r,o],storageKey:null}],storageKey:null}],storageKey:null}],type:"ItineraryMulticity",abstractKey:null}],type:"Itinerary",abstractKey:"__isItinerary"});s.hash="ef6ab3b4572f81afde5c3dff7fe4d925";let d=s},9393:function(e,t,i){var a,l,r,n,o,s,d,u,c,v;i.r(t),i.d(t,{default:function(){return p}});let m=(v={kind:"InlineFragment",selections:[{alias:"error",args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"AppError",abstractKey:null},{fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"cabinClass"},l={defaultValue:null,kind:"LocalArgument",name:"carrier"},r={defaultValue:null,kind:"LocalArgument",name:"code"},n={defaultValue:null,kind:"LocalArgument",name:"destination"},o={defaultValue:null,kind:"LocalArgument",name:"outboundDepartureDate"},s={defaultValue:null,kind:"LocalArgument",name:"source"}],kind:"Fragment",metadata:null,name:"SeatInfoFetcherQuery",selections:[{alias:null,args:d=[{kind:"Variable",name:"cabinClass",variableName:"cabinClass"},{kind:"Variable",name:"carrier",variableName:"carrier"},{kind:"Variable",name:"code",variableName:"code"},{kind:"Variable",name:"destination",variableName:"destination"},{kind:"Variable",name:"outboundDepartureDate",variableName:"outboundDepartureDate"},{kind:"Variable",name:"source",variableName:"source"}],concreteType:null,kind:"LinkedField",name:"seatInfo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SeatInfoRenderer"},{kind:"InlineDataFragmentSpread",name:"SeatInfoFetcherTracking",selections:[c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"pitch",plural:!1,selections:u=[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"width",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"recline",plural:!1,selections:u,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWifi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"powerAvailable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audioVideoAvailable",storageKey:null}],type:"SeatInfo",abstractKey:null}],args:null,argumentDefinitions:[]},v],storageKey:null}],type:"RootQuery",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,r,o,s,n,a],kind:"Operation",name:"SeatInfoFetcherQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"seatInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,v],storageKey:null}]},params:{cacheID:"35aa1da81f24cd9da2ff722ea17fb205",id:null,metadata:{},name:"SeatInfoFetcherQuery",operationKind:"query",text:"query SeatInfoFetcherQuery(\n  $carrier: ID!\n  $code: String!\n  $outboundDepartureDate: DateTime!\n  $source: ID!\n  $destination: ID!\n  $cabinClass: CabinClassType!\n) {\n  seatInfo(carrier: $carrier, code: $code, outboundDepartureDate: $outboundDepartureDate, source: $source, destination: $destination, cabinClass: $cabinClass) {\n    __typename\n    ...SeatInfoRenderer\n    ...SeatInfoFetcherTracking\n    ... on AppError {\n      error: message\n    }\n  }\n}\n\nfragment SeatInfoFetcherTracking on SeatInfo {\n  pitch {\n    value\n    unit\n  }\n  width {\n    value\n    unit\n  }\n  recline {\n    value\n    unit\n  }\n  hasWifi\n  powerAvailable\n  audioVideoAvailable\n}\n\nfragment SeatInfoRenderer on SeatInfo {\n  pitch {\n    value\n    unit\n  }\n  width {\n    value\n    unit\n  }\n  recline {\n    value\n    unit\n  }\n  hasWifi\n  powerAvailable\n  audioVideoAvailable\n}\n"}});m.hash="9cddf758b6b067e7b5219e7629e25f5d";let p=m},33420:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={kind:"InlineDataFragment",name:"SeatInfoFetcherTracking"};a.hash="3840b6ee98456ad072aac72e95985443";let l=a},86294:function(e,t,i){var a;i.r(t),i.d(t,{default:function(){return r}});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeatInfoRenderer",selections:[{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"pitch",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"width",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"recline",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWifi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"powerAvailable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audioVideoAvailable",storageKey:null}],type:"SeatInfo",abstractKey:null};l.hash="e1fa7fee9b44e741cc682d3e8566f1de";let r=l},60982:function(e,t,i){i.d(t,{Z:()=>ex});var a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y=i("63127");i("40777"),i("36330"),i("38221"),i("75863");var k=i("5588"),x=i("96345"),_=i("59126"),w=i("5406"),C=i("38505"),S=i("51636"),N=i("58119"),T=i("39903"),I=i("15740"),R=i("24174"),A=i("34007"),F=i("27771"),D=i("33566"),P=i("1410"),E=i("67294"),L=i("86896"),B=i("44012"),K=i("39719"),O=i("22578"),M=i("42372"),j=i("17306"),z=i("50767");let V={category:"price alert",attributesType:z.KP.PRICE_ALERT,action:"submit",destinations:z.Rj},$={category:"price alert",attributesType:z.KP.PRICE_ALERT,action:"clicked while not logged in",destinations:z.Rj},U={category:"price alert",attributesType:z.KP.PRICE_ALERT,action:"created",destinations:z.Rj},G={category:"price alert",attributesType:z.KP.PRICE_ALERT,action:"deleted",destinations:z.Rj},H={category:"price alert",attributesType:z.KP.PRICE_ALERT,action:"error",destinations:z.Rj};var W=i("45022"),q=i("3279"),Q=i("25298"),J=i("61701"),Y=i("36707"),X=i("9034"),ee=i("64138"),et=i("27244");let ei=()=>{let e=(0,et.Z)(),t=(0,ee.Z)(),i=(0,X.K)();return(0,E.useCallback)(()=>{e({module:"search",category:"price alert",action:"created",event_name:"search: price alert: created",props:{...t,search_session_id:null!=i?i:void 0}})},[t,i,e])};var ea=i("79021"),el=i("50823"),er=i("46773"),en=i("70410");let eo=void 0!==a?a:a=i(47787),es=void 0!==l?l:l=i(61446),ed=e=>{let{searchFingerprint:t,price:i,language:a,currency:l,userEmail:r,brandId:n,threshold:o}=e;return{searchFingerprint:t,userEmail:r,url:`${window.location.pathname}${window.location.search}`,locale:a,price:null==i?null:{amount:String(i),currency:l},brand:n,threshold:o,exponeaCookie:(0,er.load)(er.Cookie.EXPONEA)}},eu=(e,t,i,a)=>new Promise((i,a)=>{(0,O.commitMutation)(e,{mutation:eo,variables:t,onCompleted:(e,t)=>i({result:e,errors:t}),onError:a})}).then(e=>{var l;let{result:r,errors:n}=e;if(!r)throw i(H,{status:500}),Error("generalError");if(n&&n.length>0)throw Error(`${n.map(e=>e.message).join(" ")}`);let{errorCode:o=null,confirmed:s=!1,id:d}=null!==(l=r.createPriceAlert)&&void 0!==l?l:{errorCode:null,confirmed:!1,id:null};if(null!==o)switch(i(H,{status:o}),o){case"455":throw Error("notLoggedIn");case"451":throw Error("[priceAlert] alreadyHasPriceAlert");default:throw Error("generalError")}return a(),i(U),en.Z.track(M.sg,{action:"submit",payload:JSON.stringify(t)}),{confirmed:!!s,id:d}}).catch(e=>{if(null!=e&&e.message.includes("Email is not valid"))throw Error("notValid");throw e}),ec=(e,t,i)=>new Promise((i,a)=>{(0,O.commitMutation)(e,{mutation:es,variables:t,onCompleted:(e,t)=>i({result:e,errors:t}),onError:a})}).then(e=>{var a;let{result:l,errors:r}=e;if(!l)throw i(H,{status:500}),Error("generalError");if(r&&r.length>0)throw Error(`${r.map(e=>e.message).join(" ")}`);let{deleted:n=!1,errorCode:o=null}=null!==(a=l.deletePriceAlert)&&void 0!==a?a:{deleted:!1,errorCode:null};if(null!==o){if(i(H,{status:o}),"455"===o)throw Error("notLoggedIn");throw Error("generalError")}return i(G),en.Z.track(M.sg,{action:"submit",payload:JSON.stringify(t)}),{deleted:!!n}});var ev=i("21406"),em=i("95882"),ep=i("30711"),ef=i("24031"),eg=i("33824"),eh=i("4845"),eZ=i("54056");let eb=e=>{let{isLoading:t,isDisabled:i,handleTriggerChange:a,children:l}=e;return t?(0,y.Z)("div",{"data-test":"PriceAlert-compact",className:"me-100 bg-button-link-primary-background py-150"},void 0,l):(0,y.Z)("button",{type:"button","data-test":"PriceAlert-compact",onClick:a,disabled:i,className:"me-100 bg-button-link-primary-background py-150"},void 0,l)};var ey=i("85893");let ek=(e,t)=>t?e({id:"common.price_alert"}):e({id:"common.create_price_alert"}),ex=(0,O.createFragmentContainer)(e=>{let{compact:t=!1,inFiltersModal:i=!1,data:a,isLoading:l}=e,r=(0,eZ.SK)(),{formatMessage:z}=(0,L.Z)(),{alertExists:U,bestPrice:G,searchFingerprint:H,shouldCreatePriceAlert:X,id:ee}=(0,K.v9)(ep.u),[et,er]=(0,E.useState)(U),eo=!!G,es=l||!eo,ex=ek(z,!!et),e_=(0,k.useUser)(),ew=(0,K.v9)(W.F9),eC=(0,K.v9)(Q.EW),eS=(0,x.default)(),eN=(0,K.v9)(ev.Zv),eT=(0,K.v9)(ev.BX),eI=(0,O.useRelayEnvironment)(),eR=(0,K.v9)(ea.p).get("sortBy"),{onOpenModal:eA}=(0,k.useAuth)(),eF=(0,k.useIsLoggedIn)(),eD=(0,K.I0)(),eP=(0,K.v9)(ef.D6),[eE,eL]=(0,E.useState)(!1),{postMessage:eB}=(0,el.U)(),eK=(0,Y.Z)(),{isMobile:eO}=(0,q.Z)(),eM=ei();(0,E.useEffect)(()=>{a&&eD((0,em.DP)(a,eR))},[a,eR,eD]),(0,E.useEffect)(()=>{l?er(!1):er(U)},[U,l]);let ej=(0,E.useCallback)(()=>{r(V)},[r]),ez=(0,E.useCallback)(()=>{var e;return en.Z.track(M.sg,{action:"submit"}),r(j.lq,{type:"PriceAlert"}),ej(),eu(eI,ed({searchFingerprint:H,price:G,userEmail:null!==(e=null==e_?void 0:e_.email)&&void 0!==e?e:"",language:eT,currency:eC,brandId:ew}),r,eM)},[G,ew,eC,eI,eT,eM,H,ej,null==e_?void 0:e_.email,r]),eV=(0,E.useCallback)(async()=>{if(!0===et)eL(!0);else{er(!0);try{let{confirmed:e,id:t}=await ez();e?(eD((0,em.Jt)(!0,t)),(0,I.createToast)(z({id:"search.price_alert.toast.create_confirmed"}),{icon:n||(n=(0,y.Z)(A.default,{}))})):er(!1)}catch(e){er(!1),(0,J.Z)(Error("[priceAlert] Create mutation error"),{tag:"priceAlert_create_error",value:e instanceof Error?e.message:String(e)}),(0,I.createToast)(z({id:"common.api_error"}),{icon:o||(o=(0,y.Z)(_.default,{}))})}}},[ez,eD,et,z]),e$=(0,E.useCallback)(()=>{eL(!1)},[]),eU=(0,E.useCallback)(async()=>{if(eL(!1),null==ee){(0,J.Z)(Error("[priceAlert] Delete mutation - missing id"),{tag:"priceAlert_delete_missingId",value:String(ee)});return}try{var e;let{deleted:t}=await ec(eI,{id:ee,searchFingerprint:H,userEmail:null!==(e=null==e_?void 0:e_.email)&&void 0!==e?e:""},r);t&&(er(!1),eD((0,em.Jt)(!1,null)),(0,I.createToast)(z({id:"search.price_alert.toast.delete_confirmed"}),{icon:s||(s=(0,y.Z)(F.default,{}))}))}catch(e){(0,J.Z)(Error("[priceAlert] Delete mutation error"),{tag:"priceAlert_delete_error",value:e instanceof Error?e.message:String(e)}),(0,I.createToast)(z({id:"common.api_error"}),{icon:d||(d=(0,y.Z)(_.default,{}))})}},[eD,eI,ee,H,z,null==e_?void 0:e_.email,r]),eG=(0,E.useCallback)(async()=>{if(eF){eV(),eg.Z.track("search","priceAlertOn",(0,eh._)(eP));return}r($),eN?(await eB({message:"sign-in-before-price-alerts"}),window.history.pushState({isPriceAlert:!0},"","#priceAlert")):(eO&&window.history.pushState({isPriceAlert:!0},"","#priceAlert"),eA({initialScreen:"intro",onSignInFulfill:()=>{eK("price_alert"),eg.Z.track("search","priceAlertOn",(0,eh._)(eP)),eD((0,em.YJ)(!0))}}))},[eD,eF,eN,eA,eB,eP,eV,r]);return(0,E.useEffect)(()=>{if(l)return;let e=new URLSearchParams(window.location.search);eN&&eS&&eF&&"true"===e.get("shouldCreatePriceAlert")&&(eV(),e.delete("shouldCreatePriceAlert"),window.history.replaceState(null,"",`${window.location.href.split("?")[0]}${e.size>0?`?${e.toString()}`:""}`)),X&&(eD((0,em.YJ)(!1)),eV())},[eD,eF,l,eS,eN,X,eV]),(0,ey.jsxs)(ey.Fragment,{children:[t?(0,y.Z)(eb,{isLoading:l,isDisabled:es,handleTriggerChange:eG},void 0,l?u||(u=(0,y.Z)("div",{className:"h-800"},void 0,(0,y.Z)(S.default,{width:32,height:32}))):(0,y.Z)(w.default,{asComponent:"div",size:"small",disabled:es,iconLeft:!0===et?c||(c=(0,y.Z)(D.default,{})):v||(v=(0,y.Z)(A.default,{})),type:"secondary",title:ex})):(0,y.Z)("div",{"data-test":"PriceAlert-full",className:(0,P.Z)("pt-300",i?"pb-100":"mb-400 border-0 border-b border-solid border-b-cloud-normal pb-600")},void 0,(0,y.Z)("div",{className:"mb-200 flex items-center justify-between"},void 0,m||(m=(0,y.Z)("label",{className:"text-large font-bold leading-large text-primary-foreground",htmlFor:"priceAlert"},void 0,(0,y.Z)(B.Z,{id:"search.price_alert.title"}))),(0,y.Z)(N.default,{id:"priceAlert",checked:!!et,disabled:es,icon:p||(p=(0,y.Z)(R.default,{size:"small"})),onChange:eG})),f||(f=(0,y.Z)(T.default,{},void 0,(0,y.Z)(B.Z,{id:"search.price_alert.description"})))),eE&&(0,y.Z)(C.default,{dataTest:"PriceAlert-delete-dialog",title:g||(g=(0,y.Z)(B.Z,{id:"search.price_alert.delete_dialog.title"})),description:h||(h=(0,y.Z)("span",{className:"block max-w-[500px]"},void 0,(0,y.Z)(B.Z,{id:"search.price_alert.delete_dialog.description"}))),primaryAction:(0,y.Z)(w.default,{type:"critical",onClick:eU},void 0,Z||(Z=(0,y.Z)(B.Z,{id:"search.price_alert.delete_dialog.delete_button"}))),secondaryAction:(0,y.Z)(w.default,{type:"secondary",onClick:e$},void 0,b||(b=(0,y.Z)(B.Z,{id:"search.price_alert.delete_dialog.cancel_button"})))})]})},{data:void 0!==r?r:r=i(32043)})},32043:function(e,t,i){var a;i.r(t),i.d(t,{default:function(){return r}});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceAlert_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"priceAlertExists",storageKey:null},{alias:null,args:null,concreteType:"PriceAlert",kind:"LinkedField",name:"existingPriceAlert",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"searchFingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasMorePending",storageKey:null},{alias:null,args:null,concreteType:"PriceAlertsTopResults",kind:"LinkedField",name:"priceAlertsTopResults",plural:!1,selections:[{alias:null,args:null,concreteType:"PriceAlertsTopResult",kind:"LinkedField",name:"best",plural:!1,selections:a=[{alias:null,args:null,concreteType:"Money",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PriceAlertsTopResult",kind:"LinkedField",name:"cheapest",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PriceAlertsTopResult",kind:"LinkedField",name:"fastest",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PriceAlertsTopResult",kind:"LinkedField",name:"sourceTakeoffAsc",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PriceAlertsTopResult",kind:"LinkedField",name:"destinationLandingAsc",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"ItinerariesMetadata",abstractKey:null};l.hash="2b2ee9ce4e956d7b92db3da6dfbc74ab";let r=l},758:function(e,t,i){i.d(t,{Z:function(){return a}});let a=(0,i(67294).lazy)(()=>Promise.all([i.e("5299"),i.e("7554")]).then(i.bind(i,44242)))},79963:function(e,t,i){i.d(t,{Bb:function(){return E},Wq:function(){return V},Z0:function(){return z},cw:function(){return j},fV:function(){return P},pc:function(){return K}});var a=i(74094),l=i(87449),r=i(58631),n=i(45109),o=i(66686),s=i(41958),d=i(29500),u=i(99081),c=i(90146),v=i(96167),m=i(57902),p=i(27356),f=i(29495),g=i(38895),h=i(10499),Z=i(18252),b=i(25298),y=i(78291),k=i(72208),x=i(44198),_=i(42195),w=i(21406),C=i(31164),S=i(23101),N=i(20721),T=i(73561),I=i(94853),R=i(20890),A=i(30045),F=i(25590);let D=(e,t)=>t.shouldShowNoResultsPriceMatrixOrGraph,P=(0,c.P1)([D,(0,x.W$)("simple"),C.km],(e,t,i)=>e?"resultsPage"===i&&t.cabinClass.type===p.Ux&&!(0,f.rP)(h._7("destination",t))&&(h.iJ(t)===h.xd.return&&(0,g.n5)(t.inboundDate)||h.iJ(t)===h.xd.oneWay)&&((0,g.Ws)(t.outboundDate)&&(0,l.w)(t.outboundDate.from,new Date)<m.eJ-m.Sc||(0,g.l2)(t.outboundDate)):"resultsPage"===i&&t.cabinClass.type===p.Ux&&!(0,f.rP)(h._7("destination",t))&&(h.iJ(t)===h.xd.return&&(0,g.n5)(t.inboundDate)||h.iJ(t)===h.xd.oneWay)&&(0,g.uz)(t.outboundDate)&&(0,g.Ws)(t.outboundDate)&&(0,l.w)(t.outboundDate.from,new Date)<m.eJ-m.Sc),E=(0,c.P1)([(0,x.W$)("simple")],e=>e.destination.places.reduce((e,t)=>{let i=(0,k.p0)(t);return""===e?i:i?`${e}, ${i}`:e},"")),L=(0,c.P1)([(e,t)=>t.startDate,(e,t)=>t.endDate,(e,t)=>t.tripLengthFrom,(e,t)=>t.tripLengthTo,(e,t)=>t.searchForm,(0,x.W$)("simple")],(e,t,i,a,l,r)=>{let n=(0,g.$m)(e,t),o=null!=l?l:r;if(o=h.GS(n,"outboundDate",o),h.iJ(o)===h.xd.return){let e=(0,g.Vk)(i,a);o=h.GS(e,"inboundDate",o)}return o}),B=e=>{let{origin:t,destination:i,outboundDate:a,inboundDate:l,passengers:r,cabinClass:o,bags:s}=e,d=(0,N.hY)(a);return{itinerary:{source:{ids:t.places.map(Z.mh).filter(I.v)},destination:{ids:i.places.map(Z.mh).filter(I.v)},outboundDepartureDate:{start:(0,n.WU)(d.from,v.Z.umbrellaDateTimeFormat),end:(0,n.WU)(d.to,v.Z.umbrellaDateTimeFormat)},nightsCount:(0,g.Es)(l)?{start:l.min,end:l.max}:null},passengers:(0,N.es)(r,s),cabinClass:(0,N.$O)(o)}},K=(0,c.P1)([L,y.rh,S.T,b.r7,_.iF,w.Jw,A.l],(e,t,i,a,l,r,n)=>o=>{let{priceElasticityGuaranteeTestValue:s,user:d}=o;return{search:B(e),filter:(0,N.E6)({searchForm:e,filtersState:t,options:i,providers:(0,T.Y)({...i,allowFresh:!1,allowKayak:!1,allowWego:!1,allowU2:!1,userMarket:n},l),currencyData:a}),options:(0,N.Ph)({searchForm:e,filtersState:t,options:i,currency:a.id,ui:r,priceElasticityGuaranteeTestValue:s,market:n,userEmail:(0,R.gV)(d)})}}),O=(e,t,i)=>{let a={};(0,r.D)({start:t,end:i}).forEach(t=>{let i=(0,F.iZ)(t);a[i]=e[i]});let l=Object.values(a).filter(Boolean),n=l.length?Math.min(...l):0;return{min:n,max:l.length?Math.max(...l):0}},M=(e,t,i,a)=>{if(!i||0===t||0===e||t-e==0)return 0;let l=a-m.OX;return l-(i-e)/(t-e)*l},j=(0,c.P1)([(e,t)=>t.datePrices,(e,t)=>t.firstVisibleDate,(e,t)=>t.lastVisibleDate,(e,t)=>t.maxHistColumnHeight],(e,t,i,l)=>{let{min:n,max:d}=O(e,t,i),{min:c,max:v}=O(e,(0,u.k)(t,m.UB),(0,u.k)(i,m.UB)),{min:p,max:f}=O(e,(0,a.E)(t,m.UB),(0,a.E)(i,m.UB)),g={};return(0,r.D)({start:(0,u.k)(t,m.UB),end:(0,a.E)(i,m.UB)}).forEach(a=>{let r=(0,F.iZ)(a),u=e[r]||0;(0,s.R)(a,t)?g[r]=M(c,v,u,l):(0,o.A)(a,i)?g[r]=M(p,f,u,l):g[r]=M(n,d,u,l)}),g}),z=(0,c.P1)([D,x.Mp],(e,t)=>{let i=(0,h._3)("outboundDate",t);return(0,g.Ws)(i)&&!(0,s.R)(null==i?void 0:i.from,(0,d.b)(new Date))?new Date(e?i.to:i.from):(0,d.b)(new Date)}),V=(0,c.P1)([x.Mp,z],(e,t)=>{let i=(0,h._3)("inboundDate",e);return(0,g.Ws)(i)?{tripLengthFrom:(0,F.Nu)((0,l.w)(i.from,t)),tripLengthTo:(0,F.Nu)((0,l.w)(i.to,t))}:(0,g.Es)(i)?{tripLengthFrom:i.min,tripLengthTo:i.max}:h.iJ(e)===h.xd.oneWay?{tripLengthFrom:0,tripLengthTo:0}:{tripLengthFrom:1,tripLengthTo:1}})},77940:function(e,t,i){i.d(t,{Z:function(){return o}});var a=i(71654),l=i(5588),r=i(39719),n=i(79963);let o=e=>{let t=(0,a.useTest)("PRICE_ELASTICITY_GUARANTEE_FEE_MAX"),i=(0,l.useUser)();return(0,r.v9)(t=>(0,n.pc)(t,e))({priceElasticityGuaranteeTestValue:t,user:i})}},25590:function(e,t,i){i.d(t,{Nu:function(){return u},X5:function(){return c},fh:function(){return p},iZ:function(){return v},r9:function(){return m}});var a=i(425),l=i.n(a),r=i(45109),n=i(85018),o=i(7535),s=i(57902),d=i(94853);let u=e=>e>s.Ll?s.Ll:e,c=(e,t)=>Math.ceil((e+t)/2),v=e=>(0,r.WU)(e,"yyyy-MM-dd"),m=e=>l()(((null==e?void 0:e.prices)||[]).filter(d.v).map(e=>{let{date:t,price:i}=e,{amount:a}=i||{};return t&&a&&a.length>0?[v((0,o.R)(t)),Number.parseFloat(a)]:null}).filter(d.v)),p=(e,t,i)=>i?(0,n.x)(t,i)?`${(0,r.WU)(t,"MMM dd",{locale:e})} – ${(0,r.WU)(i,"dd",{locale:e})}`:`${(0,r.WU)(t,"MMM dd",{locale:e})} – ${(0,r.WU)(i,"MMM dd",{locale:e})}`:(0,r.WU)(t,"MMM dd",{locale:e})},49117:function(e,t,i){i.d(t,{Z:function(){return a}});let a=(0,i(67294).lazy)(()=>Promise.all([i.e("5299"),i.e("6875")]).then(i.bind(i,64670)))},13194:function(e,t,i){i.d(t,{Z:function(){return o}});var a=i(63127),l=i(19147),r=i(27151);let n=(0,i(19993).defineMessages)({matrix:{id:"search.price_matrix.pricing_table"},graph:{id:"search.pricegraph.price_trends"},charts:{id:"search.price_trends.pricing_charts"}}),o={matrix:{message:n.matrix,icon:(0,a.Z)(r.default,{size:"small"})},graph:{message:n.graph,icon:(0,a.Z)(l.default,{size:"small"})},charts:{message:n.charts,icon:(0,a.Z)(l.default,{size:"small"})}}},19846:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"QuickNavigationPrice",selections:[{alias:null,args:null,concreteType:"Money",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"roundedAmount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratedPrice",storageKey:null}],type:"PriceGraphItem",abstractKey:null};a.hash="3b2ea02343d93ff519aa666f2a96ad83";let l=a},5166:function(e,t,i){var a,l,r,n,o;i.r(t),i.d(t,{default:function(){return d}});let s={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"filter"},l={defaultValue:null,kind:"LocalArgument",name:"options"},r={defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:null,name:"useQuickNavPricesQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"search",variableName:"search"}],concreteType:null,kind:"LinkedField",name:"itineraryPriceGraph",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PriceGraphItem",kind:"LinkedField",name:"prices",plural:!0,selections:[o={alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{args:null,kind:"FragmentSpread",name:"QuickNavigationPrice"}],storageKey:null}],type:"ItineraryPriceGraph",abstractKey:null}],storageKey:null}],type:"RootQuery",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,a,l],kind:"Operation",name:"useQuickNavPricesQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"itineraryPriceGraph",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PriceGraphItem",kind:"LinkedField",name:"prices",plural:!0,selections:[o,{alias:null,args:null,concreteType:"Money",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"roundedAmount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratedPrice",storageKey:null}],storageKey:null}],type:"ItineraryPriceGraph",abstractKey:null}],storageKey:null}]},params:{cacheID:"1533e7e1c2e0369c9a2e359a0aa706e3",id:null,metadata:{},name:"useQuickNavPricesQuery",operationKind:"query",text:"query useQuickNavPricesQuery(\n  $search: SearchPriceGraphInput\n  $filter: ItinerariesFilterInput\n  $options: ItinerariesOptionsInput\n) {\n  itineraryPriceGraph(search: $search, filter: $filter, options: $options) {\n    __typename\n    ... on ItineraryPriceGraph {\n      prices {\n        date\n        ...QuickNavigationPrice\n      }\n    }\n  }\n}\n\nfragment QuickNavigationPrice on PriceGraphItem {\n  price {\n    roundedAmount\n  }\n  ratedPrice\n}\n"}};s.hash="80e0daed06ec03ee7452f8b732161ea9";let d=s},51951:function(e,t,i){var a,l,r,n,o,s,d,u,c,v;i.r(t),i.d(t,{default:function(){return p}});let m=(v={kind:"InlineFragment",selections:[{alias:"error",args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"AppError",abstractKey:null},{fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"cabinClass"},l={defaultValue:null,kind:"LocalArgument",name:"carrier"},r={defaultValue:null,kind:"LocalArgument",name:"code"},n={defaultValue:null,kind:"LocalArgument",name:"destination"},o={defaultValue:null,kind:"LocalArgument",name:"outboundDepartureDate"},s={defaultValue:null,kind:"LocalArgument",name:"source"}],kind:"Fragment",metadata:null,name:"FlightDetailQuery",selections:[{alias:null,args:d=[{kind:"Variable",name:"cabinClass",variableName:"cabinClass"},{kind:"Variable",name:"carrier",variableName:"carrier"},{kind:"Variable",name:"code",variableName:"code"},{kind:"Variable",name:"destination",variableName:"destination"},{kind:"Variable",name:"outboundDepartureDate",variableName:"outboundDepartureDate"},{kind:"Variable",name:"source",variableName:"source"}],concreteType:null,kind:"LinkedField",name:"seatInfo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SectorSegmentDetailFlight"},{kind:"InlineDataFragmentSpread",name:"FlightDetailTracking",selections:[c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"pitch",plural:!1,selections:u=[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"width",plural:!1,selections:u,storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"recline",plural:!1,selections:u,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWifi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"powerAvailable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audioVideoAvailable",storageKey:null}],type:"SeatInfo",abstractKey:null}],args:null,argumentDefinitions:[]},v],storageKey:null}],type:"RootQuery",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,r,o,s,n,a],kind:"Operation",name:"FlightDetailQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"seatInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,v],storageKey:null}]},params:{cacheID:"904bd5d9240d898c1af487a6f1980151",id:null,metadata:{},name:"FlightDetailQuery",operationKind:"query",text:"query FlightDetailQuery(\n  $carrier: ID!\n  $code: String!\n  $outboundDepartureDate: DateTime!\n  $source: ID!\n  $destination: ID!\n  $cabinClass: CabinClassType!\n) {\n  seatInfo(carrier: $carrier, code: $code, outboundDepartureDate: $outboundDepartureDate, source: $source, destination: $destination, cabinClass: $cabinClass) {\n    __typename\n    ...SectorSegmentDetailFlight\n    ...FlightDetailTracking\n    ... on AppError {\n      error: message\n    }\n  }\n}\n\nfragment FlightDetailTracking on SeatInfo {\n  pitch {\n    value\n    unit\n  }\n  width {\n    value\n    unit\n  }\n  recline {\n    value\n    unit\n  }\n  hasWifi\n  powerAvailable\n  audioVideoAvailable\n}\n\nfragment SectorSegmentDetailFlight on SeatInfo {\n  pitch {\n    value\n    unit\n  }\n  width {\n    value\n    unit\n  }\n  recline {\n    value\n    unit\n  }\n  hasWifi\n  powerAvailable\n  audioVideoAvailable\n}\n"}});m.hash="7202d3b9fc50802be855475068868d3f";let p=m},81079:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={kind:"InlineDataFragment",name:"FlightDetailTracking"};a.hash="cb11ab87f03aa2e54667dc6ba1aae861";let l=a},88228:function(e,t,i){var a,l,r,n,o,s,d,u,c,v;i.r(t),i.d(t,{default:function(){return p}});let m={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"before"},r={defaultValue:null,kind:"LocalArgument",name:"filter"},n={defaultValue:null,kind:"LocalArgument",name:"first"},o={defaultValue:null,kind:"LocalArgument",name:"last"},s={defaultValue:null,kind:"LocalArgument",name:"options"},d={defaultValue:null,kind:"LocalArgument",name:"search"}],kind:"Fragment",metadata:null,name:"SectorNightsAccommodationQuery",selections:[{alias:null,args:u=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"search",variableName:"search"}],concreteType:null,kind:"LinkedField",name:"availableAccommodations",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AccommodationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Accommodation",kind:"LinkedField",name:"node",plural:!1,selections:[c={alias:null,args:null,concreteType:"Money",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"AccommodationConnection",abstractKey:null},v={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"AppError",abstractKey:null}],storageKey:null}],type:"RootQuery",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,r,s,n,o,l,a],kind:"Operation",name:"SectorNightsAccommodationQuery",selections:[{alias:null,args:u,concreteType:null,kind:"LinkedField",name:"availableAccommodations",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AccommodationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Accommodation",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"AccommodationConnection",abstractKey:null},v],storageKey:null}]},params:{cacheID:"fc409a374ab3dcba5adb2e2ee6ad9147",id:null,metadata:{},name:"SectorNightsAccommodationQuery",operationKind:"query",text:"query SectorNightsAccommodationQuery(\n  $search: SearchAccommodationsInput!\n  $filter: AccommodationsFilterInput\n  $options: AccommodationsOptionsInput\n  $first: Int\n  $last: Int\n  $before: String\n  $after: String\n) {\n  availableAccommodations(search: $search, filter: $filter, options: $options, first: $first, last: $last, before: $before, after: $after) {\n    __typename\n    ... on AccommodationConnection {\n      edges {\n        node {\n          price {\n            amount\n          }\n          id\n        }\n      }\n    }\n    ... on AppError {\n      message\n    }\n  }\n}\n"}};m.hash="2f173ce707ed35df3196e8e574de16d7";let p=m},97966:function(e,t,i){var a;i.r(t),i.d(t,{default:function(){return r}});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SectorSegmentDetailFlight",selections:[{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"pitch",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"width",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"SeatDimension",kind:"LinkedField",name:"recline",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWifi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"powerAvailable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audioVideoAvailable",storageKey:null}],type:"SeatInfo",abstractKey:null};l.hash="c321be8dc62d309604efa4c0e739bbf5";let r=l},87214:function(e,t,i){i.d(t,{Z:function(){return u}});var a,l=i(63127),r=i(96345),n=i(67875),o=i(1410),s=i(67294),d=i(3397);let u=e=>{let{visible:t=!1}=e,i=(0,r.default)(),u=(0,s.useCallback)(()=>{(0,d.k3)()},[]);return i?(0,l.Z)("button",{type:"button",onClick:u,"data-test":"scrollToTopButton",className:(0,o.Z)("pointer-events-none fixed bottom-[70px] z-[calc(theme(zIndex.sticky)-1)] cursor-pointer rounded-150 bg-cloud-normal p-300 opacity-0 shadow-level2 transition-opacity duration-[1s] ease-in-out safe-end-400 hover:bg-cloud-normal-hover focus:bg-cloud-normal-hover",t&&"pointer-events-auto opacity-100")},void 0,a||(a=(0,l.Z)(n.default,{}))):null}},6863:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AirlinesFilter_data",selections:[{alias:null,args:null,concreteType:"Carrier",kind:"LinkedField",name:"carriers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"ItinerariesMetadata",abstractKey:null};a.hash="0fe09fc4a408bcdb8951b4aac568b1f8";let l=a},10620:function(e,t,i){i.d(t,{Z:function(){return Z}});var a=i(63127),l=i(51035),r=i(21548),n=i.n(r),o=i(67294),s=i(44012),d=i(39719),u=i(45716),c=i(2119),v=i(45547),m=i(24031),p=i(33824),f=i(4845),g=i(39157),h=i(85893);let Z=(0,o.memo)(e=>{let{onClick:t,message:i,showPopup:r,onClosePopup:Z,bags:b,filterName:y,isMobile:k}=e,[x,_]=(0,o.useState)(void 0),w=(0,d.v9)(m.D6),C=!c.s5(b),S=x||b,N=(0,v.C)();(0,o.useEffect)(()=>{k&&r?_(b):!k&&r?_(void 0):!r&&_(void 0)},[k,r,b,_]);let T=(0,o.useCallback)(e=>{let t={...w,bags:e};N(t),p.Z.track("search","setBags",(0,f._)(t))},[w,N]),I=(0,o.useCallback)(e=>{x?_(e):T(e)},[T,_,x]);return(0,a.Z)(g.Z,{selected:C,opened:r,message:i,popoverContent:(0,a.Z)("div",{className:"relative bg-white-normal p-400 pb-600 lm:pb-400","data-test":`PopupFilterContent-${y}`},void 0,(0,a.Z)("div",{className:"lm:hidden"},void 0,(0,a.Z)("div",{className:"pt-200"},void 0,(0,a.Z)(l.default,{type:"title2",spaceAfter:"largest"},void 0,(0,h.jsx)(s.Z,{...i})))),(0,a.Z)(u.Z,{id:"bagsPickerFilters",bags:S,onChange:I})),setFilter:n()(T,null,S),resetFilter:n()(T,null,c.mc(b)),onOpenPopover:t,onClosePopover:Z,filterName:y,isMobile:k})})},61274:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CountriesFilter_data",selections:[{alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"stopoverCountries",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"ItinerariesMetadata",abstractKey:null};a.hash="6b5d74ed8fdf4675945c73647a92f884";let l=a},32879:function(e,t,i){i.d(t,{i:()=>tU,Z:()=>tG});var a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x,_,w,C,S,N,T,I,R,A,F,D,P,E,L,B,K,O,M,j,z,V,$,U,G,H=i("63127"),W=i("51035"),q=i("21548"),Q=i.n(q),J=i("67294"),Y=i("44012"),X=i("87775"),ee=i("33297"),et=i("10499"),ei=i("32331"),ea=i("22578"),el=i("90086"),er=i.n(el),en=i("51383"),eo=i.n(en),es=i("1667"),ed=i.n(es);i("67886"),i("65451"),i("46015"),i("38334"),i("94880"),i("75643"),i("29761");var eu=i("86896"),ec=i("39719"),ev=i("20792"),em=i("58796"),ep=i("94853"),ef=i("10449"),eg=i.n(ef),eh=i("96345"),eZ=i("5406"),eb=i("19342"),ey=i("31291"),ek=i("46501"),ex=i("49293"),e_=i("39903"),ew=i("31735"),eC=i("63745"),eS=i("81197"),eN=i("4076"),eT=i("1410"),eI=i("3279"),eR=i("7007"),eA=i("85893");let eF=(0,J.forwardRef)((e,t)=>{let{isDesktop:i}=(0,eI.Z)(),{formatMessage:r}=(0,eu.Z)(),{onChange:n,placeholder:o,value:s}=e;(0,J.useEffect)(()=>{t.current&&i&&t.current.focus()},[]);let d=(0,J.useCallback)(()=>{n("")},[n]),u=(0,J.useCallback)(e=>{e.target instanceof HTMLInputElement&&n(e.target.value)},[n]);return(0,eA.jsx)(eR.default,{ref:t,value:s,onChange:u,placeholder:o,prefix:!i&&(a||(a=(0,H.Z)("span",{className:"text-icon-primary-foreground"},void 0,(0,H.Z)(eN.default,{})))),suffix:s.length>0&&(0,H.Z)(eb.default,{compact:!0,onClick:d,title:r({id:"common.delete"}),type:"primary",iconRight:l||(l=(0,H.Z)(eS.default,{}))})})}),eD=e=>{let t,{allItems:i,inResults:a,loading:l,resultLoading:f,messageEmpty:g,messageFindBtn:h,messageShowBtn:Z,searchPlaceholder:b,checkItem:y,uncheckItem:k,isAllChecked:x,checkAll:_,uncheckAll:w,setOnly:C,isChecked:S,filterName:N,isModal:T}=e,{isMobileOrTablet:I,isDesktop:R}=(0,eI.Z)(),[A,F]=(0,J.useState)(""),[D,P]=(0,J.useState)(!R),[E,L]=(0,J.useState)(!1),B=(0,J.useRef)(null),K=(0,eh.default)(),O=(0,J.useCallback)((e,t)=>{let{value:i}=t;e.stopPropagation(),e.preventDefault(),C&&C(i)},[C]),M=(0,J.useCallback)(()=>{B.current&&B.current.focus(),x?w():_(),F("")},[x,_,w]),j=(0,J.useCallback)(e=>{let{checked:t}=e.target;t?y(e.target.value):k(e.target.value)},[y,k]),z=(0,J.useCallback)(()=>{B.current&&F(""),P(!D)},[D]),V=(0,J.useCallback)(e=>F(e),[]),$=(0,J.useCallback)(()=>{L(!E)},[E]),U=e=>(0,H.Z)("div",{className:"min-w-0 flex-auto overflow-hidden [&_div]:min-w-0",value:e.id},e.id,(0,H.Z)(ey.default,{dataTest:"CheckboxMultiSelect",label:(0,H.Z)("span",{className:"flex items-center safe-space-x-200"},void 0,I&&e.logo&&(0,H.Z)("div",{className:"pe-200"},void 0,e.logo),(0,H.Z)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap"},void 0,e.displayName)),checked:S(e.id),value:e.id})),G=e=>{let{as:t}=e,i="Button"===t?eZ.default:eb.default;return(0,H.Z)(i,{type:"secondary",size:"Button"===t?"normal":"small",onClick:M,dataTest:"MultiSelect-SelectAllButton"},void 0,x?r||(r=(0,H.Z)(Y.Z,{id:"search.filter.multi_used.button.deselect_all"})):n||(n=(0,H.Z)(Y.Z,{id:"search.filter.exclude_countries.button.select_all"})))};if(!K)return null;if((l||f)&&!i.length)return d||(d=(0,H.Z)(ex.default,{type:"boxLoader"}));if(!l&&!f&&!i.length)return(0,H.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,u||(u=(0,H.Z)("div",{className:"[&>svg]:border-0"},void 0,(0,H.Z)(eC.default,{size:"small",dataTest:"Alert"}))),(0,H.Z)(e_.default,{size:"small"},void 0,g));let W=i.filter(e=>!A||e.displayName.toLocaleLowerCase().includes(A.toLocaleLowerCase())),{inResultsItems:q}=eg()(e=>!a||a.has(e.id)?"inResultsItems":"otherItems",W),Q=E||I&&!T?W.length:T?5:7;return(0,H.Z)("div",{className:"relative tb:max-w-[400px]"},void 0,(0,H.Z)("div",{className:(0,eT.Z)("mb-300 flex justify-between space-x-300",!D&&"flex-wrap")},"search",D?(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(eF,{value:A,onChange:V,placeholder:b,ref:B}),R?(0,H.Z)(eZ.default,{iconLeft:c||(c=(0,H.Z)(eS.default,{})),type:"secondary",onClick:z,title:"Close",dataTest:"Multiselect-SelectCloseButton"}):0===A.length&&(0,H.Z)(G,{as:"Button"})]}):(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)(eZ.default,{iconLeft:v||(v=(0,H.Z)(eN.default,{})),size:"small",type:"secondary",onClick:z,title:"Search",dataTest:"Multiselect-SelectSearchButton"},void 0,h),(0,H.Z)(G,{as:"ButtonLink"})]})),W.length?(0,H.Z)("ul",{className:(0,eT.Z)("tb:relative de:overflow-hidden",!E&&"tb:max-h-[300px]")},"list",q&&(t=q.slice(0,Q),(0,H.Z)("div",{},void 0,a&&(o||(o=(0,H.Z)(e_.default,{size:"large",spaceAfter:"small"},void 0,(0,H.Z)(Y.Z,{id:"search.filter.multi_used.in_results"})))),(0,H.Z)(ek.default,{filter:!0,onChange:j,onOnlySelection:C?O:void 0,onlySelectionText:s||(s=(0,H.Z)(Y.Z,{id:"search.filter.multi_used.button.only"})),dataTest:`${N}ChoiceGroup-inResults`},void 0,t.map(U)))),W.length>7&&!I&&(0,H.Z)("div",{className:(0,eT.Z)("flex h-[80px] w-full cursor-pointer items-end justify-center bg-gradient-to-t from-cloud-light from-70% to-cloud-light/20 pb-100",!E&&"absolute bottom-0")},void 0,(0,H.Z)(eb.default,{size:"small",type:"secondary",onClick:$},void 0,E?m||(m=(0,H.Z)(Y.Z,{id:"common.hide"})):Z)),T&&W.length>5&&!E&&(0,H.Z)("div",{className:"mt-300"},void 0,(0,H.Z)(ew.default,{type:"secondary",onClick:$},void 0,Z))):p||(p=(0,H.Z)(e_.default,{size:"small"},void 0,(0,H.Z)(Y.Z,{id:"common.no_results"}))))},eP=e=>{var t;let{airlineFilter:i,loading:a,data:l,carriers:r=new Set,searchForm:n,isModal:o,onChange:s}=e,{formatMessage:d}=(0,eu.Z)(),u=(0,ec.v9)(em.Hu),c=(null!==(t=null==l?void 0:l.carriers)&&void 0!==t?t:[]).filter(Boolean),v=i.selected,m=i.excludeSelectedItems,p=(0,J.useMemo)(()=>ed()(e=>{var t;return null==e?void 0:null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase()},c.filter(ep.v).map(e=>{let{name:t,code:i}=e;return t&&i?{id:i,displayName:t}:null}).filter(ep.v)),[c]),Z=m?0===v.length:v.length===p.length,b=(0,J.useRef)(v),y=(0,J.useMemo)(()=>eo()(e=>[...r,...v,...u?b.current:[]].includes(e.id),p),[p,r,v,u]),k=(0,J.useRef)(y),x=(0,J.useRef)(n);(0,J.useEffect)(()=>{!(0,et.fS)(n,x.current)&&(x.current=n,k.current=y)},[n,y]),(0,J.useEffect)(()=>{k.current=er()([...k.current,...y])},[y]);let _=(0,J.useCallback)(e=>{s((0,ev.jX)(new ev.ZP([],!1),e),!0)},[s]),w=(0,J.useCallback)(()=>{s(new ev.ZP([],!0))},[s]),C=(0,J.useCallback)(()=>{s(new ev.ZP([],!1))},[s]),S=(0,J.useCallback)(e=>{s(m?(0,ev.jX)(i,e):(0,ev.cl)(i,e))},[s,i,m]),N=(0,J.useCallback)(e=>{s(m?(0,ev.cl)(i,e):(0,ev.jX)(i,e))},[s,i,m]),T=(0,J.useCallback)(e=>v.includes(e)!==m,[v,m]);return(0,H.Z)(eD,{isChecked:T,isAllChecked:Z,uncheckItem:S,checkItem:N,checkAll:w,uncheckAll:C,setOnly:_,allItems:k.current,inResults:r,loading:!1,resultLoading:a,messageEmpty:f||(f=(0,H.Z)(Y.Z,{id:"result.filter.no_airlines"})),messageFindBtn:g||(g=(0,H.Z)(Y.Z,{id:"search.filter.carriers.find_carrier"})),messageShowBtn:h||(h=(0,H.Z)(Y.Z,{id:"search.filter.carriers.show_all_carriers"})),searchPlaceholder:d({id:"result.filter.search_airlines"}),filterName:"AirlinesFilter",isModal:o})},eE=(0,ea.createFragmentContainer)(e=>{let{filtersState:t,searchForm:i,data:a,loading:l,carriers:r,isModal:n,setFilter:o}=e,s=(0,J.useCallback)((e,t)=>o("airlines",e,t),[o]);return(0,H.Z)(eP,{airlineFilter:t.get("airlines"),onChange:s,searchForm:i,data:a,loading:l,carriers:r,isModal:n})},{data:void 0!==Z?Z:Z=i(6863)});var eL=i("55688"),eB=i("76465"),eK=i("16665");let eO=(0,J.memo)(e=>{let{filtersState:t,setFilter:i}=e,{formatMessage:a}=(0,eu.Z)(),{company_name:l}=(0,eL.useBrand)(),r=(0,J.useCallback)(e=>{t.get("ensureKiwiBookingOption")!==e.target.checked&&i("ensureKiwiBookingOption",e.target.checked)},[t,i]);return(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)("p",{className:"-mt-300 mb-400 leading-normal de:hidden"},void 0,(0,H.Z)(Y.Z,{id:"result.filter.show_kiwi_results_only.tooltip",values:{brandName:l}})),(0,H.Z)(ey.default,{label:(0,H.Z)("div",{className:"flex items-center safe-space-x-100"},void 0,(0,H.Z)("span",{},void 0,(0,H.Z)(Y.Z,{id:"result.filter.show_kiwi_results_only",values:{brandName:l}})),(0,H.Z)(eB.default,{block:!0,content:(0,H.Z)(Y.Z,{id:"result.filter.show_kiwi_results_only.tooltip",values:{brandName:l}}),placement:"bottom",size:"small",labelClose:a({id:"orbit.button_close"})},void 0,b||(b=(0,H.Z)("div",{className:"hidden de:block"},void 0,(0,H.Z)(eK.default,{size:"small"}))))),checked:t.get("ensureKiwiBookingOption"),value:"ensureKiwiBookingOption",dataTest:"ShowKiwiResultsOnlyCheckbox",onChange:r})]})});var eM=i("78291");let ej=(0,J.memo)(e=>{let{returnFromDifferentAirport:t,returnToDifferentAirport:i,allowDifferentStationConnection:a,onChange:l}=e,r=(0,ec.v9)(eM.jO),n=(0,J.useCallback)(e=>{"allowDifferentStationConnection"===e.target.value&&l("allowDifferentStationConnection",!a),"returnFromDifferentAirport"===e.target.value&&l("returnFromDifferentAirport",!t),"returnToDifferentAirport"===e.target.value&&l("returnToDifferentAirport",!i)},[l,a,t,i]);return(0,H.Z)("div",{className:"space-y-200","data-test":"ConnectionsFilter"},void 0,(0,H.Z)(ey.default,{label:y||(y=(0,H.Z)(Y.Z,{id:"result.filter.different_station_connection"})),checked:a,value:"allowDifferentStationConnection",dataTest:"AllowDifferentStationConnectionCheckbox",onChange:n}),r&&(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)(ey.default,{label:k||(k=(0,H.Z)(Y.Z,{id:"result.filter.return_from_different_airport"})),checked:t,value:"returnFromDifferentAirport",dataTest:"ReturnFromDifferentAirportCheckbox",onChange:n}),(0,H.Z)(ey.default,{label:x||(x=(0,H.Z)(Y.Z,{id:"result.filter.return_to_different_airport"})),checked:i,value:"returnToDifferentAirport",dataTest:"ReturnToDifferentAirportCheckbox",onChange:n})]}))}),ez=(0,J.memo)(e=>{let{filtersState:t,setFilter:i}=e,a=(0,J.useCallback)((e,a)=>{t.get(e)!==a&&i(e,a)},[t,i]);return(0,H.Z)(ej,{returnFromDifferentAirport:t.get("returnFromDifferentAirport"),returnToDifferentAirport:t.get("returnToDifferentAirport"),allowDifferentStationConnection:t.get("allowDifferentStationConnection"),onChange:a})});var eV=i("36218"),e$=i.n(eV);let eU=(e,t)=>e.displayName.localeCompare(t.displayName),eG=e=>{let{countriesFilter:t,onChange:i,data:a,loading:l,isModal:r}=e,{formatMessage:n}=(0,eu.Z)(),o=(0,ec.v9)(em.Hu),s=(0,J.useMemo)(()=>null!=a&&a.stopoverCountries?a.stopoverCountries.map(e=>null!=e&&e.code?{id:null==e?void 0:e.code,displayName:null==e?void 0:e.name}:null).filter(ep.v):null,[a]),d=(0,J.useCallback)(()=>{i(new ev.ZP([],!1))},[i]),u=(0,J.useCallback)(()=>{i(new ev.ZP([],!0))},[i]),c=(0,J.useCallback)(e=>{i(t.excludeSelectedItems?(0,ev.jX)(t,e):(0,ev.cl)(t,e))},[t,i]),v=(0,J.useCallback)(e=>{i(t.excludeSelectedItems?(0,ev.cl)(t,e):(0,ev.jX)(t,e))},[t,i]),m=(0,J.useMemo)(()=>e$()(eU,s||[]),[s]),p=null===s&&l,f=t.excludeSelectedItems?t.selected.length===(null==s?void 0:s.length):0===t.selected.length,g=(0,J.useCallback)(e=>t.selected.includes(e)===t.excludeSelectedItems,[t]);return(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)(e_.default,{size:o?"normal":"small",spaceAfter:o?"normal":"medium"},void 0,_||(_=(0,H.Z)(Y.Z,{id:"search.filter.exclude_countries.text"}))),(0,H.Z)(eD,{isAllChecked:f,isChecked:g,checkItem:c,uncheckItem:v,uncheckAll:u,checkAll:d,allItems:m,loading:p,resultLoading:l,messageEmpty:w||(w=(0,H.Z)(Y.Z,{id:"search.filter.exclude_countries.no_countries"})),searchPlaceholder:n({id:"search.filter.exclude_countries.search_countries"}),messageFindBtn:C||(C=(0,H.Z)(Y.Z,{id:"search.filter.exclude_countries.search_countries"})),messageShowBtn:S||(S=(0,H.Z)(Y.Z,{id:"search.filter.exclude_countries.button.show_all_countries"})),filterName:"CountriesFilter",isModal:r})]})},eH=(0,ea.createFragmentContainer)(e=>{let{filtersState:t,setFilter:i,data:a,loading:l,isModal:r}=e,n=(0,J.useCallback)((e,t)=>i("countries",e,t),[i]);return(0,H.Z)(eG,{countriesFilter:t.get("countries"),onChange:n,data:a,loading:l,isModal:r})},{data:void 0!==N?N:N=i(61274)});var eW=i("82810"),eq=i("72541");let eQ=e=>{let{inline:t=!1,children:i,standalone:a}=e;return(0,H.Z)("div",{className:(0,eT.Z)("flex w-full flex-col",a&&"min-w-[260px]",t&&a&&"tb:not-last:me-400")},void 0,i)},eJ=e=>{let{label:t,valueDescription:i,spaceAfter:a="medium"}=e;return(0,eA.jsxs)(eA.Fragment,{children:[!!t&&(0,H.Z)(W.default,{type:"title4"},void 0,t),(0,H.Z)(e_.default,{type:"info",spaceAfter:a},void 0,i)]})},eY=e=>{let{from:t="",to:i=""}=e;return(0,H.Z)("div",{className:"flex justify-between pt-100"},void 0,(0,H.Z)(e_.default,{as:"span",type:"secondary"},void 0,t),(0,H.Z)(e_.default,{as:"span",type:"secondary"},void 0,i))},eX=e=>{let{flightDurationDefaultValue:t,stopDurationDefaultValue:i,standalone:a,onChange:l}=e,[r,n]=(0,J.useState)(t),[o,s]=(0,J.useState)(i);(0,J.useEffect)(()=>{n(t),s(i)},[n,t,s,i]);let d=(0,J.useCallback)((0,eq.P)(100,e=>{"number"==typeof e&&n(e)}),[n]),u=(0,J.useCallback)(e=>{"number"==typeof e&&l(e,"flightDuration")},[l]),c=(0,J.useCallback)(e=>{"object"==typeof e&&s({min:e[0],max:e[1]})},[s]),v=(0,J.useCallback)(e=>{"object"==typeof e&&l({min:e[0],max:e[1]},"stopDuration")},[l]),m=1===r?T||(T=(0,H.Z)(Y.Z,{id:"search.filter.duration.travel_time.value.one"})):(0,H.Z)(Y.Z,{id:"search.filter.duration.travel_time.value.multiple",values:{duration:r}}),p=r<ee.ZP.MAXIMAL_FLIGHT_DURATION?m:I||(I=(0,H.Z)(Y.Z,{id:"search.filter.duration.travel_time.value.all"})),f=(0,H.Z)(Y.Z,{id:"search.filter.duration.stopover.value",values:{min:String(o.min),max:String(o.max)}});return(0,H.Z)("div",{className:"flex flex-col px-300 lm:p-0 first:[&>*]:mb-300"},void 0,(0,H.Z)(eQ,{standalone:a,inline:!0},void 0,(0,H.Z)(eJ,{label:R||(R=(0,H.Z)(Y.Z,{id:"search.filter.duration.travel_time.title"})),valueDescription:p}),(0,H.Z)(eW.default,{minValue:1,maxValue:ee.ZP.MAXIMAL_FLIGHT_DURATION,step:1,defaultValue:t,onChangeAfter:u,onChange:d,dataTest:"FlightDurationFilterSlider"}),A||(A=(0,H.Z)(eY,{to:(0,H.Z)(Y.Z,{id:"search.filter.duration.travel_time.value.all"})}))),(0,H.Z)(eQ,{standalone:a,inline:!0},void 0,(0,H.Z)(eJ,{label:F||(F=(0,H.Z)(Y.Z,{id:"search.filter.duration.stopover.title"})),valueDescription:f}),(0,H.Z)(eW.default,{minValue:ee.ZP.MINIMAL_DURATION,maxValue:ee.ZP.MAXIMAL_DURATION,step:1,defaultValue:[i.min,i.max],onChangeAfter:v,onChange:c,dataTest:"StopDurationFilterSlider"}),(0,H.Z)(eY,{from:(0,H.Z)(Y.Z,{id:"search.filter.duration.hours",values:{value:ee.ZP.MINIMAL_DURATION}}),to:(0,H.Z)(Y.Z,{id:"search.filter.duration.hours",values:{value:ee.ZP.MAXIMAL_DURATION}})})))},e0=e=>{let{filtersState:t,standalone:i,setFilter:a}=e,l=(0,eh.default)();return l?(0,H.Z)(eX,{stopDurationDefaultValue:t.get("stopDuration"),flightDurationDefaultValue:t.get("flightDuration"),onChange:(e,t)=>{a(t,e)},standalone:i}):null};var e1=i("39157"),e2=i("31875");function e3(e,t){return"max"===t&&70===e||"min"===t&&-1===e?0:10**(e/20)}function e4(e,t){return"max"===t&&0===e?70:"min"===t&&0===e?-1:Math.round(20*Math.log10(e))}let e5=e=>{let t=Math.round(e3(e[0],"min")),i=Math.round(e3(e[1],"max"));return t||i?(0,eA.jsxs)(eA.Fragment,{children:[t?(0,H.Z)(e2.Z,{showCurrencySymbol:!0,maxSize:6,convert:!0},void 0,t):D||(D=(0,H.Z)(e2.Z,{showCurrencySymbol:!0,maxSize:6,convert:!0},void 0,0)),"\xa0-\xa0",i?(0,H.Z)(e2.Z,{showCurrencySymbol:!0,maxSize:6,convert:!0},void 0,i):P||(P=(0,H.Z)(Y.Z,{id:"search.filter.price.any_price"}))]}):E||(E=(0,H.Z)(Y.Z,{id:"search.filter.price.any_price"}))},e9=e=>{let{defaultValue:t,onChange:i}=e,[a,l]=(0,J.useState)([e4(t.min,"min"),e4(t.max,"max")]);(0,J.useEffect)(()=>{l([e4(t.min,"min"),e4(t.max,"max")])},[l,t]);let r=(0,J.useCallback)(e=>{"object"==typeof e&&l(e)},[l]),n=(0,J.useCallback)((0,eq.P)(100,e=>{"object"==typeof e&&i({min:e3(e[0],"min"),max:e3(e[1],"max")})}),[i]);return(0,H.Z)("div",{className:"min-w-[200px] px-300 lm:p-0"},void 0,(0,H.Z)(eJ,{valueDescription:e5(a),spaceAfter:"none"}),(0,H.Z)(eW.default,{minValue:-1,maxValue:70,label:L||(L=(0,eA.jsx)(eA.Fragment,{})),defaultValue:[e4(t.min,"min"),e4(t.max,"max")],onChangeAfter:n,onChange:r,dataTest:"PriceFilterSlider"}),B||(B=(0,H.Z)(eY,{from:(0,H.Z)(e2.Z,{showCurrencySymbol:!0,maxSize:6,convert:!0},void 0,0),to:(0,H.Z)(Y.Z,{id:"search.filter.price.any"})})))},e6=e=>{let{filtersState:t,setFilter:i}=e,a=(0,J.useCallback)(e=>i("price",e),[i]);return(0,H.Z)(e9,{defaultValue:t.get("price"),onChange:a})};var e7=i("90504"),e8=i("41040"),te=i("28031"),tt=i("72208");let ti=(0,J.memo)(e=>{let{directionValue:t,onOvernightStopoverChanged:i,onStopNumberChanged:a,segment:l,segmentIndex:r}=e,n=(0,ec.v9)(em.Hu),{getShortText:o}=(0,tt.Od)(),{formatMessage:s}=(0,eu.Z)(),d=(0,J.useCallback)(()=>{i(r)},[i,r]),u=(0,J.useCallback)(e=>{let t=Number.parseInt(e.target.value,10);te.k.includes(t)&&a(r,t)},[a,r]),c=o(l.origin,{maxLength:25}),v=o(l.destination,{maxLength:25}),m=`filterStops-${r}`;return(0,H.Z)("div",{className:"mb-400"},void 0,n?(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)(e_.default,{spaceAfter:"small",type:"secondary"},void 0,(0,H.Z)(Y.Z,{id:"search.filter.origin_to_destination",values:{origin:c,destination:v}})),(0,H.Z)(ek.default,{onChange:u,dataTest:"StopsFilterChoiceGroup"},void 0,te.k.map(e=>(0,H.Z)(e7.default,{checked:t.stopNumber===e,label:(0,eA.jsx)(Y.Z,{...te.jo[e]}),value:String(e),dataTest:`RadioWrapper-${e}`},e)))]}):(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)("label",{className:"mb-200 block text-normal text-secondary-foreground leading-normal",htmlFor:m},void 0,(0,H.Z)(Y.Z,{id:"search.filter.origin_to_destination",values:{origin:c,destination:v}})),(0,H.Z)(e8.default,{dataTest:"StopsFilterSelect",id:m,onChange:u,options:te.k.map(e=>({value:e,label:s(te.jo[e])})),value:t.stopNumber,spaceAfter:"small"})]}),(0,H.Z)("div",{className:"mt-300"},void 0,(0,H.Z)(ey.default,{label:K||(K=(0,H.Z)(Y.Z,{id:"search.filter.stops.allow_overnight_stopovers"})),checked:t.overnightStopover,value:"overnightStopover",dataTest:"OvernightStopoverCheckbox",disabled:0===t.stopNumber,onChange:d})))}),ta=(0,J.memo)(e=>{let{stops:t,onStopChange:i,segments:a}=e,l=(0,J.useCallback)(e=>{let a=t.getDirectionValue(e);i({...a,overnightStopover:!a.overnightStopover},e)},[i,t]),r=(0,J.useCallback)((e,a)=>{(-1===a||0===a||1===a||2===a)&&i({...t.getDirectionValue(e),stopNumber:a},e)},[i,t]),n=(0,J.useCallback)(e=>t.getDirectionValue(e),[t]);return(0,eA.jsx)(eA.Fragment,{children:a.map((e,t)=>(0,H.Z)(ti,{directionValue:n(t),segment:e,segmentIndex:t,onOvernightStopoverChanged:l,onStopNumberChanged:r},t))})}),tl=e=>{let{stop:t,onStopChange:i}=e,a=(0,ec.v9)(eM.$W),l=(0,J.useCallback)(()=>{i({...t,overnightStopover:!t.overnightStopover})},[i,t]),r=(0,J.useCallback)(e=>{let a=Number.parseInt(e.target.value,10);(-1===a||0===a||1===a||2===a)&&i({...t,stopNumber:a})},[i,t]);return(0,eA.jsxs)(eA.Fragment,{children:[(0,H.Z)("div",{className:"mb-400"},void 0,(0,H.Z)(ek.default,{onChange:r,dataTest:"StopsFilterChoiceGroup"},void 0,te.k.map(e=>(0,H.Z)(e7.default,{checked:Number(t.stopNumber)===e,label:(0,eA.jsx)(Y.Z,{...te.jo[e]}),value:String(e),dataTest:`RadioWrapper-${e}`},e)))),a&&(0,H.Z)(ek.default,{onChange:l,dataTest:"OvernightStopoverFilter"},void 0,(0,H.Z)(ey.default,{label:O||(O=(0,H.Z)(Y.Z,{id:"search.filter.stops.allow_overnight_stopovers"})),checked:t.overnightStopover,value:"overnightStopover",dataTest:"OvernightStopoverCheckbox",disabled:0===Number(t.stopNumber)}))]})},tr=(0,J.memo)(e=>{let{setFilter:t,filtersState:i,searchForm:a}=e,l=(0,J.useCallback)(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t("stopNumber",i.get("stopNumber").setDirectionValue(a,e))},[t,i]),r=(0,J.useMemo)(()=>{if(et.iJ(a)===et.xd.multicity)return a.multicity.map(e=>({origin:e.origin,destination:e.destination}));return[]},[a]);return et.iJ(a)===et.xd.multicity?(0,H.Z)(ta,{stops:i.get("stopNumber"),onStopChange:l,segments:r}):(0,H.Z)(tl,{stop:i.get("stopNumber").getDirectionValue(0),onStopChange:l})});var tn=i("81915"),to=i("89990"),ts=i("45109"),td=i("69428"),tu=i("94326"),tc=i("52452");let tv=(e,t)=>(0,ts.WU)((0,tu.H)((0,td.B)(new Date,e),0),"p",{locale:t}),tm=(e,t)=>e===tn.F6?(0,ts.WU)((0,tc._)((0,tu.H)((0,td.B)(new Date,e),0),1),"p",{locale:t}):(0,ts.WU)((0,tc._)((0,tu.H)((0,td.B)(new Date,e),0),0),"p",{locale:t}),tp=(e,t)=>{let{min:i,max:a}=e,l=i===tn.VR&&a===tn.F6,r=tv(i,t),n=tm(a,t);return l?M||(M=(0,H.Z)(Y.Z,{id:"search.filter.times.all_day"})):(0,H.Z)(Y.Z,{id:"search.filter.times.from_to_time",values:{min:r,max:n}})},tf=(0,J.memo)(e=>{let{segmentValue:t,onSliderChange:i,onSliderRelease:a,standalone:l,direction:r,segment:n,segmentIndex:o}=e,{locale:s}=(0,J.useContext)(to.ZP),{getShortText:d}=(0,tt.Od)(),{min:u,max:c}=t,v=d(n[0===r?"origin":"destination"],{maxLength:25}),m=(0,J.useCallback)(e=>{i(o,e)},[o,i]),p=(0,J.useCallback)(e=>a(o,e),[o,a]),f=(0,J.useMemo)(()=>0===r?(0,H.Z)(Y.Z,{id:"search.filter.depart_from",values:{places:v}}):(0,H.Z)(Y.Z,{id:"search.filter.arrive_in",values:{places:v}}),[r,v]);return(0,H.Z)(eQ,{standalone:l,inline:!0},void 0,(0,H.Z)(eJ,{label:f,valueDescription:tp(t,s)}),(0,H.Z)(eW.default,{minValue:tn.VR,maxValue:tn.F6,step:1,defaultValue:[u,c],onChange:m,onChangeAfter:p,dataTest:`TimesFilterSlider-${o}`}),(0,H.Z)(eY,{from:tv(tn.VR,s),to:tm(tn.F6,s)}))}),tg=e=>"object"==typeof e?{parsedLeftValue:Math.min(23,e[0]),parsedRightValue:Math.max(1,e[1])}:{parsedLeftValue:tn.VR,parsedRightValue:tn.F6},th=(e,t,i,a)=>{let{parsedLeftValue:l,parsedRightValue:r}=tg(a);return e.setDirectionKeyValue(i,[t,"min"],l).setDirectionKeyValue(i,[t,"max"],r)},tZ=(0,J.memo)(e=>{let{defaultValue:t,onChange:i,standalone:a,direction:l,segments:r}=e,[n,o]=(0,J.useState)(t),s=0===l?"departure":"arrival";(0,J.useEffect)(()=>{o(t)},[o,t]);let d=(0,J.useCallback)((e,t)=>{o(th(n,s,e,t))},[s,o,n]),u=(0,J.useCallback)((e,t)=>{i(th(n,s,e,t))},[i,n,s]),c=e=>n.getDirectionValue(e)[s];return(0,H.Z)("div",{className:"space-y-800 px-400 tb:px-0"},void 0,r.map((e,t)=>(0,H.Z)(tf,{segment:e,segmentIndex:t,onSliderChange:d,onSliderRelease:u,standalone:a,segmentValue:c(t),direction:l},t)))});var tb=i("98622");let ty=["departure","arrival"],tk={arrival:(0,H.Z)(Y.Z,{id:"search.filter.times.arrival"}),departure:(0,H.Z)(Y.Z,{id:"search.filter.times.departure"})},tx=(e,t)=>{let{min:i,max:a}=e,l=0===i&&24===a;try{let e=tv(i,t),r=tm(a,t);return l?j||(j=(0,H.Z)(Y.Z,{id:"search.filter.times.all_day"})):(0,H.Z)(Y.Z,{id:"search.filter.times.from_to_time",values:{min:e,max:r}})}catch(e){return console.info(e),null}},t_=(e,t)=>"object"==typeof e?{parsedLeftValue:Math.min(23,e[0]),parsedRightValue:Math.max(1,e[1])}:"number"==typeof e?{parsedLeftValue:"departure"===t?e:0,parsedRightValue:"departure"===t?24:e}:{parsedLeftValue:0,parsedRightValue:24},tw=(e,t,i,a)=>{let{parsedLeftValue:l,parsedRightValue:r}=t_(a,t);return void 0===i?e.setDirectionKeyValue(0,[t,"min"],l).setDirectionKeyValue(0,[t,"max"],r).setDirectionKeyValue(1,[t,"min"],l).setDirectionKeyValue(1,[t,"max"],r):e.setDirectionKeyValue(i,[t,"min"],l).setDirectionKeyValue(i,[t,"max"],r)},tC=(0,tb.Z)(e=>{let{defaultValue:t,onChange:i,standalone:a,direction:l,locale:r}=e,[n,o]=(0,J.useState)(t);(0,J.useEffect)(()=>{o(t)},[o,t]);let s=(0,J.useCallback)((0,eq.P)(100,(e,t)=>{o(tw(n,t,l,e))}),[l,o,n]),d=(0,J.useCallback)((e,t)=>{i(tw(n,t,l,e))},[i,n,l]);return(0,H.Z)("div",{className:"flex flex-col p-300 lm:p-0 [&>div]:mb-800 last:[&>div]:relative last:[&>div]:z-sticky last:[&>div]:mb-0"},void 0,ty.map(e=>{let{min:i,max:o}=t.getDirectionValue(l||0)[e];return(0,H.Z)(eQ,{standalone:a,inline:!0},e,(0,H.Z)(eJ,{label:tk[e],valueDescription:tx(n.getDirectionValue(l||0)[e],r)}),(0,H.Z)(eW.default,{minValue:0,maxValue:24,step:1,defaultValue:[i,o],onChange:t=>s(t,e),onChangeAfter:t=>d(t,e),dataTest:`TimesFilterSlider-${e}`}),(0,H.Z)(eY,{from:tv(0,r),to:tm(24,r)}))}))}),tS=e=>{let{filtersState:t,direction:i,standalone:a,searchForm:l,setFilter:r}=e,n=(0,J.useCallback)(e=>{r("times",e)},[r]),o=(0,J.useMemo)(()=>{if(et.iJ(l)===et.xd.multicity)return l.multicity.map(e=>({origin:e.origin,destination:e.destination}));return[]},[l]);return et.iJ(l)===et.xd.multicity?(0,H.Z)(tZ,{defaultValue:t.get("times"),direction:i,onChange:n,standalone:a,segments:o}):(0,H.Z)(tC,{defaultValue:t.get("times"),direction:i,onChange:n,standalone:a})};var tN=i("19993"),tT=i("95923");let tI=["enableSelfTransfer","enableThrowAwayTicketing","enableTrueHiddenCity"],tR={enableSelfTransfer:{title:(0,tN.defineMessage)({id:"search.filter.travel_hacks.options.self_transfer"}),tooltip:(0,tN.defineMessage)({id:"search.results.tooltips.travel_hacks.self_transfer"}),dataTest:"SelfTransferCheckbox"},enableThrowAwayTicketing:{title:(0,tN.defineMessage)({id:"search.filter.travel_hacks.options.throwaway_ticketing"}),tooltip:(0,tN.defineMessage)({id:"search.results.tooltips.travel_hacks.throwaway_ticketing"}),dataTest:"ThrowAwayTicketingCheckbox"},enableTrueHiddenCity:{title:(0,tN.defineMessage)({id:"search.filter.travel_hacks.options.hidden_cities"}),tooltip:(0,tN.defineMessage)({id:"search.results.tooltips.travel_hacks.hidden_cities"}),dataTest:"HiddenCityCheckbox"}},tA=(0,J.memo)(e=>{var t;let i=(0,ec.I0)(),{formatMessage:a}=(0,eu.Z)(),{enableSelfTransfer:l,enableThrowAwayTicketing:r,enableTrueHiddenCity:n,onChange:o}=e,s=(0,J.useCallback)(()=>{i((0,tT.K4)("travelHacks"))},[i]),d=(0,J.useCallback)(e=>{"enableSelfTransfer"===e.target.value&&o("enableSelfTransfer",!l),"enableThrowAwayTicketing"===e.target.value&&o("enableThrowAwayTicketing",!r),"enableTrueHiddenCity"===e.target.value&&o("enableTrueHiddenCity",!n)},[o,l,r,n]);return(0,H.Z)("div",{className:"space-y-200","data-test":"TravelHacksFilter"},void 0,(0,H.Z)("div",{className:"pb-300 tb:max-w-[200px] de:hidden"},void 0,z||(z=(0,H.Z)(Y.Z,{id:"search.filter.travel_hacks.description"}))," ",(0,H.Z)(ew.default,{type:"secondary",onClick:s},void 0,V||(V=(0,H.Z)(Y.Z,{id:"search.results.tooltips.travel_hacks.learn_more"})))),tI.map(i=>{let{title:l,tooltip:r,dataTest:n}=tR[i];return(0,H.Z)(ey.default,{label:(0,H.Z)("div",{className:"flex items-center safe-space-x-100"},void 0,(0,H.Z)("span",{},void 0,(0,eA.jsx)(Y.Z,{...l})),(0,H.Z)(eB.default,{block:!0,content:(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(Y.Z,{...r})," ",t||(t=(0,H.Z)(ew.default,{onClick:s},void 0,$||($=(0,H.Z)(Y.Z,{id:"search.results.tooltips.travel_hacks.learn_more"}))))]}),placement:"bottom",size:"small",labelClose:a({id:"orbit.button_close"})},void 0,U||(U=(0,H.Z)("div",{className:"hidden de:block"},void 0,(0,H.Z)(eK.default,{size:"small"}))))),checked:e[i],value:i,dataTest:n,onChange:d},i)}))}),tF=(0,J.memo)(e=>{let{filtersState:t,setFilter:i}=e,a=(0,J.useCallback)((e,a)=>{t.get(e)!==a&&i(e,a)},[t,i]);return(0,H.Z)(tA,{enableSelfTransfer:t.get("enableSelfTransfer"),enableThrowAwayTicketing:t.get("enableThrowAwayTicketing"),enableTrueHiddenCity:t.get("enableTrueHiddenCity"),onChange:a})});var tD=i("38895"),tP=i("82524"),tE=i("85942");let tL=e=>{let{checked:t,day:i,handleDaysChange:a,...l}=e,{children:r,disabled:n}=l,o=(0,J.useCallback)(()=>{a(i,!t)},[i,t,a]);return(0,H.Z)("div",{role:"presentation","data-test":"days-button",className:(0,eT.Z)("[&>button]:mb-200 [&>button]:leading-heading-title2",t&&"[&>button]:shadow-level1 [&>button]:focus:bg-button-info-background"),onClick:n?void 0:o},void 0,(0,eA.jsx)(tE.default,{...l,circled:!0,children:r}))},tB=(0,J.memo)(e=>{let{directionValue:t,segment:i,segmentIndex:a,standalone:l,onChange:r}=e,{locale:n}=(0,J.useContext)(to.ZP),{getShortText:o}=(0,tt.Od)(),s=o(i.origin,{maxLength:25}),{disabledDays:d}=i,u=(0,J.useCallback)((e,t)=>{r(a,e,t)},[r,a]),c=(0,tP.F8)(n);return(0,H.Z)(eQ,{standalone:l,inline:!0},s,(0,H.Z)(e_.default,{spaceAfter:"small"},void 0,(0,H.Z)(Y.Z,{id:"search.filter.depart_from",values:{places:s}})),(0,H.Z)("div",{className:"mb-200 flex max-w-[350px] flex-wrap justify-between [&>*]:not-last:me-100"},void 0,(0,tP.uP)(n,!1).map((e,i)=>{let a=(i+c)%7;return(0,H.Z)(tL,{type:t[a]&&!d.includes(a)?"info":"infoSubtle",checked:t[a]&&!d.includes(a),day:a,handleDaysChange:u,disabled:d.includes(a)},a,(0,H.Z)("div",{className:"uppercase"},void 0,e))})))}),tK=(0,J.memo)(e=>{let{value:t,standalone:i,segments:a,onChange:l}=e,r=(0,J.useCallback)((e,i,a)=>{l(t.setDirectionDayValue(`${e}`,i,a))},[l,t]),n=(0,J.useCallback)(e=>t.getDirectionValue(e),[t]);return(0,eA.jsx)(eA.Fragment,{children:a.map((e,t)=>(0,H.Z)(tB,{segment:e,segmentIndex:t,standalone:i,onChange:r,directionValue:n(t)},t))})}),tO=e=>{let{direction:t,enabled:i,disabled:a,value:l,onChange:r}=e,n=(0,J.useCallback)((e,i)=>{r(l.setDirectionDayValue(`${t}`,e,i))},[r,l,t]),{locale:o}=(0,J.useContext)(to.ZP),s=l.getDirectionValue(t),d=e=>a.includes(e)||s[e]&&i[t]&&!i[t][e],u=(0,tP.F8)(o);return(0,H.Z)("div",{className:"flex flex-wrap safe-space-x-200 de:justify-between de:safe-space-x-100"},void 0,(0,tP.uP)(o,!1).map((e,t)=>{let i=(t+u)%7,a=d(i);return(0,H.Z)(tL,{type:s[i]&&!a?"info":"infoSubtle",checked:s[i]&&!a,day:i,handleDaysChange:n,disabled:a},i,(0,H.Z)("div",{className:"uppercase"},void 0,e))}))},tM=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],tj=(0,ea.createFragmentContainer)(e=>{var t,i;let{setFilter:a,filtersState:l,direction:r,standalone:n,searchForm:o,data:s,loading:d}=e,u={inboundDays:null!==(t=null==s?void 0:s.inboundDays)&&void 0!==t?t:[],outboundDays:null!==(i=null==s?void 0:s.outboundDays)&&void 0!==i?i:[]},c=(0,J.useCallback)(e=>{a("daysInWeek",e)},[a]),v=(0,J.useMemo)(()=>{if((0,et.iJ)(o)===et.xd.multicity)return o.multicity.map(e=>({origin:e.origin,destination:e.destination,disabledDays:(0,tD.XF)(e.outboundDate)}));return[]},[o]),m=tM.map(e=>d||!!u.outboundDays.includes(e.toUpperCase())),p=tM.map(e=>d||!!u.inboundDays.includes(e.toUpperCase()));return(0,et.iJ)(o)===et.xd.multicity?(0,H.Z)(tK,{value:l.get("daysInWeek"),standalone:n,segments:v,onChange:c}):(0,H.Z)(tO,{value:l.get("daysInWeek"),onChange:c,enabled:[m,p],disabled:(0,tD.XF)((0,et._3)(0===r?"outboundDate":"inboundDate",o)),direction:r})},{data:void 0!==G?G:G=i(62782)});var tz=i("7074"),tV=i("80052"),t$=i("85195");let tU=(e,t,i)=>{switch(e){case"price":return(0,eA.jsx)(e6,{...t});case"stops":return(0,eA.jsx)(tr,{...t});case"connections":return(0,eA.jsx)(ez,{...t});case"travelHacks":return(0,eA.jsx)(tF,{...t});case"times":return(0,eA.jsx)(tS,{...t});case"duration":return(0,eA.jsx)(e0,{...t});case"days":return(0,eA.jsx)(tj,{...t,data:i.data,loading:i.isLoading});case"airlines":return(0,eA.jsx)(eE,{...t,data:i.data,loading:i.isLoading,carriers:i.carriers});case"countries":return(0,eA.jsx)(eH,{...t,data:i.data,loading:i.isLoading});case"bookingOptions":return(0,eA.jsx)(eO,{...t});default:return null}},tG=(0,tV.Z)(e=>{let{onClick:t,message:i,filterName:a,showPopup:l,onClosePopup:r,direction:n,setFilter:o,setFilters:s,setFiltersDirection:d,resetFilter:u,isMobile:c,isModal:v=!1,searchForm:m,filtersState:p,data:f,isLoading:g,carriers:h,track:Z,globalTmpFiltersState:b,onTmpFiltersChange:y}=e,[k,x]=(0,J.useState)(b),_=p.isGroupSet(a),w=k||p,C=(0,et.iJ)(m);(0,J.useEffect)(()=>{c&&l?x(p):!c&&l?x(void 0):!l&&x(void 0)},[c,l,p,x]),(0,J.useEffect)(()=>{y&&k&&y(k)},[k]),(0,J.useEffect)(()=>{x(b)},[b]);let S=(0,J.useCallback)(e=>{k?x(k.setMultiple(e)):s(e)},[k,x,s]),N=(0,J.useCallback)((e,t,i)=>{k?(i?Z(X.SK,{type:e,value:t},(0,ei.J)(e,t,k.getActiveGroupsCount(),C)):Z(X.SW,{type:e,value:t},(0,ei.J)(e,t,k.getActiveGroupsCount(),C)),x(k.set(e,t))):o(e,t,i)},[k,x,o,Z]),T=(0,J.useCallback)(e=>{k?(Z(X.zP,{type:ee.Xx[e]?ee.Xx[e].join(","):e,groupType:e,numOfActiveFilters:k.getActiveGroupsCount()-1}),S(p.resetFilter(e).values())):u(e)},[k,Z,S,u,p]),I=t$.f[a],R=tU(a,{direction:n,filtersState:w,setFilter:N,standalone:!0,searchForm:m,isModal:v},{data:f,isLoading:g,onClose:r,carriers:h}),A=I.directions[et.iJ(m)],F=(0,H.Z)("div",{className:"lm:hidden"},void 0,(0,H.Z)("div",{className:A?"px-400 pb-100 pt-600":"pb-400 pt-200"},void 0,(0,H.Z)(W.default,{type:"title2",spaceAfter:A?"none":"medium"},void 0,(0,eA.jsx)(Y.Z,{...i})))),D=R&&(A?(0,eA.jsxs)(eA.Fragment,{children:[F,(0,H.Z)(tz.Z,{direction:n,onChange:d,standalone:!0},void 0,R)]}):(0,H.Z)("div",{className:"p-400","data-test":`PopupFilterContent-${a}`},void 0,F,R));return v?(0,H.Z)("div",{className:"border-0 border-y-card border-solid bg-white-normal p-400 not-last:mb-200 lm:px-1000 lm:not-last:mb-400","data-test":`FilterModal-${a}`},void 0,(0,H.Z)(W.default,{type:"title3",spaceAfter:"medium"},void 0,(0,eA.jsx)(Y.Z,{...i})),A?(0,H.Z)(tz.Z,{direction:n,onChange:d},void 0,R):R):(0,H.Z)(e1.Z,{selected:_,opened:l,message:i,popoverContent:D,setFilter:Q()(s,void 0,w.values()),resetFilter:Q()(T,null,a),onOpenPopover:t,onClosePopover:r,filterName:a,isMobile:c})})},39157:function(e,t,i){i.d(t,{Z:function(){return x}});var a,l,r,n,o,s=i(63127),d=i(5406),u=i(51949),c=i(22549),v=i(37134),m=i(41117),p=i(85199),f=i(29791),g=i(48778),h=i(67294),Z=i(86896),b=i(44012),y=i(60276),k=i(85893);let x=(0,h.memo)(e=>{let{selected:t,opened:i,message:x,popoverContent:_,setFilter:w,resetFilter:C,onOpenPopover:S,onClosePopover:N,isMobile:T,filterName:I}=e,{isLargeMobile:R}=(0,m.default)(),{formatMessage:A}=(0,Z.Z)(),F=(0,h.useCallback)(()=>{w(),N()},[w,N]),D=(0,h.useCallback)(e=>{e.stopPropagation(),C(),!T&&i&&N()},[C,N,T,i]),P=(0,h.useCallback)(()=>{N(),T&&window.history.back()},[]),E=(0,s.Z)(y.Z,{size:"small",type:"secondary",onClick:R?void 0:S,iconRight:(0,s.Z)("span",{className:"ms-50",onClick:t?D:void 0},void 0,i&&!t&&(a||(a=(0,s.Z)(f.default,{size:"small"}))),!i&&!t&&(l||(l=(0,s.Z)(p.default,{size:"small"}))),t&&(r||(r=(0,s.Z)(g.default,{size:"small",dataTest:"SearchFormFilters-clear"})))),dataTest:`SearchFormFilters-button-${I}`,selected:t,open:i},void 0,(0,k.jsx)(b.Z,{...x})),L=(0,s.Z)("div",{className:"flex w-full safe-space-x-200"},void 0,(0,s.Z)(d.default,{fullWidth:!0,type:"secondary",onClick:P,dataTest:"PopupFiltersMobile-close"},void 0,n||(n=(0,s.Z)(b.Z,{id:"common.close"}))),(0,s.Z)(d.default,{fullWidth:!0,onClick:F,dataTest:"PopupFiltersMobile-save"},void 0,o||(o=(0,s.Z)(b.Z,{id:"result.filter.dialog.save"}))));return R?(0,s.Z)(c.default,{noPadding:!0,content:(0,k.jsxs)(k.Fragment,{children:[_,T&&(0,s.Z)("div",{className:"px-400 pb-400"},void 0,L)]}),opened:i,onOpen:S,onClose:N,dataTest:`FilterPopover ${I}`,labelClose:A({id:"orbit.button_close"})},void 0,E):(0,k.jsxs)(k.Fragment,{children:[E,i&&(0,s.Z)(v.default,{},void 0,(0,s.Z)(u.default,{disableAnimation:!0,onClose:P,dataTest:`FilterPopover ${I}`,fixedFooter:!0,hasCloseButton:!1,labelClose:A({id:"orbit.button_close"})},void 0,_,(0,s.Z)(u.ModalFooter,{flex:"auto"},void 0,L)))]})})},49113:function(e,t,i){i.d(t,{Z:()=>V});var a,l,r,n=i("63127"),o=i("71654"),s=i("60395"),d=i("1410"),u=i("21548"),c=i.n(u),v=i("67294"),m=i("39719"),p=i("359"),f=i("87775"),g=i("28031"),h=i("56678"),Z=i("33297"),b=i("3279"),y=i("78291"),k=i("18906"),x=i("24031"),_=i("54056"),w=i("10620"),C=i("32879"),S=i("19342"),N=i("5068"),T=i("33479"),I=i("79021"),R=i("44198"),A=i("96695"),F=i("44125"),D=i("81258");let P=e=>{let{isAggregated:t,data:i}=e,l=(0,m.v9)(R.Oy),{isOpened:r,open:o,close:s}=(0,T.S)(!1),d=(0,D.Z)(i,l),u=(0,m.v9)(I.p).get(t?"sortAggregateBy":"sortBy"),c=(0,A.dC)(l);return(0,n.Z)("div",{className:"-me-100 pt-100"},void 0,(0,n.Z)(S.default,{dataTest:"MobileSorting",iconLeft:a||(a=(0,n.Z)(N.default,{size:"large"})),onClick:o,size:"small",type:"secondary",title:"Sort results"}),r&&(0,n.Z)(F.Z,{isAggregated:t,sortBy:u,sortingModes:d,close:s,hideAdvancedModes:c}))};var E=i("86896"),L=i("5406"),B=i("35142"),K=i("948"),O=i("35399"),M=i("70613"),j=i("80052");let z=(0,j.Z)(e=>{let{filtersState:t}=e,{formatMessage:i}=(0,E.Z)(),{showModal:a}=(0,M.h)(K.Q8),r=(0,_.SK)(),o=(0,m.v9)(x.$T),s=(0,O.Hg)(t,o),u=(0,v.useCallback)(()=>{a(),window.history.pushState({},"","#filters"),r(f.zj,{type:"allFilters",groupType:"allFilters",activeFiltersCount:s})},[s,a]);return(0,n.Z)("div",{className:(0,d.Z)("relative",s>0&&"[&>button]:!bg-blue-normal [&>button]:!text-white-normal")},void 0,(0,n.Z)(L.default,{type:"secondary",size:"small",circled:!0,onClick:u,"data-test":"AllFiltersButton",title:i({id:"result.filter.dialog.filters"})},void 0,l||(l=(0,n.Z)(B.default,{}))),s>0&&(0,n.Z)("div",{className:"pointer-events-none absolute -top-100 right-[-5px] z-default flex h-[18px] w-[18px] items-center justify-center rounded-full border-2 border-solid border-white bg-blue-normal pb-[1px] text-[12px] font-medium leading-none text-white-normal"},void 0,s))}),V=e=>{let{itinerariesMetadata:t,isLoading:i,isAggregated:a=!1}=e,{formatMessage:l}=(0,E.Z)(),[u,S]=(0,v.useState)(),N=(0,_.SK)(),T=(0,m.v9)(e=>(0,y.tO)(e,{})),I=(0,m.v9)(x.$T),R=(0,h.Z)(),A="C"===(0,o.useTest)("MOBILE_SEARCH_HEADER_EXPOSED"),{isMobile:F}=(0,b.Z)(),D=e=>{u===e?S(null):(N(f.zj,{type:Z.Xx[e]?Z.Xx[e].join(","):e,groupType:e,activeFiltersCount:T}),S(e),F&&window.history.pushState({},"",`#${e}-filter`))},L=(0,v.useCallback)(()=>{S(null)},[S]);return(0,v.useEffect)(()=>(window.addEventListener("popstate",L),()=>window.removeEventListener("popstate",L)),[L]),(0,n.Z)("div",{className:(0,d.Z)("-mt-100 mb-400 flex items-center gap-100")},void 0,(0,n.Z)("div",{className:"w-full overflow-hidden [&>div>div]:pt-100","data-test":"SearchFormFilters-row"},void 0,(0,n.Z)(s.default,{spacing:"150",overflowElevation:!0,elevationColor:"paletteCloudLight",arrows:R,arrowColor:"#252a31",arrowLeftAriaLabel:l({id:"common.screenreader.arrow.scroll_left"}),arrowRightAriaLabel:l({id:"common.screenreader.arrow.scroll_right"})},void 0,A&&(r||(r=(0,n.Z)(z,{}))),(0,n.Z)(w.Z,{bags:I,filterName:p.Zs,message:(0,k.C)(p.Zs),onClick:c()(D,void 0,p.Zs),showPopup:u===p.Zs,onClosePopup:L,isMobile:!0},"FiltersRow-bags"),(0,n.Z)(C.Z,{filterName:g.Mx,message:(0,k.C)(g.Mx),onClick:c()(D,void 0,g.Mx),showPopup:u===g.Mx,onClosePopup:L,data:t,isLoading:i,isMobile:!0},"FiltersRow-stops"))),(0,n.Z)(P,{isAggregated:a,data:null!=t?t:null}))}},8484:function(e,t,i){i.d(t,{Z:function(){return p}});var a,l=i(63127),r=i(5406),n=i(39903),o=i(94379),s=i(86390),d=i(80052),u=i(33479),c=i(44125),v=i(81258),m=i(85893);let p=(0,d.Z)(e=>{let{hideAdvancedModes:t=!1,isAggregated:i,sortBy:d,searchForm:p,data:f}=e,{isOpened:g,open:h,close:Z}=(0,u.S)(!1),b=(0,v.Z)(f,p);return(0,m.jsxs)(m.Fragment,{children:[g&&(0,l.Z)(c.Z,{isAggregated:i,hideAdvancedModes:t,sortBy:d,sortingModes:b,close:Z}),(0,l.Z)("button",{type:"button","data-test":"MobileSorting",className:"me-50 max-w-[40%] rounded-100 bg-transparent"},void 0,(0,l.Z)(r.default,{asComponent:"div",onClick:h,type:"secondary",size:"small",iconLeft:a||(a=(0,l.Z)(s.default,{}))},void 0,(0,l.Z)(o.default,{},void 0,(0,l.Z)(n.default,{weight:"bold",size:"normal"},void 0,b[d].message))))]})})},62782:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WeekDaysFilter_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"inboundDays",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outboundDays",storageKey:null}],type:"ItinerariesMetadata",abstractKey:null};a.hash="a0bd70922e69444d960faa6004094e38";let l=a},60276:function(e,t,i){i.d(t,{Z:function(){return s}});var a=i(63127),l=i(5406),r=i(1410),n=i(96722),o=i(85893);let s=e=>{let{dataTest:t,selected:i=!1,open:s=!1,onClick:d,...u}=e,c=(0,n.Z)();return(0,a.Z)("button",{className:(0,r.Z)("[&>div>div]:-mt-50 [&>div]:text-normal",!c&&"px-50 py-150",(i||s)&&"[&>div]:!bg-blue-normal [&>div]:!text-white-normal"),"data-test":t,type:"button",onClick:d},void 0,(0,o.jsx)(l.default,{asComponent:"div",...u,circled:c}))}},7074:function(e,t,i){i.d(t,{Z:()=>b});var a,l,r=i("96942"),n=i.n(r),o=i("63127"),s=i("39903"),d=i("1410"),u=i("67294"),c=i("44012"),v=i("39719");let m=["departure","arrival"];var p=i("10499"),f=i("24031");let g=e=>{let{active:t,children:i,onClick:a}=e;return(0,o.Z)("button",{type:"button",onClick:a,className:(0,d.Z)("grow cursor-pointer border-0 border-b-2 border-solid bg-button-link-primary-background pb-150 transition-colors duration-normal",t?"border-b-product-normal":"border-b-cloud-normal")},void 0,i)};var h=i("85893");let Z={arrival:(0,o.Z)(c.Z,{id:"search.filter.times.arrival"}),departure:(0,o.Z)(c.Z,{id:"search.filter.times.departure"})},b=e=>{let{onChange:t,direction:i,children:r,standalone:b}=e,y=(0,v.v9)(f.D6),k=!b,x=(0,u.useCallback)(()=>(0,h.jsxs)(h.Fragment,{children:[(0,o.Z)(g,{active:0===i,onClick:n()(t,[0])},void 0,(0,o.Z)(s.default,{weight:"bold",type:1===i?"secondary":"primary",align:"center"},void 0,a||(a=(0,o.Z)(c.Z,{id:"result.outbound"})))),(0,o.Z)(g,{active:1===i,onClick:n()(t,[1])},void 0,(0,o.Z)(s.default,{weight:"bold",type:0===i?"secondary":"primary",align:"center"},void 0,l||(l=(0,o.Z)(c.Z,{id:"search.filter.times.trip.inbound"}))))]}),[i,t,k]),_=(0,u.useCallback)(()=>m.map((e,a)=>(0,o.Z)(g,{active:a===i,onClick:n()(t,[a])},e,(0,o.Z)(s.default,{weight:"bold",type:1===i?"secondary":"primary",align:"center"},void 0,Z[e]))),[i,t,k]),w=(()=>{switch((0,p.iJ)(y)){case p.xd.return:return x();case p.xd.multicity:return _();default:return null}})();return(0,o.Z)("div",{className:"flex min-w-[250px] flex-col"},void 0,w&&(0,o.Z)("div",{className:(0,d.Z)("flex justify-between rounded-t-100",k?"mb-600":"p-400 pb-200")},void 0,(0,o.Z)("div",{className:"flex w-full"},void 0,w)),(0,o.Z)("div",{className:(0,d.Z)("relative",!k&&"bg-white-normal p-400 pb-600 lm:pb-400")},void 0,r))}},85195:function(e,t,i){i.d(t,{f:function(){return a}});let a={price:{directions:{}},stops:{directions:{}},times:{directions:{multicity:!0,return:!0}},duration:{directions:{}},transport:{directions:{}},days:{directions:{return:!0}},airlines:{directions:{},mobileFullscreen:!0},countries:{directions:{},mobileFullscreen:!0},locations:{directions:{}},connections:{directions:{}},travelHacks:{directions:{}},bookingOptions:{directions:{}}}},91735:function(e,t,i){i.d(t,{Z:()=>u});var a=i("96345"),l=i("67294"),r=i("77044");let n=function(e){let t=null;return()=>{if(null==t)t=requestAnimationFrame(()=>{e(),t=null})}};var o=i("85893");let s=e=>`${e}px`,d=(e,t,i)=>i<0||i+t>e,u=e=>{let{offsetTopSelector:t,children:i}=e,u=(0,a.default)(),c=(0,l.useRef)(null),v=(0,l.useRef)(0),[m,p]=(0,l.useState)(0),[f,g]=(0,l.useState)({}),h=(0,l.useCallback)(()=>{if(!u||!c.current)return;let{scrollY:e}=window,t=window.innerHeight,{scrollHeight:i}=document.documentElement;if(d(i,t,e))return;let a=e-v.current,l=e>v.current,r=e<v.current,n=c.current.getBoundingClientRect(),o=n.height>t-m,p=n.top-m,f=t-0-n.bottom;if(v.current=e,!o&&l&&g({alignSelf:"flex-start",bottom:"auto",top:s(m)}),!o&&r){let e=m+p-a;g({alignSelf:"flex-start",bottom:"auto",top:e<m?s(e):s(m)})}if(o&&l){let e=0+f+a;g({alignSelf:"flex-end",top:"auto",bottom:e<0?s(e):s(0)})}if(o&&r){let e=m+p-a;g({alignSelf:"flex-start",bottom:"auto",top:e<m?s(e):s(m)})}},[u,m]);return(0,l.useEffect)(()=>{let e=n(h);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[h]),(0,l.useEffect)(()=>{if(null==t)return r.Z;let e=document.querySelector(t);if(null===e)return r.Z;let i=()=>e.getBoundingClientRect().height,a=()=>p(i());a();let l=n(a);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t]),(0,o.jsx)("div",{className:"sticky self-start",style:f,ref:c,children:i})}},66114:function(e,t,i){i.d(t,{JI:function(){return n},KW:function(){return o},S5:function(){return r},cq:function(){return l}});var a=i(50767);let l={category:"price graph",attributesType:a.KP.PRICE_GRAPH,action:"toggle",destinations:a.Rj},r={category:"price graph",attributesType:a.KP.PRICE_GRAPH,action:"move columns",destinations:a.Rj},n={category:"price graph",attributesType:a.KP.PRICE_GRAPH,action:"select column",destinations:a.Rj},o={category:"price graph",attributesType:a.KP.PRICE_GRAPH,action:"prices error",destinations:a.T9}},1804:function(e,t,i){i.d(t,{$c:function(){return n},UT:function(){return l},Ui:function(){return o},jB:function(){return r}});var a=i(50767);let l={category:"price matrix",action:"displayed",destinations:a.Rj},r={category:"price matrix",action:"move weeks",destinations:a.Rj},n={category:"price matrix",action:"dates selected",destinations:a.Rj},o={category:"price matrix",action:"prices error",destinations:a.T9}},948:function(e,t,i){i.d(t,{EJ:function(){return r},Q8:function(){return l},Sx:function(){return n},ae:function(){return a}});let a="nomadModifyItinerary",l="mobileFilters",r="modifyItinerary",n="mcModifyItinerary"},57902:function(e,t,i){i.d(t,{$V:function(){return N},A$:function(){return f},BM:function(){return T},CX:function(){return F},E2:function(){return b},Hm:function(){return A},JI:function(){return S},L3:function(){return m},Ll:function(){return y},OE:function(){return I},OX:function(){return C},RF:function(){return p},Rv:function(){return g},Sc:function(){return _},U$:function(){return w},UB:function(){return Z},WH:function(){return v},_e:function(){return s},ds:function(){return u},eJ:function(){return x},eO:function(){return r},fP:function(){return d},ib:function(){return o},mo:function(){return k},nF:function(){return n},sC:function(){return h},tg:function(){return l},uI:function(){return c},vY:function(){return a}});let a=300,l=12,r=12,n=12,o=16,s=500,d=3e3,u=5,c=3,v=7,m=75,p=44,f=10,g=420,h=500,Z=4,b=8,y=31,k=400,x=3e3,_=15,w=60,C=90,S=24,N=20,T=20,I=40,R=30,A=30+C,F=S+30},28031:function(e,t,i){i.d(t,{Mx:function(){return n},jo:function(){return r},k:function(){return l}});var a=i(19993);let l=[-1,0,1,2],r=(0,a.defineMessages)({"-1":{id:"search.filter.stops.options.any"},0:{id:"search.filter.stops.options.none"},1:{id:"search.filter.stops.options.one"},2:{id:"search.filter.stops.options.two"}}),n="stops"},99510:function(e,t,i){i.d(t,{Z:function(){return n},m:function(){return r}});var a=i(63127),l=i(67294);let r=(0,l.createContext)({isScarcityEligibilityReported:!1,setIsScarcityEligibilityReported:()=>{}}),n=e=>{let{children:t}=e,[i,n]=(0,l.useState)(!1);return(0,a.Z)(r.Provider,{value:{isScarcityEligibilityReported:i,setIsScarcityEligibilityReported:n}},void 0,t)}},34181:function(e,t,i){i.d(t,{Z:function(){return r}});var a=i(39719),l=i(20687);let r=()=>{let e=(0,a.v9)(l.O9);return{rtl:e,left:e?"right":"left",right:e?"left":"right"}}},1030:function(e,t,i){i.d(t,{Z:function(){return a}}),i(36330),i(38221),i(75863);let a=e=>{var t;let i=!1;return"undefined"!=typeof window&&(i="1"===new URLSearchParams(location.search).get("enableServerError")&&(!!window.SP_GLOBALS.IS_DEVELOPMENT||window.SP_GLOBALS.IS_STAGING)),!!(null==e?void 0:null===(t=e.statusPerProvider)||void 0===t?void 0:t.every(e=>null==e?void 0:e.errorHappened))||i}},56678:function(e,t,i){i.d(t,{Z:function(){return l}});var a=i(67294);let l=()=>{let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(window.matchMedia("(any-hover: hover)").matches)},[]),e}},15322:function(e,t,i){i.d(t,{Z:()=>H});var a,l,r,n,o,s=i("63127"),d=i("19342"),u=i("11226"),c=i("39903"),v=i("48778"),m=i("21548"),p=i.n(m),f=i("67294"),g=i("44012"),h=i("86896"),Z=i("39719"),b=i("11533"),y=i("45716"),k=i("60982"),x=i("32879"),_=i("858"),w=i("55386"),C=i("31735"),S=i("6691"),N=i("1410"),T=i("87775"),I=i("33297"),R=i("18906"),A=i("85893");class F extends f.PureComponent{constructor(e){super(e),(0,_.Z)(this,"toggleTimeout",null),(0,_.Z)(this,"onToggle",(e,t)=>{let{track:i,filterName:a,activeCount:l}=this.props;t?this.setState({renderChildren:!0},()=>{let{renderChildren:e}=this.state;if(!!e)this.toggleTimeout&&clearTimeout(this.toggleTimeout),this.toggleTimeout=setTimeout(()=>{this.setState({expanded:!0})},10)}):this.setState({expanded:!1},()=>{let{expanded:e}=this.state;if(!e)this.toggleTimeout&&clearTimeout(this.toggleTimeout),this.toggleTimeout=setTimeout(()=>{this.setState({renderChildren:!1})},160)}),t&&i(T.zj,{type:I.Xx[a].join(","),groupType:a,numOfActiveFilters:l})}),(0,_.Z)(this,"clear",e=>{e.stopPropagation();let{onClear:t,filterName:i}=this.props;t&&t(i)}),this.state={expanded:e.defaultExpanded,renderChildren:!0},!e.defaultExpanded&&(this.toggleTimeout=setTimeout(()=>{this.setState({renderChildren:!1})},10))}render(){let{filterName:e,selected:t,onClear:i,children:r,formatMessage:n}=this.props,{expanded:o,renderChildren:d}=this.state;return(0,s.Z)("div",{className:(0,N.Z)("mb-400 border-0 border-b border-solid border-b-cloud-normal last-of-type:mb-0 last-of-type:border-0 [&>div]:pb-0",o?"pb-300":"pb-400")},void 0,(0,s.Z)(w.default,{customLabel:"travelHacks"===e?(0,s.Z)("div",{className:"flex items-center safe-space-x-100"},void 0,a||(a=(0,s.Z)(S.default,{size:"small"})),(0,s.Z)("span",{},void 0,(0,A.jsx)(g.Z,{...(0,R.C)(e)}))):(0,A.jsx)(g.Z,{...(0,R.C)(e)}),expandButtonLabel:n({id:"orbit.collapse_expand"}),collapseButtonLabel:n({id:"orbit.collapse_collapse"}),expanded:o,onClick:this.onToggle,dataTest:`FilterHeader-${e}`,actions:t&&i&&(0,s.Z)(C.default,{onClick:this.clear,type:"secondary",dataTest:"HeaderLink"},void 0,l||(l=(0,s.Z)(g.Z,{id:"search.filter.multi_used.button.clear"})))},void 0,d?r:null))}}var D=i("7074"),P=i("80052"),E=i("85195"),L=i("359"),B=i("2119"),K=i("22964"),O=i("10499"),M=i("78291"),j=i("9481"),z=i("30711"),V=i("24031"),$=i("77044");let U=(e,t)=>(0,s.Z)("div",{className:"mb-200 me-200"},e,(0,s.Z)(u.default,{onClick:t,onRemove:t,size:"small",selected:!0},void 0,(0,A.jsx)(g.Z,{...(0,R.C)(e)}))),G=(0,P.Z)(e=>{var t,i;let{direction:a,searchForm:l,setFiltersDirection:u,filtersState:m,setFilter:_,resetFilter:w,setFilters:C,unconfirmedSearchForm:S,resetAllFilters:N,track:T,data:I,itinerariesMetadata:R,isLoading:P,carriers:G,showPriceAlert:H=!1}=e,W=(0,Z.v9)(M.aG),q=(0,Z.v9)(V.$T),Q=(0,Z.v9)(e=>(0,M.tO)(e,{shouldCountFiltersByGroup:!0})),J=(0,Z.v9)(z.o),Y=!!(q&&!B.s5(q)),X=Q>0,ee=O.iJ(l),{formatMessage:et}=(0,h.Z)(),ei=(0,f.useCallback)((e,t)=>{if(!e)return null;let i=E.f[e],r=(0,x.i)(e,{direction:a,filtersState:m,setFilter:_,standalone:!1,searchForm:l,isModal:!1},{data:R,isLoading:P,onClose:$.Z,carriers:G}),n=i.directions[ee]?(0,s.Z)(D.Z,{direction:a,onChange:u},void 0,r):r;return(0,s.Z)(F,{filterName:e,defaultExpanded:(0,b.le)("initial_load")&&X?m.isGroupSet(e):t,selected:m.isGroupSet(e),onClear:w,activeCount:Q,track:T,formatMessage:et},e,n)},[R,a,m,_,l,P,G,ee,u,X,w,Q,T]),ea=(0,j.QW)(C,m,S,q),el=(0,j.M1)(C,m,S),er=W.filter(e=>m.isGroupSet(e)),en=!(0,B.s5)(q),eo=(ee===O.xd.return||ee===O.xd.multicity)&&m.isSet(K.zS);return(0,A.jsxs)(A.Fragment,{children:[H&&J&&(0,s.Z)(k.Z,{data:null!==(t=null==I?void 0:I.metadata)&&void 0!==t?t:null,isLoading:P}),X&&(0,A.jsxs)(A.Fragment,{children:[(0,s.Z)("div",{className:"mb-400 flex h-800 items-center justify-between","data-test":"ActiveFiltersHeader"},void 0,(0,s.Z)(c.default,{weight:"bold"},void 0,1===Q?r||(r=(0,s.Z)(g.Z,{id:"filters.active_count_one"})):(0,s.Z)(g.Z,{id:"filters.active_count",values:{count:Q}})),(0,s.Z)(d.default,{size:"small",type:"secondary",iconLeft:n||(n=(0,s.Z)(v.default,{})),onClick:N,dataTest:"ClearButton"},void 0,o||(o=(0,s.Z)(g.Z,{id:"result.filter.clear_filters"})))),(0,s.Z)("div",{className:"flex flex-wrap mb-400 pb-300 border-0 border-b-card border-solid","data-test":"activeFilters"},void 0,en&&U(L.Zs,ea),eo&&U(K.zS,p()(w,null,K.zS)),er.map(e=>U(e,p()(w,null,e,void 0))))]}),W.map((e,t)=>"bags"===e?(0,s.Z)(F,{filterName:L.Zs,defaultExpanded:!X||Y,selected:Y,onClear:ea,formatMessage:et,track:T},L.Zs,i||(i=(0,s.Z)(y.Z,{id:"bagsPickerFilters",bags:q,onChange:el,isFiltersSidebar:!0}))):ei(e,t<3))]})}),H=(0,f.memo)(G)},9692:function(e,t,i){i.d(t,{Z:function(){return c}});var a,l,r=i(63127),n=i(51035),o=i(39903),s=i(44012),d=i(80832),u=i(12085);let c=()=>(0,r.Z)(u.Z,{},void 0,(0,r.Z)(d.Z,{src:"https://images.kiwi.com/search/no-results/empty-query.png",alt:"empty",width:315,height:215,srcsetSizes:[315,630,945],sizes:"(min-width: 315px) 315px, 100vw",className:"mb-600"}),a||(a=(0,r.Z)(n.default,{type:"title2",spaceAfter:"normal",align:"center"},void 0,(0,r.Z)(s.Z,{id:"result.empty_title"}))),l||(l=(0,r.Z)(o.default,{spaceAfter:"large",align:"center"},void 0,(0,r.Z)(s.Z,{id:"result.empty_desc"}))))},6693:function(e,t,i){i.d(t,{Z:()=>h0});var a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x,_,w,C,S,N,T,I,R,A,F,D,P,E,L,B,K,O,M,j,z,V,$,U,G,H,W,q,Q,J,Y,X,ee,et,ei,ea,el,er,en,eo,es,ed,eu,ec,ev,em,ep,ef,eg,eh,eZ,eb,ey,ek,ex,e_,ew,eC,eS,eN,eT,eI,eR,eA,eF,eD,eP,eE,eL,eB,eK,eO,eM,ej,ez,eV,e$,eU,eG,eH,eW,eq,eQ,eJ,eY,eX,e0,e1,e2,e3,e4,e5,e9,e6,e7,e8,te,tt,ti,ta,tl,tr,tn,to,ts,td,tu,tc,tv,tm,tp,tf,tg,th,tZ,tb,ty,tk,tx,t_,tw,tC,tS,tN,tT,tI,tR,tA,tF,tD,tP,tE,tL,tB,tK,tO,tM,tj,tz,tV,t$,tU,tG,tH,tW,tq,tQ,tJ,tY,tX,t0,t1,t2,t3,t4,t5,t9,t6,t7,t8,ie,it,ii,ia,il,ir,io,is,id,iu,ic,iv,im,ip,ig,ih,iZ,ib,iy,ik,ix,i_,iw,iC,iS,iN,iT,iI,iR,iA,iF,iD,iP,iE,iL,iB,iK,iO,iM,ij,iz,iV,i$,iU,iG,iH,iW,iq,iQ,iJ,iY,iX,i0,i1,i2,i3,i4,i5,i9,i6,i7,i8,ae,at,ai,aa,al,ar,an,ao,as,ad,au,ac,av,am,ap,af,ag,ah,aZ,ab,ay,ak,ax,a_,aw,aC,aS,aN,aT,aI,aR,aA,aF,aD,aP,aE,aL,aB,aK,aO,aM,aj,az,aV,a$,aU,aG,aH,aW,aq,aQ,aJ,aY,aX,a0,a1,a2,a3,a4,a5,a9,a6,a7,a8,le,lt,li,la,ll,lr,ln,lo,ls,ld,lu,lc,lv,lm,lp,lf,lg,lh,lZ,lb,ly,lk,lx,l_,lw,lC,lS,lN,lT,lI,lR,lA,lF,lD,lP,lE,lL,lB,lK,lO,lM,lj,lz,lV,l$,lU,lG,lH,lW,lq,lQ,lJ,lY,lX,l0,l1,l2,l3,l4,l5,l9,l6,l7,l8,re,rt,ri,ra,rl,rr,rn,ro,rs,rd,ru,rc,rv,rm,rp,rf,rg,rh,rZ,rb,ry,rk,rx,r_,rw,rC,rS,rN,rT,rI,rR,rA,rF,rD,rP,rE,rL,rB,rK,rO,rM,rj,rz,rV,r$,rU,rG,rH,rW,rq,rQ,rJ,rY,rX,r0,r1,r2,r3,r4,r5,r9,r6,r7,r8,ne,nt,ni,na,nl,nr,nn,no,ns,nd,nu,nc,nv,nm,np,nf,ng,nh,nZ,nb,ny,nk,nx,n_,nw,nC,nS,nN,nT,nI,nR,nA,nF,nD,nP,nE,nL,nB,nK,nO,nM,nj,nz,nV,n$,nU,nG,nH,nW,nq,nQ,nJ,nY,nX=i("63127"),n0=i("42157"),n1=i.n(n0);i("36330"),i("38221"),i("75863");var n2=i("1410"),n3=i("67294"),n4=i("39719"),n5=i("89250"),n9=i("59150"),n6=i("7055"),n7=i("95433"),n8=i("49293"),oe=i("23101"),ot=i("30316");let oi=e=>{let{isLoading:t}=e,{isDebugModeOn:i,turnOffDebugMode:l}=(0,ot.Z)(),{affiliate:r,branding:{partner:n}}=(0,n4.v9)(oe.T);return i?(0,nX.Z)(n7.default,{type:"warning",title:"You are currently in content debugging mode. "},void 0,(0,nX.Z)("div",{className:"flex w-full flex-row items-center justify-between"},void 0,(0,nX.Z)("div",{className:"flex flex-row"},void 0,"affiliateID: ",r,", partner: ",n,t&&(a||(a=(0,nX.Z)("div",{},void 0,(0,nX.Z)("span",{className:"me-xxs"},void 0,", polling in progress"),(0,nX.Z)(n8.default,{type:"inlineLoader"}))))),(0,nX.Z)("div",{},void 0,(0,nX.Z)(n7.AlertButton,{type:"criticalSubtle",onClick:l},void 0,"Turn off")))):null};var oa=i("98341"),ol=i("79963"),or=i("66114"),on=i("1804"),oo=i("3279"),os=i("54056"),od=i("30375"),ou=i("39142"),oc=i("758"),ov=i("49117"),om=i("57902"),op=i("20687"),of=i("77044"),og=i("85199");let oh=(e,t,i)=>("matrix"===e?t:i)-om.eO-om.eO,oZ=(e,t,i,a)=>t&&i&&"graph"===e?a+om.eO:om.eO,ob=(e,t,i)=>("matrix"===e?t:i)+(om.ib+om.nF),oy=(e,t,i,a)=>t&&i&&"graph"===e?a+om.ib+om.nF+om.eO+om.eO+om.eO:om.eO;var ok=i("39903"),ox=i("44012"),o_=i("13194"),ow=i("85893");let oC=e=>{let{buttonType:t,arePriceTrendsOpened:i,arePriceTrendsClosing:a,titleWidth:r,titleRef:n,dataTest:o,shouldDisplayQuickNav:s,areBothPriceCardsAvailable:d=!1,openPriceTrend:u}=e;return(0,nX.Z)("div",{role:"presentation",className:(0,n2.Z)("flex h-auto cursor-pointer items-center whitespace-nowrap rounded-b-200 bg-white-normal p-300 leading-normal transition-all duration-normal ease-out not-first:mt-0 not-first:rounded-bl-none rtl:not-first:rounded-bl-200 rtl:not-first:rounded-br-none",i||a?"shadow-none":"shadow-level1",d&&"first:rounded-br-none rtl:first:rounded-bl-none rtl:first:rounded-br-200",i?"hover:shadow-none not-first:ms-0":"hover:shadow-level2",!i&&!s&&"rounded-t-200 not-first:ms-300"),style:{width:i&&r?`${r+om.ib+om.nF+2*om.eO}px`:"100%"},onClick:u,"data-test":o},void 0,(0,nX.Z)("span",{className:"me-300"},void 0,o_.Z[t].icon),(0,ow.jsx)("span",{ref:n,children:(0,nX.Z)(ok.default,{size:"normal",weight:"bold",as:"span"},void 0,(0,ow.jsx)(ox.Z,{...o_.Z[t].message}))},t),(0,nX.Z)("div",{className:(0,n2.Z)("ms-auto",i&&"rotate-180",(i||a)&&"hidden")},void 0,l||(l=(0,nX.Z)(og.default,{color:"secondary",size:"small"}))))},oS=e=>{let{showPriceMatrix:t,showPriceGraph:i,openedCard:a,arePriceTrendsClosing:l=!1,showUnderline:n,isRtl:o,shouldDisplayQuickNav:s=!1,openPriceMatrix:d,openPriceGraph:u,onClosePriceTrends:c}=e,v=(0,n3.useRef)(null),[m,p]=(0,n3.useState)(0),f=(0,n3.useRef)(null),[g,h]=(0,n3.useState)(0),Z=!!a,b=ob(a,m,g),y=(o?-1:1)*oy(a,t,i,m);return(0,n3.useEffect)(()=>{p(v.current?v.current.getBoundingClientRect().width:0),h(f.current?f.current.getBoundingClientRect().width:0)},[t,i]),(0,nX.Z)("div",{className:(0,n2.Z)("relative z-20 flex",Z||l?"overflow-hidden bg-white-normal shadow-level1":"bg-button-link-primary-background",(Z||l)&&!s&&"rounded-t-200")},void 0,t&&(0,nX.Z)(oC,{buttonType:"matrix",arePriceTrendsOpened:Z,arePriceTrendsClosing:!!l,openPriceTrend:d,titleWidth:m||0,titleRef:v,shouldDisplayQuickNav:s,areBothPriceCardsAvailable:i,dataTest:"PriceMatrixButton"}),i&&(0,nX.Z)(oC,{buttonType:"graph",arePriceTrendsOpened:Z,arePriceTrendsClosing:!!l,openPriceTrend:u,titleWidth:g||0,titleRef:f,shouldDisplayQuickNav:s,areBothPriceCardsAvailable:t,dataTest:"PriceGraphButton"}),(0,nX.Z)("button",{type:"button",className:(0,n2.Z)("absolute top-0 flex h-full w-1000 cursor-pointer items-center justify-center bg-button-link-primary-background transition-transform duration-normal ease-out safe-end-0",Z?"z-default rotate-180":"-z-default"),onClick:c},void 0,r||(r=(0,nX.Z)(og.default,{color:"tertiary",size:"small"}))),n&&(t&&0!==m||i&&0!==g)&&(0,nX.Z)("div",{className:"absolute bottom-0 h-50 bg-product-normal transition-all duration-slow safe-start-0",style:{width:`${b}px`,transform:`translateX(${y}px)`}}))},oN=e=>["entering","entered"].includes(e),oT=e=>{let{showPriceMatrix:t,showPriceGraph:i,openedCard:a,openPriceMatrix:l,openPriceGraph:r,onClosePriceTrends:s,shouldShowNoResults:d,shouldShowNoResultsPriceMatrixOrGraph:u,shouldDisplayQuickNav:c}=e,v=(0,n4.v9)(op.O9);(0,n3.useRef)(null).current=a;let m=(0,n3.useRef)(null),p="graph"===a?om.mo:om.Rv;return(0,nX.Z)(od.default,{nodeRef:m,in:!!a,timeout:om.vY},void 0,e=>(0,ow.jsxs)("div",{className:(0,n2.Z)("hidden tb:block",!!(a&&"entered"===e)&&"shadow-level1 transition-shadow duration-normal ease-out hover:shadow-level2",c?"rounded-b-200":"rounded-200"),ref:m,children:[!d&&(0,nX.Z)(oS,{showPriceMatrix:t,showPriceGraph:i,openedCard:a,arePriceTrendsClosing:"exiting"===e,showUnderline:"entered"===e,openPriceMatrix:l,openPriceGraph:r,isRtl:v,onClosePriceTrends:s,shouldDisplayQuickNav:c}),(0,nX.Z)(ou.ZP,{disableHeight:!0},void 0,l=>{let{width:r}=l;return(0,nX.Z)("div",{className:"overflow-hidden rounded-b-200 bg-white-normal transition-all duration-normal",style:{width:oN(e)?`${r}px`:0,height:oN(e)?`${p}px`:0}},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex w-[200%] flex-1 rounded-200 transition duration-slow","graph"===a&&"-translate-x-1/2 rtl:translate-x-1/2","entered"===e?"opacity-1":"opacity-0"),style:{height:`${Math.max(om.mo,om.Rv)}px`}},void 0,"entered"===e&&(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"w-1/2",style:{height:`${om.Rv}px`}},void 0,t&&(0,nX.Z)(n3.Suspense,{fallback:n||(n=(0,nX.Z)(n8.default,{}))},void 0,(0,nX.Z)(ov.Z,{containerWidth:r,isVisible:"matrix"===a,isMobile:!1,isInModal:!1,onClosePriceTrends:of.Z,shouldShowNoResultsPriceMatrixOrGraph:u}))),(0,nX.Z)("div",{className:"w-1/2",style:{height:`${om.mo}px`}},void 0,i&&(0,nX.Z)(n3.Suspense,{fallback:o||(o=(0,nX.Z)(n8.default,{}))},void 0,(0,nX.Z)(oc.Z,{containerWidth:r,isVisible:"graph"===a,isMobile:!1,isInModal:!1,onClosePriceTrends:of.Z,shouldShowNoResultsPriceMatrixOrGraph:u})))]})))})]}))};var oI=i("6758");let oR=e=>{let{children:t}=e;return(0,nX.Z)(oI.Z,{noHeader:!0,showCancel:!1,shouldUseDeprecatedLockScrolling:!0},void 0,t)},oA=e=>{let{buttonType:t,areDummyButtons:i=!1,arePriceTrendsOpened:a,shouldDisplayQuickNav:l,buttonRef:r,openPriceTrend:n}=e;return(0,ow.jsxs)("div",{role:"presentation",className:(0,n2.Z)("flex cursor-pointer items-center bg-white-normal p-300 transition-transform duration-normal ease-out",i?"h-auto shadow-level1 not-first:mt-300":"h-[56px]",l?"rounded-b-200":"rounded-200"),onClick:()=>{n(),window.history.pushState({isPriceTool:!0},"","#priceMatrix")},ref:r,children:[i&&(0,nX.Z)("span",{className:"me-300"},void 0,o_.Z[t].icon),(0,nX.Z)("span",{},t,(0,nX.Z)(ok.default,{size:"normal",weight:"bold",as:"span"},void 0,(0,ow.jsx)(ox.Z,{...o_.Z[t].message}))),(0,nX.Z)("div",{className:(0,n2.Z)("ms-auto",a&&"rotate-180",!i&&"hidden")},void 0,(0,nX.Z)(og.default,{color:"secondary",size:"small",className:(0,n2.Z)("arrow",{open:a})}))]})};var oF=i("81197");let oD=e=>{let{showPriceMatrix:t,showPriceGraph:i,openedCard:a,isRtl:l,openPriceMatrix:r,openPriceGraph:n,onClosePriceTrends:o,shouldShowNoResultsPriceMatrixOrGraph:d,isReturn:u=!1}=e,c=(0,n3.useRef)(null),[v,m]=(0,n3.useState)(0),p=(0,n3.useRef)(null),[f,g]=(0,n3.useState)(0),h=!!a,Z=oh(a,v,f),b=(l?-1:1)*oZ(a,t,i,v);return(0,n3.useEffect)(()=>{m(c.current?c.current.getBoundingClientRect().width:0),g(p.current?p.current.getBoundingClientRect().width:0)},[t,i]),(0,nX.Z)("div",{className:"relative z-default flex shadow-fixed"},void 0,t&&(0,nX.Z)(oA,{buttonType:"matrix",arePriceTrendsOpened:h,openPriceTrend:r,buttonRef:c}),i&&(!d||!u)&&(0,nX.Z)(oA,{buttonType:"graph",arePriceTrendsOpened:h,openPriceTrend:n,buttonRef:p}),(0,nX.Z)("button",{className:"absolute top-0 flex h-full w-1000 cursor-pointer items-center justify-center bg-transparent safe-end-0",type:"button",onClick:o},void 0,s||(s=(0,nX.Z)(oF.default,{color:"tertiary",size:"small"}))),(t&&0!==v||i&&0!==f)&&(0,nX.Z)("div",{className:"absolute bottom-0 h-50 bg-product-normal transition-all duration-slow safe-start-0",style:{width:`${Z}px`,transform:`translateX(${b}px)`}}))},oP=e=>{var t;let{showPriceMatrix:i,showPriceGraph:a,openedCard:l,openPriceMatrix:r,openPriceGraph:n,onClosePriceTrends:o,shouldShowNoResultsPriceMatrixOrGraph:s,isReturn:c=!1,shouldDisplayQuickNav:v=!1}=e,m=!!l,p=(0,n4.v9)(op.O9);return(0,nX.Z)("div",{className:"tb:hidden"},void 0,(i||a)&&(0,nX.Z)(oA,{buttonType:"charts",areDummyButtons:!0,arePriceTrendsOpened:m,openPriceTrend:r,shouldDisplayQuickNav:v}),m&&(0,nX.Z)(oR,{},void 0,(0,nX.Z)(ou.ZP,{},void 0,e=>{let{width:v,height:m}=e;return(0,nX.Z)("div",{className:"flex w-screen flex-col overflow-hidden",style:{height:m},"data-test":"PriceTrendsModalMobile"},void 0,t||(t=(0,nX.Z)(oD,{showPriceMatrix:i,showPriceGraph:a,openedCard:l,isRtl:p,openPriceMatrix:r,openPriceGraph:n,onClosePriceTrends:o,shouldShowNoResultsPriceMatrixOrGraph:s,isReturn:c})),(0,nX.Z)("div",{className:(0,n2.Z)("flex w-[200vw] flex-1 transition-transform duration-slow","graph"===l&&"translate-x-[-100vw] rtl:translate-x-[100vw]")},void 0,(0,nX.Z)("div",{className:"relative w-screen"},void 0,i&&(0,nX.Z)(n3.Suspense,{fallback:d||(d=(0,nX.Z)(n8.default,{}))},void 0,(0,nX.Z)(ov.Z,{containerWidth:v,onClosePriceTrends:o,isVisible:"matrix"===l,isMobile:!0,isInModal:!0,shouldShowNoResultsPriceMatrixOrGraph:s}))),(0,nX.Z)("div",{className:"relative w-screen"},void 0,a&&(0,nX.Z)(n3.Suspense,{fallback:u||(u=(0,nX.Z)(n8.default,{}))},void 0,(0,nX.Z)(oc.Z,{containerWidth:v,onClosePriceTrends:o,isVisible:"graph"===l,isMobile:!0,isInModal:!0,shouldShowNoResultsPriceMatrixOrGraph:s})))))})))},oE=(0,n3.memo)(e=>{let{showPriceMatrix:t,showPriceGraph:i,openPriceTrends:a=null,shouldShowNoResults:l,isReturn:r,shouldShowNoResultsPriceMatrixOrGraph:n,shouldDisplayQuickNav:o}=e,{isMobile:s,isLargeDesktop:d}=(0,oo.Z)(),u=!!(a&&!s),[c,v]=(0,n3.useState)(u?a:null),m=(0,os.SK)(),p=(0,n3.useCallback)(()=>v("matrix"),[v]),f=(0,n3.useCallback)(()=>v("graph"),[v]),g=(0,n3.useCallback)(()=>{"matrix"===c&&m(on.UT,{open:!1,isNoResults:n}),"graph"===c&&m(or.cq,{open:!1,isNoResults:n}),v(null)},[c,l,m]);(0,n3.useEffect)(()=>(window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)),[g]),!i&&"graph"===c&&p(),!t&&"matrix"===c&&f(),!t&&!i&&g();let h=(0,n3.useCallback)(()=>{g(),s&&window.history.back()},[s]);return(0,ow.jsxs)(ow.Fragment,{children:[s&&(0,nX.Z)("div",{className:"mb-400","data-test":"PriceTrendsContent"},void 0,(0,nX.Z)(oP,{showPriceMatrix:t,showPriceGraph:i,openedCard:c,openPriceMatrix:p,openPriceGraph:f,onClosePriceTrends:h,shouldDisplayQuickNav:o,isReturn:r,shouldShowNoResultsPriceMatrixOrGraph:n})),!s&&(d&&n||!d)&&(0,nX.Z)("div",{className:(0,n2.Z)("mb-400",!n&&"ld:hidden"),"data-test":"PriceTrendsContent"},void 0,(0,nX.Z)(oT,{showPriceMatrix:t,showPriceGraph:i,openedCard:c,openPriceMatrix:p,openPriceGraph:f,onClosePriceTrends:g,shouldShowNoResultsPriceMatrixOrGraph:n,shouldShowNoResults:l,shouldDisplayQuickNav:o}))]})});var oL=i("56396"),oB=i.n(oL),oK=i("74094"),oO=i("83214"),oM=i("41958"),oj=i("35254"),oz=i("72841"),oV=i("12490"),o$=i("99081"),oU=i("28147"),oG=i("22964"),oH=i("38895"),oW=i("10499"),oq=i("13670"),oQ=i("64138"),oJ=i("69498"),oY=i("27244");let oX=()=>{let e=(0,oY.Z)(),t=(0,oQ.Z)(),i=(0,oq.Z)(),a=(0,oJ.Z)();return(0,n3.useCallback)(()=>{e({module:"search",category:"flights",action:"quick date navigation clicked",event_name:"search: flights: quick date navigation clicked",props:{...t,...i,...a}})},[t,i,a,e])};var o0=i("79021"),o1=i("60400"),o2=i("38719"),o3=i("94853"),o4=i("51659"),o5=i("77940"),o9=i("9031"),o6=i("96637"),o7=i("19993"),o8=i("34181"),se=i("51636"),st=i("22578"),si=i("31875"),sa=i("92852");let sl=void 0!==c?c:c=i(19846),sr=e=>{var t,i;let{price:a,isLoading:l}=e,r=(0,st.useFragment)(sl,a),n=null==r?void 0:null===(t=r.price)||void 0===t?void 0:t.roundedAmount,o=(0,sa.z)(n);return(0,nX.Z)(ok.default,{dataTest:"QuickNavigationPrice",as:"div",size:"small",spaceAfter:"smallest",type:(null==r?void 0:r.ratedPrice)==="CHEAP"?"success":(null==r?void 0:r.ratedPrice)==="EXPENSIVE"?"critical":"secondary"},void 0,l?v||(v=(0,nX.Z)(se.default,{width:22,height:16,animate:!0})):0===o?"-":i||(i=(0,nX.Z)(si.Z,{maxSize:99},void 0,o)))},sn=e=>{let{children:t,disabledTransition:i,move:a,visibleItemsCount:l,onTransitionEnd:r}=e,{rtl:n}=(0,o8.Z)();return(0,nX.Z)("div",{"data-test":"QuickNavigationSection",className:"h-1600 overflow-hidden rounded-t-200 border-0 max-ld:border-b-card max-ld:border-solid ld:rounded-200"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("grid h-full w-[300%] gap-x-px bg-cloud-normal",5===l?"grid-cols-[repeat(15,1fr)]":"grid-cols-[repeat(9,1fr)]",!i&&"transition-transform duration-normal ease-out"),onTransitionEnd:r,style:{transform:`translateX(${n?a:`-${a}`}%)`}},void 0,t))},so=e=>{let{className:t}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("pointer-events-none absolute top-0 h-[63px] w-[56px] from-white-normal tb:hidden",t)})},ss=e=>{let{children:t,isSelected:i,onClick:a}=e;return(0,nX.Z)("button",{"data-test":"QuickNavigationButton",className:(0,n2.Z)("flex max-h-[63px] cursor-pointer flex-col items-center justify-center gap-100 bg-white-normal pt-100 leading-normal hover:text-blue-dark",i&&"rounded-100 border-2 border-solid border-blue-normal",i?"text-blue-normal":"text-ink-dark"),type:"button",onClick:a},void 0,t)},sd=e=>{let{children:t,className:i,dataTest:a,disabled:l,onClick:r}=e;return(0,nX.Z)("button",{"data-test":a,className:(0,n2.Z)("absolute top-400 z-default flex h-800 w-800 cursor-pointer items-center justify-center rounded-full bg-white-normal shadow-level1 hover:shadow-level2",i),disabled:l,type:"button",onClick:r},void 0,t)},su=e=>{let{data:t,outboundDate:i,visibleItemsCount:a,allItemsCount:l,items:r,carouselIndex:n,disableTransition:o,isAnimating:s,isPrevButtonEnabled:d,isLoadingPrices:u=!1,onClickPrev:c,onClickNext:v,onTransitionEnd:h,onItemClick:Z}=e,{rtl:b}=(0,o8.Z)(),y=100/l*(n-(5===a?2:1));return(0,nX.Z)("div",{className:"relative"},void 0,(0,nX.Z)(sn,{visibleItemsCount:a,move:y>0?y:0,disabledTransition:o,onTransitionEnd:h},void 0,r.map(e=>{var a,l,r;let{from:n,to:o}=e,d=!(0,oj.K)(n,o),c=(0,oj.K)(n,i.from);return(0,nX.Z)(ss,{isSelected:c,onClick:()=>{Z(n)}},n.toDateString(),(0,nX.Z)("div",{"data-test":"QuickNavigationDate"},void 0,(0,nX.Z)(o7.FormattedDate,{value:n,day:"numeric",month:"short",weekday:d?void 0:"short"}),d&&(0,ow.jsxs)(ow.Fragment,{children:[" ","- ",(0,nX.Z)(o7.FormattedDate,{value:o,day:"numeric",month:"short"})]})),(0,nX.Z)(sr,{price:null!==(a=null===(l=t.itineraryPriceGraph)||void 0===l?void 0:null===(r=l.prices)||void 0===r?void 0:r.find(e=>(null==e?void 0:e.date)!=null&&(0,oj.K)(new Date(e.date),n)))&&void 0!==a?a:null,isLoading:u||s}))})),d&&(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(sd,{dataTest:"QuickNavigationPreviousButton",className:"-safe-start-200",onClick:c,disabled:s},void 0,b?m||(m=(0,nX.Z)(o6.default,{})):p||(p=(0,nX.Z)(o9.default,{}))),(0,nX.Z)(so,{className:(0,n2.Z)("rounded-200 safe-start-0",b?"bg-gradient-to-l":"bg-gradient-to-r")})]}),(0,nX.Z)(sd,{dataTest:"QuickNavigationNextButton",className:"-safe-end-200",onClick:v,disabled:s},void 0,b?f||(f=(0,nX.Z)(o9.default,{})):g||(g=(0,nX.Z)(o6.default,{}))),(0,nX.Z)(so,{className:(0,n2.Z)("rounded-200 safe-end-0",b?"bg-gradient-to-r":"bg-gradient-to-l")}))},sc=void 0!==h?h:h=i(5166),sv=e=>(0,st.useLazyLoadQuery)(sc,e),sm=e=>{let{outboundDate:t,visibleItemsCount:i,allItemsCount:a,items:l,carouselIndex:r,disableTransition:n,isAnimating:o,isPrevButtonEnabled:s,variables:d,onClickPrev:u,onClickNext:c,onTransitionEnd:v,onItemClick:m}=e,p=sv(d);return(0,n3.useEffect)(()=>{v()},[p]),(0,nX.Z)(su,{data:p,outboundDate:t,visibleItemsCount:i,allItemsCount:a,items:l,carouselIndex:r,disableTransition:n,isAnimating:o,isPrevButtonEnabled:s,onClickPrev:u,onClickNext:c,onTransitionEnd:v,onItemClick:m})},sp=e=>{let{outboundDate:t,visibleItemsCount:i,allItemsCount:a,priceGraphProps:l,items:r,carouselIndex:n,disableTransition:o,isAnimating:s,isPrevButtonEnabled:d,onClickPrev:u,onClickNext:c,onTransitionEnd:v,onItemClick:m}=e,p=(0,os.SK)(),f=(0,o5.Z)(l),g=(0,n3.useCallback)(e=>{p(or.KW,{query:f,error:e})},[p,f]);return(0,nX.Z)(o4.Z,{onError:g},void 0,(0,nX.Z)(n3.Suspense,{fallback:(0,nX.Z)(su,{outboundDate:t,visibleItemsCount:i,allItemsCount:a,items:r,carouselIndex:n,disableTransition:o,isAnimating:s,data:{itineraryPriceGraph:null},isLoadingPrices:!0,isPrevButtonEnabled:d,onClickPrev:u,onClickNext:c,onTransitionEnd:v,onItemClick:m})},void 0,(0,nX.Z)(sm,{outboundDate:t,variables:f,visibleItemsCount:i,allItemsCount:a,items:r,carouselIndex:n,disableTransition:o,isAnimating:s,isPrevButtonEnabled:d,onClickPrev:u,onClickNext:c,onTransitionEnd:v,onItemClick:m})))},sf=e=>{let{outboundDate:t,inboundDate:i,searchForm:a,isTabletOrDesktop:l,isReturn:r}=e,n=(0,os.SK)(),o=(0,o2.SS)(),s=(0,o1.cZ)(),d=(0,o2.a0)(),u=(0,n4.v9)(o0.p),c=oX(),v=l?5:3,m=3*v,p=Math.floor(m/2),f=5===v?2:1,g=()=>{let e=(0,oV.I)(),i=(0,o$.k)(t.from,f),a=(0,oM.R)(i,e)?e:i;return{startDate:a,endDate:(0,oK.E)(a,v-1)}},h=g(),[Z,b]=(0,n3.useState)(h),{startDate:y,endDate:k}=Z,x=null===i?0:(0,oO.j)(i.from,t.from),_=e=>{let t=(0,o$.k)(e,v);return oB()(0,m).map(e=>{let i=(0,oK.E)(t,e),a=(0,oK.E)(i,x);return(0,oM.R)(i,(0,oV.I)())?null:{from:i,to:a}}).filter(o3.v)},w=_(y),[C,S]=(0,n3.useState)(w),N=e=>m>e.length?p-(m-e.length):p,[T,I]=(0,n3.useState)(N(w)),[R,A]=(0,n3.useState)(!1),[F,D]=(0,n3.useState)(!1),P=!(0,oz.z)(y),E=()=>{if(null==C[T])return n(oU.GG,{items:C,carouselIndex:T}),{newStartDate:(0,oV.I)(),newFirstDateDiff:0};let e=C[T].from,t=(0,o$.k)(e,f),i=(0,oM.R)(t,(0,oV.I)())?(0,oV.I)():t,a=(0,o$.k)(i,v),l=(0,oM.R)(a,(0,oV.I)())?(0,oV.I)():a;return{newStartDate:i,newFirstDateDiff:(0,oO.j)(l,a)}};return(0,n3.useEffect)(()=>{if(R){let{newFirstDateDiff:e,newStartDate:t}=E();S(_(t)),I(p-e),b({startDate:t,endDate:(0,oK.E)(t,v-1)}),setTimeout(()=>{A(!1),D(!1)},60)}},[R]),(0,n3.useEffect)(()=>{let e=g(),t=_(e.startDate),i=N(t);b(e),S(t),I(i)},[t,i]),(0,nX.Z)(sp,{outboundDate:t,visibleItemsCount:v,allItemsCount:m,items:C,carouselIndex:T,disableTransition:R,isAnimating:F,isPrevButtonEnabled:P,priceGraphProps:{startDate:y,endDate:k,tripLengthFrom:x,tripLengthTo:x,searchForm:a},onClickPrev:()=>{let e=T-v;D(!0),I(e<0?0:e),n(oU.pd,{direction:"back"})},onClickNext:()=>{D(!0),I(T+v),n(oU.pd,{direction:"forward"})},onTransitionEnd:()=>{A(!0)},onItemClick:e=>{if((0,oj.K)(e,t.from))return;let i=(0,oW.GS)((0,oH.I9)(e),"outboundDate",a);if(r){let t=(0,oK.E)(e,x),a=(0,oW.GS)((0,oH.I9)(t),"inboundDate",i);d(a,u.set("lockedSectors",new oG.ZP)),s(a)}else o(i);I(C.findIndex(t=>t.from===e)),c(),n(oU.ls)}})},sg=e=>{let{isTabletOrDesktop:t}=e,i=t?5:3;return(0,nX.Z)("div",{className:"relative"},void 0,(0,nX.Z)(sn,{visibleItemsCount:i,move:0,disabledTransition:!0},void 0,oB()(0,i).map(e=>(0,nX.Z)(ss,{isSelected:!1,onClick:of.Z},e,Z||(Z=(0,nX.Z)(se.default,{width:112,height:22,animate:!0})),b||(b=(0,nX.Z)(sr,{price:null,isLoading:!0}))))))},sh=e=>{let{outboundDate:t,inboundDate:i,searchForm:a,isReturn:l}=e,r="undefined"==typeof window,{isTabletOrDesktop:n,_isUnsafe:o}=(0,oo.Z)();return r||o?(0,nX.Z)(sg,{isTabletOrDesktop:n}):(0,nX.Z)(sf,{outboundDate:t,inboundDate:i,searchForm:a,isTabletOrDesktop:n,isReturn:l})};var sZ=i("27356"),sb=i("96695");let sy=e=>{let t=(0,oW.iJ)(e),i=(0,sb.OE)(t),a=(0,sb.DR)(t),l=e.cabinClass.type===sZ.Ux,{outboundDate:r,inboundDate:n}=e;if(i&&l){if(a&&(0,oH.Ls)(r)&&(0,oH.Ws)(r))return{shouldDisplayQuickNav:!0,quickNavOutboundDate:r,quickNavInboundDate:null};if((0,oH.uz)(r)&&(0,oH.uz)(n)&&(0,oH.Ws)(r)&&(0,oH.Ws)(n)&&!(0,oH.k1)(r)&&!(0,oH.k1)(n))return{shouldDisplayQuickNav:!0,quickNavOutboundDate:r,quickNavInboundDate:n}}return{shouldDisplayQuickNav:!1,quickNavOutboundDate:null,quickNavInboundDate:null}};var sk=i("51209"),sx=i("25072"),s_=i("49113"),sw=i("18084"),sC=i("96722"),sS=i("88546"),sN=i("45095"),sT=i("51092"),sI=i("51481"),sR=i.n(sI),sA=i("70613"),sF=i("13526"),sD=i("31095");let sP=()=>{var e;let t=null!==(e=(0,n4.v9)((0,sF.gk)("sharedItineraryId")))&&void 0!==e?e:null,[i,a]=(0,n3.useState)(!1),[l,r]=(0,n3.useState)(null),n=(0,os.SK)(),o=(0,sA.s)(),s=(0,n3.useCallback)(e=>{!sR()(e,l)&&(r(e),null!=e&&n(oU.BY,(0,sD.j1)(e)))},[l,n]);return{showSharedItineraryNotFoundModal:()=>{!i&&(o("sharedItineraryNotFound"),a(!0))},parsedSharedItineraryId:t,hasSharedItineraryId:null!=t&&""!==t,sharedItinerary:l,saveSharedItinerary:s}};var sE=i("86098"),sL=i("45022"),sB=i("25298"),sK=i("78597"),sO=i("52215"),sM=i("38002"),sj=i("71368"),sz=i("21406"),sV=i("31164"),s$=i("18209"),sU=i("10433"),sG=i("858");i("40777");var sH=i("72541"),sW=i("3397");let sq=e=>{let{isMobile:t,mode:i}=e,a="return"===i;return t||"nomad"===i?a?500:320:a?350:200},sQ=e=>{let{itineraries:t}=e;return t.length||Number.POSITIVE_INFINITY};var sJ=i("19202"),sY=i("1502"),sX=i("67491"),s0=i("44198"),s1=i("35169"),s2=i("33824"),s3=i("97422"),s4=i("29517"),s5=i("12085");let s9=(0,n3.memo)(e=>{var t;let{isServerError:i=!1,showPriceMatrix:a,showPriceGraph:l,isReturn:r,isEconomyCabinClass:n,onOpenPriceTrends:o,shouldShowNoResults:s,shouldShowNoResultsPriceMatrixOrGraph:d,itineraries:u,metadata:c,requestId:v}=e,m=(0,n4.v9)(s0.Oy),{noResultsWithFiltersState:p,setNoResultsWithFiltersState:f}=(0,n3.useContext)(s1.ZP),{isMobile:g}=(0,oo.Z)(),h=!g&&p&&d&&n;return((0,n3.useEffect)(()=>s2.Z.trackDeprecated("search.noResults",{}),[]),(0,n3.useEffect)(()=>()=>{f(!1)},[f]),i)?(0,nX.Z)(sX.Z,{itineraries:u,metadata:c,requestId:v}):(!p&&f(!0),(0,nX.Z)(s5.Z,{shouldShowNoResultsPriceMatrixOrGraph:d},void 0,(0,nX.Z)(s3.Z,{noContextUpdate:!0,compact:!0,onOpenPriceTrends:o},void 0,e=>(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"relative mb-400 min-h-[126px]","data-test":"NoResultsTop"},void 0,null!=e?e:t||(t=(0,nX.Z)(s4.Z,{searchForm:m}))),h&&(0,nX.Z)(oE,{showPriceMatrix:a,showPriceGraph:l,openPriceTrends:r?"matrix":"graph",shouldShowNoResults:s,shouldShowNoResultsPriceMatrixOrGraph:d,isReturn:r,shouldDisplayQuickNav:!1})]}))))});var s6=i("32250"),s7=i.n(s6),s8=i("45567"),de=i("97232"),dt=i("36149");let di=()=>y||(y=(0,nX.Z)("div",{"data-test":"ItineraryRibbon",className:"-mb-200 flex rounded-t-200 bg-cloud-light-hover px-400 pb-400 pt-200 text-ink-light"},void 0,(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,(0,nX.Z)(dt.default,{color:"secondary",size:"small"}),(0,nX.Z)(ok.default,{type:"secondary"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.shared_itinerary.ribbon.text"})))));var da=i("24031");let dl="bg-cloud-light bg-gradient-to-r from-cloud-light to-cloud-normal",dr=e=>{let{sectorsCount:t,isSharedItinerary:i,onItemVisible:a,index:l}=e,{ref:r,entry:n}=(0,de.default)(),o=(0,n4.v9)(da.D6),s=oW.iJ(o);(0,n3.useEffect)(()=>{(null==n?void 0:n.isIntersecting)===!0&&a&&a(l)},[null==n?void 0:n.isIntersecting,l,a]);let d=s===oW.xd.oneWay;return(0,ow.jsxs)("div",{"data-test":"ResultCardPlaceholder",ref:r,className:"w-full",children:[i&&(k||(k=(0,nX.Z)(di,{}))),(0,nX.Z)("div",{className:"w-full lm:flex lm:items-stretch"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("relative w-full overflow-hidden rounded-200 bg-card shadow-result-card lm:w-[65%]")},void 0,(0,nX.Z)("div",{className:"p-300 lm:p-400"},void 0,oB()(0,t).map(e=>(0,nX.Z)("div",{className:(0,n2.Z)(!d&&"mt-400 first:mt-0 lm:mt-1000")},e,(0,nX.Z)("div",{className:(0,n2.Z)(dl,"mb-0 h-[80px]")})))),(0,nX.Z)("div",{className:"border-0 border-t border-t-card border-dashed pb-300 pl-300 pr-400 pt-400 lm:border-0 lm:p-400 lm:pt-0"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)(dl,"mb-0 h-[35px] max-w-full lm:w-[162px]")})),x||(x=(0,nX.Z)("div",{className:"absolute bottom-0 z-default h-200 w-full bg-card safe-end-0 lm:top-0 lm:h-full lm:w-300"}))),(0,nX.Z)("div",{className:"relative rounded-200 border-0 border-t-card border-dashed bg-card p-300 shadow-result-card lm:flex lm:grow lm:flex-col lm:border-0 lm:border-s-card lm:p-400"},void 0,(0,nX.Z)("div",{className:"lm:flex lm:h-full lm:items-center lm:justify-center"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)(dl,"mb-300 h-[32px] w-[162px] lm:mb-0 lm:h-[80px] lm:w-[122px]")})),(0,nX.Z)("div",{className:(0,n2.Z)(dl,"mb-0 h-[71px] lm:h-[35px]")})))]})},dn=()=>_||(_=(0,nX.Z)("div",{"data-test":"NomadItineraryRibbon",className:"flex bg-cloud-light-hover px-300 py-200 text-ink-light"},void 0,(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,(0,nX.Z)(dt.default,{color:"secondary",size:"small"}),(0,nX.Z)(ok.default,{type:"secondary"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.shared_itinerary.ribbon.text"}))))),ds=e=>{let{className:t=""}=e;return(0,nX.Z)("div",{className:`bg-cloud-light bg-gradient-to-r from-cloud-light to-cloud-normal ${t}`})},dd=e=>{let{index:t,onItemVisible:i,isSharedItinerary:a}=e,{ref:l,entry:r}=(0,de.default)();return(0,n3.useEffect)(()=>{(null==r?void 0:r.isIntersecting)===!0&&i&&i(t)},[null==r?void 0:r.isIntersecting,t,i]),(0,ow.jsxs)("div",{className:"bg-card shadow-level1",ref:l,children:[a&&(w||(w=(0,nX.Z)(dn,{}))),C||(C=(0,nX.Z)("div",{className:"space-y-200 p-300"},void 0,(0,nX.Z)(ds,{className:"h-500 w-[162px]"}),(0,nX.Z)(ds,{className:"h-500"}),(0,nX.Z)(ds,{className:"h-[164px]"}),(0,nX.Z)(ds,{className:"h-500"}),(0,nX.Z)(ds,{className:"h-500 w-[162px]"}))),S||(S=(0,nX.Z)("div",{className:"border-0 border-y-card border-solid p-300"},void 0,(0,nX.Z)(ds,{className:"h-600 w-[162px]"}))),N||(N=(0,nX.Z)("div",{className:"p-300"},void 0,(0,nX.Z)(ds,{className:"h-800"})))]})},du=e=>{let{searchForm:t,index:i,renderBuffer:a,renderCount:l,increaseRenderCount:r,isSharedItinerary:n=!1,mode:o}=e;return"nomad"===o?(0,nX.Z)(dd,{index:i,isSharedItinerary:n,onItemVisible:i>l&&i%a==0?r:void 0}):(0,nX.Z)(dr,{index:i,sectorsCount:oW.I9(t),isSharedItinerary:n,onItemVisible:i>=l&&i%a==0?r:void 0})},dc={gridRowStart:1,gridColumnStart:1,transition:"opacity 350ms ease-in-out",opacity:0},dv={gridRowStart:1,gridColumnStart:1,transition:"opacity 350ms ease-in-out",opacity:0},dm={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},dp=e=>{let{children:t,resultsDataTest:i,searchForm:a,renderBuffer:l,renderCount:r,shouldShowSkeletonUI:n,increaseRenderCount:o,mode:s}=e,d=(0,n3.useRef)(null),u=(0,n3.useRef)(null);return(0,nX.Z)("div",{className:"grid grid-cols-[100%]"},void 0,(0,nX.Z)(s8.ZP,{nodeRef:d,in:n,timeout:350,unmountOnExit:!0},void 0,e=>(0,ow.jsx)("div",{ref:d,style:{...dc,...dm[e]},children:(0,nX.Z)("div",{className:"mb-400 space-y-400"},void 0,s7()(e=>(0,nX.Z)(du,{index:e,searchForm:a,renderBuffer:l,renderCount:r,increaseRenderCount:o,mode:s},`transitionPlaceholder-${e}`),5))},"loading")),(0,nX.Z)(s8.ZP,{nodeRef:u,in:!n,timeout:700},void 0,e=>(0,ow.jsx)("div",{ref:u,style:{...dv,...dm[e]},"data-test":i,children:t},"results")))};var df=i("62038"),dg=i("67875"),dh=i("65705"),dZ=i("80832"),db=i("96262"),dy=i("29495"),dk=i("72208"),dx=i("1549");let d_=e=>{let{destination:t,onBackPanelClick:i}=e,{getText:a}=(0,dk.Od)(),l=t.places[0]&&(0,dk.p0)(t.places[0]),r=(0,dy.kL)(t),n=n1()(r)?"default":r[0],o=(0,dx.ZP)(n,dx.m$.LARGE),s=a(t);return(0,nX.Z)("div",{className:"relative z-20 mb-200 h-[120px] overflow-hidden rounded-100 shadow-level1"},void 0,(0,nX.Z)("button",{type:"button",className:"absolute left-400 top-400 z-[3] -rotate-90 cursor-pointer bg-button-link-primary-background text-white-normal",onClick:i},void 0,T||(T=(0,nX.Z)(dg.default,{}))),I||(I=(0,nX.Z)("div",{"data-test":"BackPanelVignette",className:"absolute z-[2] shadow-[inset_0_-100px_120px_-40px_rgba(0,0,0,0.5)] safe-inset-0"})),(0,nX.Z)(dZ.Z,{src:o,picture:[{source:{width:637,height:120},media:(0,db.H)(dh.QUERIES.LARGEDESKTOP)},{source:{width:827,height:120},media:(0,db.H)(dh.QUERIES.DESKTOP)},{source:{width:959,height:120},media:(0,db.H)(dh.QUERIES.TABLET)},{source:{width:735,height:120},media:(0,db.H)(dh.QUERIES.LARGEMOBILE)},{source:{width:543,height:120},media:(0,db.H)(dh.QUERIES.MEDIUMMOBILE)},{source:{width:381,height:120}}],alt:s,layout:"fill",objectFit:"cover",loading:"eager",placeholder:"skeleton",fotkaOptions:{width:381,height:120,fit:"crop",quality:75}}),(0,nX.Z)("h1",{className:"absolute bottom-400 left-400 z-[2] text-heading-title2 text-white-normal [&_.BackPanel-city]:font-bold"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.anywhere.connections",values:{city:l}})))};var dw=i("75810"),dC=i("31735"),dS=i("61586");let dN=()=>(0,nX.Z)("svg",{xmlns:"http://www.w3.org/2000/svg",width:28,height:42,fill:"none"},void 0,R||(R=(0,nX.Z)("path",{fill:"url(#a)",d:"m10.48 20.268 7.524 17.088 1.169-5.307 4.443 1.13-7.524-17.087-5.611 4.176Z"})),A||(A=(0,nX.Z)("path",{fill:"url(#b)",d:"m2.61 38.737 5.178-3.912 2 4.868 7.66-21.142-7.176-.956-7.661 21.142Z"})),(0,nX.Z)("mask",{id:"c",width:23,height:25,x:1,y:2,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},void 0,F||(F=(0,nX.Z)("path",{fill:"#fff",d:"M2.104 14.665C.552 21.231 3.97 26.64 9.706 26.747c5.738.105 11.64-5.118 13.173-11.678 1.552-6.566-1.865-11.975-7.602-12.102a.489.489 0 0 1-.173.005c-5.68.002-11.486 5.2-13 11.693Z"}))),D||(D=(0,nX.Z)("g",{mask:"url(#c)"},void 0,(0,nX.Z)("path",{fill:"url(#d)",d:"M.544 2.929h21.527v23.777H.544z"}))),P||(P=(0,nX.Z)("path",{fill:"url(#e)",d:"M3.607 15.267C2.067 21.84 5.48 27.252 11.213 27.37c5.758.128 11.644-5.136 13.173-11.682 1.541-6.572-1.846-11.974-7.579-12.09l-.189.012c-5.687-.006-11.477 5.176-13.01 11.658Z"})),E||(E=(0,nX.Z)("path",{fill:"#D7953B",d:"M15.881 14.654c-.02-.586-.385-.806-.913-.549l-1.669.814c-.091-.054-.098-.25-.101-.347.58-1.277 1.614-2.377 2.756-2.934.44-.215.865-.82.845-1.406-.02-.586-.386-.805-.913-.548-2.2.973-4.078 3.479-4.614 6.026l-.169.28-.088.043c-.527.258-.865.82-.844 1.406.02.586.385.805.912.548.088-.043.18.012.27.067.694 1.947 2.681 2.567 4.874 1.398.527-.257.865-.819.845-1.405-.02-.586-.386-.806-.913-.548-1.142.557-2.217.485-2.866-.192l-.003-.098c-.007-.195.078-.336.165-.379l1.582-.771c.527-.257.864-.82.844-1.405Z"})),L||(L=(0,nX.Z)("defs",{},void 0,(0,nX.Z)("linearGradient",{id:"a",x1:12.742,x2:20.807,y1:14.303,y2:34.774,gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#003862"}),(0,nX.Z)("stop",{offset:1,stopColor:"#1782D3"})),(0,nX.Z)("linearGradient",{id:"b",x1:15.337,x2:7.785,y1:14.314,y2:38.733,gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#003862"}),(0,nX.Z)("stop",{offset:1,stopColor:"#1782D3"})),(0,nX.Z)("linearGradient",{id:"d",x1:13.296,x2:.555,y1:12.216,y2:12.715,gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#F2CA7B"}),(0,nX.Z)("stop",{offset:1,stopColor:"#F8BA89"})),(0,nX.Z)("linearGradient",{id:"e",x1:8.447,x2:34.44,y1:13.143,y2:24.076,gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#FCDD73"}),(0,nX.Z)("stop",{offset:1,stopColor:"#F79F62"}))))),dT=e=>{let{isMCNomad:t=!1}=e,i=(0,os.SK)(),a=(0,sA.s)(),{isSmallOrMediumMobile:l}=(0,oo.Z)(),r=t||l,n=(0,n3.useCallback)(()=>{a("priceMatchGuarantee"),i(oU.BS)},[a,i]);return(0,nX.Z)("div",{className:(0,n2.Z)("relative mb-300 flex items-center justify-between rounded-100 bg-white-normal bg-gradient-to-r from-[#ebf9ff] from-5% to-[#fff] to-25% shadow-level1 lm:mb-400",t?"lm:mt-100":"mt-300 lm:mt-400",r?"p-200 ps-600":"p-[14px] ps-[56px]")},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("absolute",r?"-left-200 -top-200":"left-100 top-0")},void 0,r?B||(B=(0,nX.Z)(dN,{})):K||(K=(0,nX.Z)(dS.Z,{}))),(0,nX.Z)(ok.default,{size:r?"small":"large"},void 0,O||(O=(0,nX.Z)(ox.Z,{id:"search.price_match_guarantee.banner.text"}))," ",(0,nX.Z)(dC.default,{type:"secondary",onClick:n},void 0,M||(M=(0,nX.Z)(ox.Z,{id:"search.price_match_guarantee.banner.cta"})))))};var dI=i("69105"),dR=i.n(dI),dA=i("89576"),dF=i.n(dA),dD=i("27938"),dP=i.n(dD),dE=i("4603"),dL=i.n(dE),dB=i("5406"),dK=i("24437"),dO=i("95923"),dM=i("75183");let dj=e=>{let{isNomad:t}=e,i=(0,n4.I0)(),a=(0,n3.useRef)(!!(0,n9.St)(sN.QY)),l=(0,n4.v9)(dM.JB),r=(0,n3.useCallback)(()=>{i((0,dO.K4)("feedback"))},[i]);return(0,n3.useEffect)(()=>{l.feedback&&!a.current&&(a.current=!0)},[l]),(0,nX.Z)("div",{className:(0,n2.Z)("mb-400 overflow-hidden bg-white-normal p-400",t?"rounded-100 shadow-level1":"rounded-200 shadow-result-card")},void 0,(0,nX.Z)("div",{className:"mb-300 flex"},void 0,j||(j=(0,nX.Z)(dK.default,{size:"medium"})),(0,nX.Z)(ok.default,{weight:"medium",margin:{left:"10px"}},void 0,a.current?z||(z=(0,nX.Z)(ox.Z,{id:"search.results.nps.button.description.submitted"})):V||(V=(0,nX.Z)(ox.Z,{id:"search.results.nps.button.description"})))),(0,nX.Z)(dB.default,{type:"primarySubtle",size:"normal",fullWidth:!0,centered:!0,onClick:r},void 0,$||($=(0,nX.Z)(ox.Z,{id:"search.results.nps.button.open"}))))};var dz=i("41117"),dV=i("21548"),d$=i.n(dV),dU=i("86896"),dG=i("39671"),dH=i("94746"),dW=i("70702"),dq=i("90222"),dQ=i("6691");let dJ={kg:1,lbs:2.20462},dY=e=>e in dJ,dX=(e,t)=>e*dJ[t],d0="__x__",d1=`${d0} kg`,d2=e=>{let{value:t}=e,{weight:i}=(0,n4.v9)(op.fK),a=i.replace(d0,"").trim(),l=dY(a),r=l?a:"kg",n=l?i:d1;return(0,ow.jsx)(ow.Fragment,{children:n.replace(d0,Math.round(dX(t,r)).toString())})};var d3=i("71654"),d4=i("45930"),d5=i("61584"),d9=i.n(d5),d6=i("57735"),d7=i.n(d6),d8=i("24755"),ue=i("29477"),ut=i("47846"),ui=i("48410"),ua=i("52412");let ul=e=>{let{sectorSegment:t}=e;return ut.ft(t)},ur=e=>{var t;let{sectorSegment:i}=e;return!!((null==i?void 0:null===(t=i.layover)||void 0===t?void 0:t.duration)&&i.layover.duration<=86400)},un=e=>{let{sectorSegment:t,prevSectorSegment:i}=e;return ut.oS(i,t)},uo=[{code:"BER",name:"VIA BER",article:ui.Dq.FAST_TRACK_BER_ARTICLE,check:[un,ur,ul]},{code:"BGY",name:"Bergamolynk",article:ui.Dq.FAST_TRACK_BGY_ARTICLE,check:[un,ur,ul]},{code:"BUD",name:"bud:connects",article:ui.Dq.FAST_TRACK_BUD_ARTICLE,check:[un,ur,ul]},{code:"MXP",name:"ViaMilano",article:ui.Dq.FAST_TRACK_MXP_ARTICLE,check:[un,e=>{var t;let{sectorSegment:i}=e;return!!((null==i?void 0:null===(t=i.layover)||void 0===t?void 0:t.duration)&&i.layover.duration<=10800)},ul]},{code:"CRL",name:"Brussels Charleroi Connects",article:ui.Dq.FAST_TRACK_CRL_ARTICLE,check:[un,ur,ul]},{code:"PRG",name:"Fly Via Prague",article:ui.Dq.FAST_TRACK_PRG_ARTICLE,check:[un,ur,ul,e=>{var t,i;let{sectorSegment:a}=e,l=(0,sa.sG)(null==a?void 0:null===(t=a.segment)||void 0===t?void 0:null===(i=t.source)||void 0===i?void 0:i.utcTime);return!!(l&&(0,oO.j)(l,(0,ua.zh)(new Date))>0)}]},{code:"MRS",name:"ViaMarseille",article:ui.Dq.FAST_TRACK_MRS_ARTICLE,check:[e=>{var t;let{sectorSegment:i}=e;return(null==i?void 0:null===(t=i.segment)||void 0===t?void 0:t.type)===d8.J1.FLIGHT},ur,ul]},{code:"NCE",name:"Nice Connect",article:ui.Dq.FAST_TRACK_NCE_ARTICLE,check:[un,ur,ul]},{code:"VCE",name:"Venice Connects",article:ui.Dq.FAST_TRACK_VCE_ARTICLE,check:[un,ur,ul]},{code:"DTM",name:"via DTM",article:ui.Dq.FAST_TRACK_DTM_ARTICLE,check:[un,ur,ul]}].reduce((e,t,i)=>(e[t.code]={...t,order:i+1},e),{}),us=(e,t)=>{var i,a,l;let{code:r}=null!==(i=null==t?void 0:null===(a=t.segment)||void 0===a?void 0:null===(l=a.source)||void 0===l?void 0:l.station)&&void 0!==i?i:{};return r?e[r]:null},ud=(e,t,i)=>{let a=t[i],l=t[i-1];return!!a&&!!l&&(!e.check||d7()(e.check)({sectorSegment:a,prevSectorSegment:l}))},uu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=ue.tT(e),a=d9()(t,uo),l=i.reduce((e,t,l)=>{let r=us(a,t);return(0,o3.v)(r)&&(!e||e.order>(null==r?void 0:r.order))&&ud(r,i,l)?r:e},null);if(l){let e=i.filter((e,t)=>{let r=us(a,e);return r&&r===l&&ud(r,i,t)}).map(e=>{var t;return null==e?void 0:null===(t=e.segment)||void 0===t?void 0:t.id}).filter(o3.v);return{promotedAirport:l,segmentIds:e}}return null},uc=(0,n3.createContext)(null),{Provider:uv,Consumer:um}=uc,up={Provider:e=>{let{itinerary:t,children:i}=e,a=(0,d3.useFeature)("FAST_TRACK_NCE"),l=(0,d3.useFeature)("FAST_TRACK_BUD"),r=(0,d3.useFeature)("FAST_TRACK_PRG"),n=(0,d3.useFeature)("FAST_TRACK_MRS"),o=(0,d3.useFeature)("FAST_TRACK_BER"),s=(0,d3.useFeature)("FAST_TRACK_MXP"),d=(0,d3.useFeature)("FAST_TRACK_CRL"),u=(0,d3.useFeature)("FAST_TRACK_DTM"),c=(0,d3.useFeature)("FAST_TRACK_VCE"),v=(0,n3.useMemo)(()=>{var e,i;return(null==t?void 0:null===(e=t.provider)||void 0===e?void 0:null===(i=e.contentProvider)||void 0===i?void 0:i.code)===d4.zT?uu(t,[...a?[]:["NCE"],...l?[]:["BUD"],...r?[]:["PRG"],...n?[]:["MRS"],...o?[]:["BER"],...s?[]:["MXP"],...d?[]:["CRL"],...u?[]:["DTM"],...c?[]:["VCE"]]):null},[t,a,l,r,n,o,s,d,u,c]);return(0,nX.Z)(uv,{value:v},void 0,i)}};var uf=i("76465");let ug=e=>{let{content:t,name:i,children:a,isEnabled:l=!0,isEnabledOnMobile:r=!1,placement:n="top",size:o="medium",isBlock:s=!0}=e,{isSmallOrMediumMobile:d}=(0,oo.Z)(),u=(0,os.SK)(),{formatMessage:c}=(0,dU.Z)(),v=l&&(r&&d||!d),m=(0,n3.useCallback)(()=>{u(oU.KM,{tooltip:i})},[i,u]);return(0,nX.Z)(uf.default,{enabled:v,placement:n,content:t,tabIndex:"-1",block:s,size:o,onShow:m,stopPropagation:d,labelClose:c({id:"orbit.button_close"})},void 0,a)};var uh=i("19342"),uZ=i("22549"),ub=i("81425"),uy=i("33479"),uk=i("35372"),ux=i("15740"),u_=i("45547"),uw=i("14760"),uC=i("32400"),uS=i("7853");let uN={personal:[uC.default,uS.default],cabin:[dH.default,dW.default],checked:[dq.default,uw.default]},uT=(e,t,i)=>uN[e][t||i?0:1],uI=e=>e?"primary":"secondary",uR=(e,t,i)=>{let a=uT(e,t,i),l=uI(t);return(0,nX.Z)(a,{size:"small",color:l})};var uA=i("89979"),uF=i("65001");let uD=e=>{let{isIncluded:t,isAvailable:i,onClick:a}=e;return t?U||(U=(0,nX.Z)("div",{className:"ms-400 flex items-center"},void 0,(0,nX.Z)(uA.default,{size:"small"}),(0,nX.Z)(ok.default,{size:"small"},void 0,(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.included"})))):i&&a?(0,nX.Z)("div",{className:"ms-400"},void 0,(0,nX.Z)(uh.default,{type:"primary",iconLeft:H||(H=(0,nX.Z)(uF.default,{})),size:"small",compact:!0,onClick:a},void 0,W||(W=(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.add"})))):G||(G=(0,nX.Z)("div",{className:"ms-400 flex items-center"},void 0,(0,nX.Z)(oF.default,{size:"small",color:"secondary"}),(0,nX.Z)(ok.default,{type:"secondary",size:"small"},void 0,(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.not_available"}))))},uP=e=>{let{type:t,amount:i,weight:a,isAvailable:l,onClick:r,customAction:n,children:o}=e,s=i>0,d=uR(t,s,l),u=uI(s),c=s||l;return(0,nX.Z)("div",{"data-test":"BaggageBreakdownPopoverItem",className:"mb-100 flex h-800 items-center justify-between"},void 0,(0,nX.Z)("div",{className:"flex items-center [&>*]:me-100 [&>p]:me-100"},void 0,d,c&&(0,nX.Z)(ok.default,{size:"small",weight:"medium",type:s?"primary":"secondary"},void 0,i,"x"),(0,nX.Z)(ok.default,{size:"small",weight:"medium",type:u},void 0,o),null!=a&&(0,nX.Z)(ok.default,{type:"secondary",size:"small"},void 0,"(",a,"kg)")),s||null==n?(0,nX.Z)(uD,{isIncluded:s,isAvailable:l,onClick:r}):n)},uE=e=>{let{baggageData:t,closePopover:i}=e,a=(0,n4.v9)(da.D6),l=(0,u_.C)(),{isSmallOrMediumMobile:r}=(0,oo.Z)(),n=(0,os.SK)(),{showNoCheckedBags:o,includedCheckedBagsSafe:s,includedHandBagsSafe:d,includedPersonalItemSafe:u,cabinBagsWeightLimit:c,checkedBagsWeightLimit:v,personalItemWeightLimit:m}=t,p=s>0,f=!o&&null!=v&&v>0,{url:g,maybeOpenHelp:h}=(0,ui.sH)(ui.Dq.DISALLOWED_BAGS_ARTICLE),Z=(0,n3.useCallback)(e=>{i(e),h(e)},[i,h]),b=(0,n3.useCallback)((e,t)=>{if(e.stopPropagation(),"personal"===t)return;let i={...a.bags};i.adults=a.bags.adults.map(e=>({...e,[t]:1}));let r={...a,bags:i};n(oU.Cm,{includedBagType:t}),l(r);let o="checked"===t?(0,nX.Z)(ox.Z,{id:"search.results.checked_bags_prompt.accepted",values:{numOfCheckedBags:a.passengers.adults}}):(0,nX.Z)(ox.Z,{id:"search.results.prompt_to_search_with_bags.accepted",values:{numOfCabinBags:a.passengers.adults}});(0,ux.createToast)(o)},[a]);return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(ok.default,{weight:"medium",size:r?"extraLarge":"large",margin:{top:r?"4px":"0",bottom:"12px"}},void 0,q||(q=(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.heading"}))),(0,nX.Z)(uP,{type:"personal",amount:u,weight:m,isAvailable:null!=m&&m>0,onClick:null},void 0,Q||(Q=(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.personal_item"}))),(0,nX.Z)(uP,{type:"cabin",amount:d,weight:c,isAvailable:null!=c&&c>0,onClick:e=>b(e,"cabin")},void 0,J||(J=(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.cabin_bag"}))),(0,nX.Z)(uP,{type:"checked",amount:s,weight:v,isAvailable:f,onClick:f?e=>b(e,"checked"):null,customAction:p||f?null:(0,nX.Z)("div",{className:"ms-400 [&>a]:text-end"},void 0,(0,nX.Z)(dC.default,{href:g,external:!0,onClick:Z,type:"secondary",size:"small"},void 0,Y||(Y=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.no_checked_bag_more"}))))},void 0,p||f?X||(X=(0,nX.Z)(ox.Z,{id:"search.results.result_card.baggage_breakdown.checked_bag"})):ee||(ee=(0,nX.Z)(ox.Z,{id:"result.itinerary.no_checked_bag"}))),et||(et=(0,nX.Z)(uk.default,{}))]})},uL=e=>{let{type:t,amount:i,isAvailable:a,dataTest:l}=e,r=i>0,n=uR(t,r,a),o=r||a;return(0,ow.jsxs)(ow.Fragment,{children:[o&&(0,nX.Z)(ok.default,{dataTest:l,type:r?"primary":"secondary"},void 0,i),n]})},uB=e=>{let{resultCardBadgesData:t}=e,{isOpened:i,open:a,close:l}=(0,uy.S)(!1),r=(0,os.SK)(),{isMobile:n}=(0,oo.Z)(),{includedCheckedBagsSafe:o,includedHandBagsSafe:s,includedPersonalItemSafe:d,cabinBagsWeightLimit:u,checkedBagsWeightLimit:c,personalItemWeightLimit:v}=t,m=(0,n3.useCallback)(e=>{null==e||e.stopPropagation(),i?(l(),n&&window.history.back()):(a(),r(oU.Wr,{includedPersonalItem:d,includedCabinBags:s,includedCheckedBags:o}),n&&window.history.pushState({},"","#baggageBreakdownPopover"))},[i,d,s,o]);return(0,nX.Z)("div",{className:"inline-block",onClick:e=>e.stopPropagation()},void 0,(0,nX.Z)(uZ.default,{content:(0,nX.Z)(uE,{baggageData:t,closePopover:m}),dataTest:"BaggageBreakdownPopover",id:"BaggageBreakdownPopover",opened:i,zIndex:n?2:710,overlapped:!0,onClose:m,actions:(0,nX.Z)("div",{className:"-mt-300 flex justify-end"},void 0,(0,nX.Z)(dB.default,{type:"secondary",onClick:m},void 0,ei||(ei=(0,nX.Z)(ox.Z,{id:"common.close"})))),placement:"bottom-start"},void 0,(0,nX.Z)(uh.default,{type:"secondary",compact:!0,size:"small",iconRight:ea||(ea=(0,nX.Z)(og.default,{size:"small",color:"secondary"})),onClick:m},void 0,(0,nX.Z)("div",{className:"flex items-center","data-test":"BaggageBreakdown"},void 0,(0,nX.Z)(uL,{type:"personal",amount:d,isAvailable:null!=v&&v>0,dataTest:"BaggageBreakdownPersonalItem"}),el||(el=(0,nX.Z)(ub.Z,{className:"me-150 ms-[5px]"})),(0,nX.Z)(uL,{type:"cabin",amount:s,isAvailable:null!=u&&u>0,dataTest:"BaggageBreakdownCabinBag"}),er||(er=(0,nX.Z)(ub.Z,{className:"me-150 ms-[5px]"})),(0,nX.Z)(uL,{type:"checked",amount:o,isAvailable:null!=c&&c>0,dataTest:"BaggageBreakdownCheckedBag"})))))},uK=()=>{let{url:e,maybeOpenHelp:t}=(0,ui.sH)(ui.Dq.DISALLOWED_BAGS_ARTICLE),i=(0,n3.useCallback)(e=>{e.stopPropagation(),t(e)},[t]);return(0,nX.Z)(ug,{content:(0,nX.Z)(ox.Z,{id:"search.results.tooltips.no_checked_bag",values:{link:(0,nX.Z)(dC.default,{href:e,external:!0,onClick:i},void 0,en||(en=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.no_checked_bag_more"})))}}),name:"no baggage"},void 0,eo||(eo=(0,nX.Z)(dG.default,{icon:(0,nX.Z)(uw.default,{size:"small"}),type:"warningSubtle"},void 0,(0,nX.Z)(ox.Z,{id:"result.itinerary.no_checked_bag"}))))},uO=()=>es||(es=(0,nX.Z)(dG.default,{dataTest:"RyanairPartnershipBadge"},void 0,(0,nX.Z)("div",{className:"flex safe-space-x-100"},void 0,(0,nX.Z)("img",{src:"/images/logos/ryanair/ryanair-verified.svg",width:"19",height:"16",alt:"","aria-hidden":"true"}),(0,nX.Z)("span",{className:"font-normal leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.badges.ryanair_verified"}))))),uM=()=>"on"===(0,d3.useTest)("RYANAIR_VERIFIED")?ed||(ed=(0,nX.Z)(uO,{})):eu||(eu=(0,nX.Z)(ug,{name:"ryanair partnership",content:(0,nX.Z)(ox.Z,{id:"search.result.badges.ryanair_partnership"})},void 0,(0,nX.Z)(dG.default,{dataTest:"RyanairPartnershipBadge"},void 0,(0,nX.Z)("div",{className:"flex safe-space-x-200"},void 0,(0,nX.Z)("img",{className:"translate-x-px rtl:translate-x-0",src:"/images/logos/kiwicom/mono-small.svg",alt:"Kiwi.com"}),(0,nX.Z)("div",{className:"h-400 w-px bg-current"}),(0,nX.Z)("img",{className:"rtl:translate-x-px",src:"/images/logos/ryanair/mono-small.svg",alt:"Ryanair"})))));var uj=i("6947");let uz=e=>{let{promotedAirportData:t}=e,{article:i}=t.promotedAirport,{url:a,maybeOpenHelp:l}=(0,ui.sH)(i),r=(0,n3.useCallback)(e=>{e.stopPropagation(),l(e)},[l]);return(0,nX.Z)(ug,{content:(0,nX.Z)(ox.Z,{id:"search.results.tooltips.smart_pass",values:{link:(0,nX.Z)(dC.default,{href:a,external:!0,onClick:r},void 0,ec||(ec=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.smart_pass_more"})))}}),name:"smart pass"},void 0,(0,nX.Z)(dG.default,{icon:ev||(ev=(0,nX.Z)(uj.default,{size:"small"}))},void 0,(0,nX.Z)(ox.Z,{id:"search.result.promoted_airport.badge",values:{name:t.promotedAirport.name}})))},uV=e=>{var t,i,a;let{resultCardBadgesData:l,travelHack:r,shouldShowBaggageBreakdown:n=!1,shouldShowRyanairPartnership:o=!1,isNomad:s=!1,hasProminentGuarantee:d=!1}=e,u=(0,n4.I0)(),c=(0,n3.useContext)(uc),{isSmallOrMediumMobile:v}=(0,oo.Z)(),{showCabinClasses:m,showTravelHackBadge:p,showSmartPassBadge:f,showCheckedBags:g,showCabinBags:h,showNoCheckedBags:Z,showNoBags:b,cabinClasses:y,includedCheckedBagsSafe:k,includedHandBagsSafe:x,cabinBagsWeightLimit:_,checkedBagsWeightLimit:w}=l,C=(0,n3.useCallback)(e=>{e.stopPropagation(),u((0,dO.K4)("travelHacks"))},[u]),S="hiddenDestination"===r?em||(em=(0,nX.Z)(ox.Z,{id:"search.results.itinerary.badges.travel_hacks.hidden_cities"})):"virtualInterlining"===r?ep||(ep=(0,nX.Z)(ox.Z,{id:"search.results.itinerary.badges.travel_hacks.self_transfer"})):"throwawayTicket"===r?ef||(ef=(0,nX.Z)(ox.Z,{id:"search.results.itinerary.badges.travel_hacks.throwaway_ticketing"})):null,N=(0,n3.useCallback)(()=>k>1?eg||(eg=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.checked_bags"})):eh||(eh=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.checked_bag"})),[k]),T=(0,n3.useCallback)(()=>x>1?eZ||(eZ=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.cabin_bags"})):eb||(eb=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.cabin_bag"})),[x]),I=(0,n3.useCallback)(()=>"hiddenDestination"===r?t||(t=(0,ow.jsxs)(ow.Fragment,{children:[ey||(ey=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.travel_hacks.hidden_cities"}))," ",(0,nX.Z)(dC.default,{onClick:C},void 0,ek||(ek=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.travel_hacks.learn_more"})))]})):"virtualInterlining"===r?i||(i=(0,ow.jsxs)(ow.Fragment,{children:[ex||(ex=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.travel_hacks.self_transfer"}))," ",(0,nX.Z)(dC.default,{onClick:C},void 0,e_||(e_=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.travel_hacks.learn_more"})))]})):"throwawayTicket"===r?a||(a=(0,ow.jsxs)(ow.Fragment,{children:[ew||(ew=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.travel_hacks.throwaway_ticketing"}))," ",(0,nX.Z)(dC.default,{onClick:C},void 0,eC||(eC=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.travel_hacks.learn_more"})))]})):null,[C,r]);return(0,nX.Z)("div",{"data-test":"ResultCardBadges",className:(0,n2.Z)("flex flex-wrap items-center gap-200 border-0 border-t-card empty:hidden",s?"border-solid p-300":"border-dashed px-400 py-300")},void 0,n&&(0,nX.Z)(uB,{resultCardBadgesData:l}),!d&&p&&(0,nX.Z)("div",{className:"text-small",onClick:v?C:of.Z,role:"button",tabIndex:0},void 0,(0,nX.Z)(ug,{content:(0,nX.Z)(I,{}),name:"travel hack",placement:"bottom",size:"small"},void 0,(0,nX.Z)(dG.default,{icon:eS||(eS=(0,nX.Z)(dQ.default,{size:"small"}))},void 0,S))),!d&&m&&(0,nX.Z)(dG.default,{},void 0,y.map((e,t)=>(0,nX.Z)(n3.Fragment,{},e,t>0&&" + ",e===sZ.Ux?(0,ow.jsx)(ox.Z,{...sZ.v5[e]}):(0,nX.Z)("span",{className:"text-info-foreground"},void 0,(0,ow.jsx)(ox.Z,{...sZ.v5[e]}))))),!n&&g&&(0,nX.Z)(ug,{content:(0,nX.Z)(N,{}),name:"baggage weight"},void 0,(0,nX.Z)(dG.default,{icon:eN||(eN=(0,nX.Z)(dq.default,{size:"small"})),dataTest:"ResultCardBadge-CheckedBags"},void 0,k>1&&`${k}x `,(0,nX.Z)(d2,{value:w}))),!n&&h&&(0,nX.Z)(ug,{content:(0,nX.Z)(T,{}),name:"baggage weight"},void 0,(0,nX.Z)(dG.default,{icon:eT||(eT=(0,nX.Z)(dH.default,{size:"small"})),dataTest:"ResultCardBadge-CabinBags"},void 0,x>1&&`${x}x `,(0,nX.Z)(d2,{value:_}))),!d&&f&&c&&(0,nX.Z)(uz,{promotedAirportData:c}),!n&&b&&(eI||(eI=(0,nX.Z)(dG.default,{icon:(0,nX.Z)(dW.default,{size:"small"}),type:"warningSubtle"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.badges.no_baggage"})))),!n&&Z&&(eR||(eR=(0,nX.Z)(uK,{}))),o&&(eA||(eA=(0,nX.Z)(uM,{}))))},u$=e=>(0,d3.useFeature)("RYANAIR_PARTNERSHIP")&&e.isRyanair;var uU=i("90676"),uG=i("1303"),uH=i("7038"),uW=i("77720"),uq=i("98375"),uQ=i("51949"),uJ=i("37134"),uY=i("13487"),uX=i("7007"),u0=i("63682"),u1=i("82650"),u2=i("61701");let u3=e=>{let{shortURL:t,isMobile:i,trackShare:a}=e,{formatMessage:l}=(0,dU.Z)(),r=(0,n3.useRef)(null),n=(0,n3.useCallback)(()=>{var e;null!==(e=navigator.clipboard)&&void 0!==e&&e.writeText&&navigator.clipboard.writeText(t).then(()=>{(0,ux.createToast)(l({id:"search.share_sheet.link_copied"}),{icon:eF||(eF=(0,nX.Z)(u0.default,{}))})}).catch(e=>{(0,u2.Z)(e,{tag:"copyToClipboard",value:"failed to copy"})})},[t,l]),o=(0,n3.useCallback)(()=>{a(),n()},[n,a]),s=(0,n3.useCallback)(()=>{if(r.current){let e=r.current;e.focus(),e.select(),e.setSelectionRange(0,9999)}},[]);return i?(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(uh.default,{type:"secondary",compact:!0,fullWidth:!0,iconLeft:eD||(eD=(0,nX.Z)(u1.default,{})),onClick:o},void 0,eP||(eP=(0,nX.Z)(ox.Z,{id:"search.share_sheet.copy_link"}))),eE||(eE=(0,nX.Z)(uk.default,{spaceAfter:"large"}))]}):(0,nX.Z)("div",{className:"mb-600 flex"},void 0,(0,nX.Z)("div",{className:"me-300 grow"},void 0,(0,ow.jsx)(uX.default,{value:t,readOnly:!0,onFocus:s,ref:r,dataTest:"ShareSheetModalInputField"},"input")),(0,nX.Z)(dB.default,{type:"primary",onClick:o},void 0,eL||(eL=(0,nX.Z)(ox.Z,{id:"search.share_sheet.button.copy"}))))};var u4=i("71093"),u5=i("58796");let u9=e=>{let{shortURL:t,shareQuote:i,trackShare:a}=e,l=(0,n4.v9)(u5.lD);return"iOS"===l||"Mac OS"===l||"Android"===l?(0,ow.jsxs)(ow.Fragment,{children:[eB||(eB=(0,nX.Z)(uk.default,{spaceAfter:"none"})),(0,nX.Z)("a",{href:`sms:${"Android"===l?"?":"&"}body=${i} ${t}`},void 0,(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:eK||(eK=(0,nX.Z)(u4.default,{})),onClick:a,asComponent:"div",fullWidth:!0},void 0,eO||(eO=(0,nX.Z)(ox.Z,{id:"search.share_sheet.messages"}))))]}):null};var u6=i("65210");let u7="332164377117941",u8={width:"100%"},ce=e=>{var t;let{shortURL:i,trackShare:a}=e,l=(0,n4.v9)(u5.lD),r=()=>t||(t=(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:eM||(eM=(0,nX.Z)(u6.default,{})),onClick:a,asComponent:"div"},void 0,"Messenger"));return"iOS"===l||"Android"===l?(0,nX.Z)("a",{href:`fb-messenger://share/?link=${encodeURIComponent(i)}&app_id=${u7}`},void 0,(0,nX.Z)(r,{})):(0,nX.Z)(uY.Zh,{appId:u7,url:i,style:u8},void 0,(0,nX.Z)(r,{}))},ct={width:"100%"},ci=e=>{let{handleCloseShareSheet:t,handleOpenNativeShareSheet:i,shareURL:a,shareQuote:l,trackShare:r,isNativeShareSupported:n}=e,{formatMessage:o}=(0,dU.Z)(),{isMobile:s}=(0,oo.Z)();return(0,nX.Z)(uJ.default,{},void 0,(0,nX.Z)(uQ.default,{size:"extraSmall",onClose:t,hasCloseButton:!s,labelClose:o({id:"orbit.button_close"})},void 0,ej||(ej=(0,nX.Z)(uQ.ModalHeader,{title:(0,nX.Z)(ox.Z,{id:"search.share_sheet.title"})})),(0,nX.Z)(uQ.ModalSection,{dataTest:"ShareSheetModalSection"},void 0,(0,nX.Z)(u3,{shortURL:a,isMobile:s,trackShare:d$()(r,null,"copy")}),(0,nX.Z)(uY.N0,{url:a,title:l,style:ct},void 0,(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:ez||(ez=(0,nX.Z)(uU.default,{})),onClick:d$()(r,null,"whatsapp"),asComponent:"div"},void 0,"WhatsApp")),eV||(eV=(0,nX.Z)(uk.default,{spaceAfter:"none"})),(0,nX.Z)(ce,{shortURL:a,trackShare:d$()(r,null,"messenger")}),(0,nX.Z)(u9,{shortURL:a,shareQuote:l,trackShare:d$()(r,null,"messages")}),e$||(e$=(0,nX.Z)(uk.default,{spaceAfter:"none"})),(0,nX.Z)(uY.tq,{url:a,title:l,style:ct},void 0,(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:eU||(eU=(0,nX.Z)(uH.default,{})),onClick:d$()(r,null,"telegram"),asComponent:"div"},void 0,"Telegram")),eG||(eG=(0,nX.Z)(uk.default,{spaceAfter:"none"})),(0,nX.Z)(uY.UE,{url:a,title:l,style:ct},void 0,(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:eH||(eH=(0,nX.Z)(uG.default,{})),onClick:d$()(r,null,"viber"),asComponent:"div"},void 0,"Viber")),eW||(eW=(0,nX.Z)(uk.default,{spaceAfter:"large"})),(0,nX.Z)(uY.cG,{url:a,body:l,style:ct},void 0,(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:eq||(eq=(0,nX.Z)(uq.default,{})),onClick:d$()(r,null,"email"),asComponent:"div"},void 0,eQ||(eQ=(0,nX.Z)(ox.Z,{id:"common.email"})))),n&&(0,ow.jsxs)(ow.Fragment,{children:[eJ||(eJ=(0,nX.Z)(uk.default,{})),(0,nX.Z)(uh.default,{type:"secondary",compact:!0,iconLeft:eY||(eY=(0,nX.Z)(uW.default,{})),onClick:i,fullWidth:!0},void 0,eX||(eX=(0,nX.Z)(ox.Z,{id:"search.share_sheet.more_options"})))]}),s&&(0,nX.Z)("div",{className:"mt-600"},void 0,(0,nX.Z)(dB.default,{fullWidth:!0,type:"secondary",onClick:t},void 0,e0||(e0=(0,nX.Z)(ox.Z,{id:"common.close"})))))))};var ca=i("27263"),cl=i("9034");let cr=()=>{let e=(0,oY.Z)(),t=(0,oQ.Z)(),i=(0,cl.K)();return(0,n3.useCallback)(()=>{e({module:"search",category:"share",action:"displayed",event_name:"search: share: displayed",props:{...t,search_session_id:null!=i?i:void 0}})},[t,i,e])};var cn=i("50823"),co=i("46773"),cs=i("64207"),cd=i("2243"),cu=i("46813"),cc=i("99353");class cv extends Error{constructor(e){super(),(0,sG.Z)(this,"originalError",void 0),this.name="AbortError",e instanceof Error?(this.originalError=e,this.message=e.message):(this.message=e,this.originalError=Error(e),this.originalError.stack=this.stack)}}let cm=(e,t)=>new Promise((i,a)=>{let l=cc.operation(t);l.attempt(t=>{Promise.resolve(t).then(e).then(i,e=>{e instanceof cv?(l.stop(),a(e.originalError)):e instanceof TypeError?(l.stop(),a(e)):!l.retry(e)&&a(l.mainError())})})}),cp=(e,t)=>{let i=t.toLocaleLowerCase();return Object.keys(e).some(e=>e.toLocaleLowerCase()===i)},cf="application/json";class cg extends Error{constructor(e,t,i,a){super(e),(0,sG.Z)(this,"status",void 0),(0,sG.Z)(this,"statusText",void 0),(0,sG.Z)(this,"data",void 0),this.name="JsonFetchError",this.status=t,this.statusText=i,this.data=a}}let ch=(e,t)=>{throw new cg(Error(t.statusText).message,t.status,t.statusText,e)},cZ=e=>{if(e.ok){var t;if(204===e.status)return null;let i=null===(t=e.headers)||void 0===t?void 0:t.get("content-type");return!i||i.includes("application/json")?e.json():e.text()}return e.json?e.json().then(t=>ch(t,e)):e.text().then(t=>ch(t,e))};async function cb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers=t.headers||{};let i=e=>!cp(null==t?void 0:t.headers,e);if(i("Content-Type")&&(t.headers["Content-Type"]=cf),i("Accept")&&(t.headers.Accept=cf),"undefined"!=typeof window&&window.SP_GLOBALS&&(t.headers["X-WHOIAM"]=(0,co.load)(co.Cookie.USER_ID),t.headers["X-WHOIAM-SESSION"]=cd.load(cs.SESSION_ID)||""),t.body){if("object"==typeof t.body&&(t.body=JSON.stringify(t.body)),t.method&&"GET"===t.method.toUpperCase())throw Error("Wrong method, cannot send body with GET");!t.method&&(t.method="POST")}else delete t.body;return(t.query&&(e=(0,cu.vE)(e,t.query),delete t.query),t.retry&&t.retry>1)?cm(()=>fetch(e,t).then(e=>{if(404===e.status)throw new cv(e.statusText);return cZ(e)}),{retries:t.retry,factor:1.1,minTimeout:10,maxTimeout:500}):fetch(e,t).then(cZ)}var cy=i("72724"),ck=i("23905");let cx=(0,ck.Z)(10,async e=>{try{let t=await cb(`/u?url=${encodeURIComponent(e)}`);if("string"!=typeof t.shortUrl)return null;return t.shortUrl}catch(e){return null}}),c_=e=>new Promise((t,i)=>{setTimeout(()=>i(Error("Request timed out")),e)}),cw=async(e,t)=>{try{let i=await Promise.race([cx(e),c_(900)]);return null!=i?i:t}catch(e){return console.error("Failed to fetch short URL",e),t}},cC=e=>{let t=(0,n4.v9)(sB.EW),i=(0,n4.v9)(sB.jP),a=(0,n4.v9)(cy.Z),[l,r]=(0,n3.useState)(""),[n,o]=(0,n3.useState)(!1);return{isShareURLLoading:n,shareURL:l,getShareURL:(0,n3.useCallback)(async()=>{var l,n,s,d,u;o(!0);let{origin:c}=window.location,v=i(t,(0,sa.z)(null===(l=e.price)||void 0===l?void 0:l.amount),!0),m=(0,ue.IK)(e),p=(0,ue.YD)(e),f=new URLSearchParams(window.location.search).has("prebooking")?1:0,{query:g}=a({}),h=(0,cu.vE)(window.location.pathname,{...g,shared:1,utm_source:"product",utm_medium:"search",utm_campaign:"share_search",sharedItineraryId:null!=p?p:"",sharePrice:v,shareDestId:null!==(n=null==m?void 0:null===(s=m.city)||void 0===s?void 0:s.legacyId)&&void 0!==n?n:"",shareDestName:null!==(d=null==m?void 0:null===(u=m.city)||void 0===u?void 0:u.name)&&void 0!==d?d:"",currency:t,prebookingShared:f}),Z=`${c}${h}`,b=await cw(h,Z);return r(b),o(!1),b},[t,i,e,a])}};var cS=i("50767");let cN={category:"share",attributesType:cS.KP.RESULTS,action:"displayed",destinations:cS.T9},cT={category:"share",attributesType:cS.KP.RESULTS,action:"service chosen",destinations:cS.Rj},cI={category:"share",attributesType:cS.KP.RESULTS,action:"aborted",destinations:cS.aA},cR=()=>{let e=(0,oY.Z)(),t=(0,oQ.Z)(),i=(0,cl.K)();return(0,n3.useCallback)(a=>{e({module:"search",category:"share",action:"medium chosen",event_name:"search: share: medium chosen",props:{...t,search_session_id:null!=i?i:void 0,medium_type:a}})},[t,i,e])},cA=e=>{let t=(0,os.SK)(),i=cR(),a=(0,n3.useCallback)(a=>{i(a),t(cT,{...(0,sD.j1)(e),medium:a})},[e,i,t]);return{trackShare:a,trackShareAbort:(0,n3.useCallback)(()=>{t(cI,{...(0,sD.j1)(e)})},[e,t])}},cF=e=>{let{formatMessage:t}=(0,dU.Z)(),{isDesktop:i}=(0,oo.Z)(),a=(0,n4.v9)(u5.P2),l=(0,n4.v9)(sz.Zv),{postMessage:r}=(0,cn.U)(),{trackShare:n,trackShareAbort:o}=cA(e),{getShareURL:s,shareURL:d,isShareURLLoading:u}=cC(e),c=l&&a,v="function"==typeof navigator.share,m=cr(),p=t({id:"search.share_sheet.share_quote"}),{isOpened:f,open:g,close:h}=(0,uy.S)(),Z=(0,n3.useCallback)(async()=>{await s(),m(),g()},[s,g,m]),b=(0,n3.useCallback)(async e=>{let t=null!=e?e:d;if(c){await r({message:"open-native-share",title:p,url:t}),n("more");return}v&&navigator.share({url:t,text:p}).then(()=>{n("more")}).catch(e=>{if((0,ca.Z)(e).includes("Abort")){o();return}(0,u2.Z)(e,{tag:"openMobileNativeShareSheet",value:"failed to open"})})},[c,v,r,p,d,n,o]),y=(0,n3.useCallback)(async()=>{let e=await s();m(),b(e)},[s,b,m]),k={shareURL:d,isShareURLLoading:u,shareQuote:p,trackShare:n,isNativeShareSupported:v,handleOpenNativeShareSheet:(0,n3.useCallback)(()=>b(),[b]),handleCloseCustomShareSheet:h};return!i&&(v||c)?{...k,isCustomShareSheetOpen:!1,handleOpenShareSheet:y}:{...k,isCustomShareSheetOpen:f,handleOpenShareSheet:Z}};var cD=i("98544");let cP=e=>{let{index:t,dispatch:i,onItemVisible:a}=e,{ref:l,entry:r}=(0,de.default)({threshold:.01});return(0,n3.useEffect)(()=>{if(!!r)r.boundingClientRect.top<0&&2===t&&(r.isIntersecting?i((0,cD.A7)()):i((0,cD.KR)())),r.intersectionRatio>.01&&a&&a(t)},[i,r,t,a]),{ref:l}};var cE=i("4845");let cL=e=>{let t=ue.s9(e),i=ue.bC(e),a=ue.Sp(e);return{isHiddenDestination:t,isVirtualInterlining:i,isThrowawayTicket:a,travelHackByPrio:t?"hiddenDestination":i?"virtualInterlining":a?"throwawayTicket":null}},cB=(e,t)=>e||1!==t.length||"ECONOMY"!==t[0]?t:[],cK=e=>{var t;let{itinerary:i,travelHackByPrio:a,promotedAirportData:l,isNomad:r=!1,shouldShowRyanairPartnership:n=!1}=e,o=cB(r,(0,ue.tQ)(i)),s=o.length>0,d=null!=a,u=(0,ue.Lx)(i,l),c=r&&(0,ue.KH)(i),v=r&&(0,ue.hc)(i),{includedHandBags:m,includedCheckedBags:p,includedPersonalItem:f}=null!==(t=i.bagsInfo)&&void 0!==t?t:{},g=(0,ue.mv)(i),h=(0,ue.oj)(i),Z=(0,ue.P4)(i),b=null!=p?p:0,y=null!=m?m:0,k=r&&!v&&b>0&&null!=g,x=r&&!v&&y>0&&null!=h;return{showResultCardBadges:n||s||d||u||c||k||x||v,showCabinClasses:s,showTravelHackBadge:d,showSmartPassBadge:u,showNoCheckedBags:c,showCheckedBags:k,showCabinBags:x,showNoBags:v,cabinClasses:o,includedCheckedBagsSafe:b,includedHandBagsSafe:y,includedPersonalItemSafe:null!=f?f:0,checkedBagsWeightLimit:g,cabinBagsWeightLimit:h,personalItemWeightLimit:Z}};var cO=i("5588"),cM=i("48742");let cj={category:"debug",action:"expand itinerary debug details",destinations:cS.T9},cz={category:"fare lock",action:"eligible",destinations:cS.Rj},cV={category:"fare lock",action:"offer displayed",destinations:cS.Rj},c$={category:"fare lock",action:"redirected to order page",destinations:cS.T9},cU={category:"pixel",action:"initialized from search",destinations:cS.Rj};var cG=i("7375");let cH=()=>{let e=(0,n4.v9)(da.CR),t=(0,cG.n0)(e);return{passengersCount:t,hasMultiplePassengers:t>1}},cW=e=>{var t,i,a;let l=(0,n4.v9)(sO.$),{hasMultiplePassengers:r,passengersCount:n}=cH(),o=(0,sa.z)(null===(t=e.price)||void 0===t?void 0:t.amount),s=(0,sa.z)(null===(i=e.price)||void 0===i?void 0:i.priceBeforeDiscount),d=(null===(a=e.price)||void 0===a?void 0:a.priceBeforeDiscount)!=null&&l(s)!==l(o);return{passengersCount:n,totalPrice:o,totalPriceBeforeDiscount:s,shouldShowDiscount:d,hasMultiplePassengers:r}};var cq=i("69837"),cQ=i("2119"),cJ=i("36707");let cY=()=>{let e=(0,oY.Z)(),t=(0,oQ.Z)(),i=(0,cl.K)();return(0,n3.useCallback)(()=>{e({module:"search",category:"login",action:"guest continued",event_name:"search: login: guest continued",props:{...t,search_session_id:null!=i?i:void 0}})},[t,i,e])};var cX=i("66480"),c0=i("33725");let c1=e=>{var t;return(null===(t=e.itineraryProvider)||void 0===t?void 0:t.name)==="ryanair.com"};var c2=i("59930"),c3=i("59860"),c4=i("70474"),c5=i("90146");let c9=["en","us","au","ca","ie","ph","in","za","sg","nz","my","hk","ee"];var c6=i("42195");let c7=(0,o7.defineMessages)({select:{id:"search.result.itinerary_detail.button.select"},continue:{id:"search.result.itinerary_detail.button.continue"},book:{id:"search.result.itinerary_detail.button.book"}}),c8=(0,c5.P1)([sz.BX,c6.Wv],(e,t)=>t("BOOK_TO_SELECT")||c9.includes(e)?c7.select:["fr","it"].includes(e)?c7.continue:c7.book);var ve=i("11533");let vt=(0,n3.createContext)({setHasFlightDetail:()=>{},hasFlightDetail:!1}),vi=(0,n3.memo)(e=>{let{children:t}=e,[i,a]=(0,n3.useState)(!1);return(0,nX.Z)(vt.Provider,{value:{hasFlightDetail:i,setHasFlightDetail:a}},void 0,t)});var va=i("57974"),vl=i("42372"),vr=i("6326"),vn=i("26028"),vo=i("8344"),vs=i("20890"),vd=i("36235");let vu=(e,t)=>{var i,a,l,r;let n=(0,d3.useFeature)("FARE_LOCK_SEARCH_BUTTON"),o=(0,n4.v9)(da.$T),s=(0,cQ.s5)(o);if(!n||null===e)return{isFarelockEligible:!1,shouldShowFarelock:!1,farelock:null,farelockEur:null};let d=null===(i=e.priceLocks)||void 0===i?void 0:null===(a=i.priceLocksCurr)||void 0===a?void 0:a.find(e=>(null==e?void 0:e.default)===!0),u=null===(l=e.priceLocks)||void 0===l?void 0:null===(r=l.priceLocksEur)||void 0===r?void 0:r.find(e=>(null==e?void 0:e.default)===!0);return{isFarelockEligible:null!=d&&null!=u&&s,shouldShowFarelock:null!=d&&null!=u&&s&&!t,farelock:d,farelockEur:u}};var vc=i("25800"),vv=i("27601"),vm=i.n(vv);i("67886"),i("65451"),i("46015"),i("38334"),i("94880"),i("75643"),i("29761");var vp=i("23309"),vf=i("97765");let vg=e=>{switch(ue.rk(e)){case"oneWay":return"oneway";case"multicity":return"multicity";case"nomad":return"nomad";default:return"return"}},vh=e=>{let{hasSomeBenefits:t,isKiwiGuaranteeAvailable:i}=ue.cK(e);return i?"full":t?"benefits":"none"},vZ=(e,t)=>{var i,a;return(0,vf.S)((0,sD.GH)(null==e?void 0:null===(i=e.station)||void 0===i?void 0:i.gps),(0,sD.GH)(null==t?void 0:null===(a=t.station)||void 0===a?void 0:a.gps))},vb=e=>null===e?[]:[...e.reduce((e,t)=>{var i,a;return"string"==typeof(null===(i=t.itineraryProvider)||void 0===i?void 0:null===(a=i.contentProvider)||void 0===a?void 0:a.code)&&e.add(t.itineraryProvider.contentProvider.code),e},new Set)].sort(),vy=e=>{var t,i;let{externalBookingOptions:a}=ue.gr(e),l=null!==a,r=(0,sa.z)(null===(t=e.priceEur)||void 0===t?void 0:t.amount),n=l?(0,sa.z)(null===(i=a[0].priceEur)||void 0===i?void 0:i.amount):null;return null!=n?Math.min(r,n):r},vk=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p;let{kiwiBookingOption:f,kiwiBasicBookingOption:g,externalBookingOptions:h}=ue.gr(e),Z=null!==f,b=null!==g,y=null!==h,k=ue.gd(e),x=vp.TH(k[0]),_=ue.ad(e)?k[0]:vm()(k),w=vp.x9(_),C=null!==(t=null===(i=vp.TH(vm()(k)))||void 0===i?void 0:i.utcTime)&&void 0!==t?t:void 0,S=null!==(a=e.duration)&&void 0!==a?a:0,{isAutomaticCheckinAvailable:N,isDisruptionProtectionAvailable:T,isInstantChatSupportAvailable:I,guaranteeFeeEur:R}=ue.cK(e),A=(null==R?void 0:R.amount)!=null;return{airlines:(0,ue.FL)(e).map(e=>e.code),bookingToken:null!==(l=null==f?void 0:f.token)&&void 0!==l?l:void 0,departureDate:null!==(r=null==x?void 0:x.utcTime)&&void 0!==r?r:"",destinationIata:null!==(n=null==w?void 0:null===(o=w.station)||void 0===o?void 0:o.code)&&void 0!==n?n:"",distanceKilometers:null!==(s=vZ(x,w))&&void 0!==s?s:void 0,durationMinutes:S/60,tripType:vg(e),guaranteeFee:A?(0,sa.z)(R.amount):void 0,isAutomaticCheckinAvailable:N,isDisruptionProtectionAvailable:T,isHiddenDestination:ue.s9(e),isInstantChatSupportAvailable:I,isThrowawayTicket:ue.Sp(e),isVirtualInterlining:ue.bC(e),kiwiBasicBookingToken:null!==(d=null==g?void 0:g.token)&&void 0!==d?d:void 0,kiwiBasicPriceEur:b?(0,sa.z)(null===(u=g.priceEur)||void 0===u?void 0:u.amount):void 0,kiwiGuaranteeType:vh(e),kiwiPriceEur:Z?(0,sa.z)(null===(c=f.priceEur)||void 0===c?void 0:c.amount):void 0,layoverCount:k.length-1,originIata:null!==(v=null==x?void 0:null===(m=x.station)||void 0===m?void 0:m.code)&&void 0!==v?v:"",redirectPriceEur:y?(0,sa.z)(null===(p=h[0].priceEur)||void 0===p?void 0:p.amount):void 0,redirectProvider:vb(h),resultPriceEur:vy(e),returnDate:C}},vx=e=>{let{itinerary:t,isTier1Search:i,itineraryRank:a}=e,l=(0,cl.NL)(),r=(0,cl.K)(),{passengers:n}=(0,n4.v9)(s0.Oy),{adults:o,children:s,infants:d}=n,{id:u,bagsInfo:c,pnrCount:v}=t,{includedHandBags:m,includedCheckedBags:p,includedPersonalItem:f}=null!=c?c:{},{airlines:g,bookingToken:h,departureDate:Z,destinationIata:b,distanceKilometers:y,durationMinutes:k,tripType:x,guaranteeFee:_,isAutomaticCheckinAvailable:w,isDisruptionProtectionAvailable:C,isHiddenDestination:S,isInstantChatSupportAvailable:N,isThrowawayTicket:T,isVirtualInterlining:I,kiwiBasicBookingToken:R,kiwiBasicPriceEur:A,kiwiGuaranteeType:F,kiwiPriceEur:D,layoverCount:P,originIata:E,redirectPriceEur:L,redirectProvider:B,resultPriceEur:K,returnDate:O}=vk(t),{kiwiBookingOption:M}=(0,ue.gr)(t),{shouldShowFarelock:j}=vu(M,u$(t));return{adult_passenger_count:o,airlines:g,booking_token:h,cabin_bag_count:null!=m?m:0,checked_bag_count:null!=p?p:0,child_passenger_count:s,departure_date:Z,destination_iata:b,distance_kilometers:y,duration_minutes:k,trip_type:x,guarantee_fee:_,has_price_lock:j,infant_passenger_count:d,is_automatic_check_in_available:w,is_disruption_protection_available:C,is_hidden_cities:S,is_instant_chat_support_available:N,is_self_transfer:I,is_throwaway_ticketing:T,itinerary_id:u,kiwi_basic_booking_token:R,kiwi_basic_price_eur:A,kiwi_guarantee_type:F,kiwi_price_eur:D,layover_count:P,origin_iata:E,personal_item_count:null!=f?f:0,pnr_count:null!=v?v:0,rank:a,redirect_price_eur:L,redirect_provider:B,request_id:null!=l?l:void 0,result_price_eur:K,return_date:O,search_session_id:null!=r?r:void 0,seat_count:o+s+d,tier_marketing:(0,vc.d)(i)}},v_=e=>{let{itinerary:t,isTier1Search:i,itineraryRank:a,bookingOption:l}=e,r=(0,oY.Z)(),n=(0,oQ.Z)(),o=vx({itinerary:t,isTier1Search:i,itineraryRank:a}),s=(0,vd.cp)(l);return(0,n3.useCallback)(()=>{r({module:"search",category:"pre booking",action:"continue clicked",event_name:"search: pre booking: continue clicked",props:{...n,...o,selected_booking_option_type:s}})},[s,n,o,r])};var vw=i("33411"),vC=i.n(vw),vS=i("22626"),vN=i.n(vS),vT=i("66686");let vI=e=>vN()(e=>!!(e.id&&e.timestamp),vC()(e)),vR=()=>{let e=(0,ve.le)("dealsClicked"),t=e?JSON.parse(e):{};return vI(t)?t:{}},vA=e=>{let{timestamp:t}=e;return(0,vT.A)(new Date,(0,oK.E)(new Date(t),30))},vF=e=>{if(null==e)return null;let t=vR()[e];return t&&!vA(t)?t.timestamp:null};var vD=i("70410"),vP=i("45109");function vE(e,t,i,a,l){var r,n,o,s,d,u,c,v;let m=ue.TH(e),p=ue.x9(e),f={originAirport:null!==(r=null==m?void 0:null===(n=m.station)||void 0===n?void 0:n.code)&&void 0!==r?r:"",destinationAirport:null!==(o=null==p?void 0:null===(s=p.station)||void 0===s?void 0:s.code)&&void 0!==o?o:"",outboundDate:(0,vP.WU)(null!==(d=(0,sa.sG)(null==m?void 0:m.utcTime))&&void 0!==d?d:new Date,"dd-MM-yyyy"),inboundDate:(0,vP.WU)(null!==(u=(0,sa.sG)(null==p?void 0:p.utcTime))&&void 0!==u?u:new Date,"dd-MM-yyyy"),priceInEur:(0,sa.z)(null==e?void 0:null===(c=e.priceEur)||void 0===c?void 0:c.amount),priceInCurrency:(0,sa.z)(null==e?void 0:null===(v=e.price)||void 0===v?void 0:v.amount),currency:window.SP_GLOBALS.SKYPICKER_CURRENCY,trips:ue.gd(e),extraTrackingData:{searchForm:t},subprovider:i};cX.Z.track(oU.Sq,{...f,route_id:f.originAirport+f.destinationAirport,rank:a}),s2.Z.track("book","detail"===l?"itinerary":"button",(0,cE.Z)(e,t.passengers))}let vL=e=>{let{bookingOption:t,isTier1Search:i,itinerary:a,itineraryRank:l,resultType:r}=e,n=(0,os.SK)(),{getConversionTime:o}=(0,va.Z)(),{hasFlightDetail:s}=(0,n3.useContext)(vt),{firstPollRequestId:d}=(0,n4.v9)(s$.V6),u=(0,n4.v9)(da.D6),c=(0,n4.v9)(da.CR),v=vn.a(null==t?void 0:t.itineraryProvider),m=vn.W(null==t?void 0:t.itineraryProvider),p=v_({isTier1Search:i,itinerary:a,itineraryRank:l,bookingOption:t}),f=ue.cK(a),g=(0,n3.useCallback)(e=>{var c,g,h,Z,b,y,k,x,_,w,C,S,N,T,I,R,A,F,D,P,E;if("mouseup"===e.type&&e.button>1||"keyup"===e.type&&"Enter"!==e.key||null===t)return;let L=null!==(c=null==t?void 0:null===(g=t.itineraryProvider)||void 0===g?void 0:g.hasHighProbabilityOfPriceChange)&&void 0!==c?c:null,B=(0,sD.j1)(a),K=o(d);if(!(v||m)){let e=ue.wX(a);n(oU.fx,{...B,...(0,sD.LH)(t.itineraryProvider),partnerWithHigherProbOfPriceChange:L,kiwiPrice:(0,sa.z)(null==e?void 0:null===(P=e.price)||void 0===P?void 0:P.amount),goodDealClickedTimestamp:vF(B.arrivalCity),tierMarketing:i?1:0}),cX.Z.track(oU.fx,{action:"optionClick",partner:null==t?void 0:null===(E=t.itineraryProvider)||void 0===E?void 0:E.code,partnerWithHigherProbOfPriceChange:L})}n(oU.Sq,{...B,...(0,sD.LH)(t.itineraryProvider),...K&&{timeFromFirstResultsShown:K},quicketInfoAvailable:s,trace:(0,sD.Xp)(a),resultType:r,rank:l,goodDealClickedTimestamp:vF(B.arrivalCity),tierMarketing:i?1:0});let O=(0,vd.vS)({bookingOption:t,benefitsData:f}),M=ue.TH(a),j=(0,vd.be)({isTier1Search:i,itinerary:a,itineraryRank:l,searchForm:u});vD.Z.track(vl.RW,{airlines:j.airlines,bookingToken:null===(h=ue.wX(a))||void 0===h?void 0:h.token,departureDate:null==M?void 0:M.utcTime,origin:null==M?void 0:null===(Z=M.station)||void 0===Z?void 0:null===(b=Z.city)||void 0===b?void 0:b.legacyId,destination:null===(y=ue.IK(a))||void 0===y?void 0:null===(k=y.city)||void 0===k?void 0:k.legacyId,guarantee:null===(x=j.options)||void 0===x?void 0:x.kiwi.guarantee,marketTier:j.marketTier,numberOfSeats:j.numberOfSeats,kiwiAvailable:null===(_=j.options)||void 0===_?void 0:_.kiwi.available,kiwiPrice:null===(w=j.options)||void 0===w?void 0:w.kiwi.price,kiwiPriceLock:null===(C=j.options)||void 0===C?void 0:C.kiwi.priceLock,isAutomaticCheckinAvailable:null===(S=j.options)||void 0===S?void 0:S.kiwi.perks.isAutomaticCheckinAvailable,isDisruptionProtectionAvailable:null===(N=j.options)||void 0===N?void 0:N.kiwi.perks.isDisruptionProtectionAvailable,isInstantChatSupportAvailable:null===(T=j.options)||void 0===T?void 0:T.kiwi.perks.isInstantChatSupportAvailable,redirectAvailable:null===(I=j.options)||void 0===I?void 0:I.redirect.available,redirectPrice:null===(R=j.options)||void 0===R?void 0:R.redirect.price,redirectProvider:null===(A=j.options)||void 0===A?void 0:A.redirect.provider,redirectType:null===(F=j.options)||void 0===F?void 0:F.redirect.type,searchType:(0,oW.iJ)(u),type:O.type}),p(),n(vr.oy,{...j,...O}),vE(a,u,null==t?void 0:null===(D=t.itineraryProvider)||void 0===D?void 0:D.code,l,r)},[t,a,o,d,v,m,n,s,r,l,i,f,u,p]);return{saveLocalUnfinishedBooking:(0,n3.useCallback)(()=>{if(null!==t){if(ue.kg(a)||ue.ad(a)){let i=ue.TH(a),l=ue.x9(a);if(null!=i&&i.station&&null!=l&&l.station){var e;let r={departureDate:{utc:i.utcTime,local:i.localTime},from:{city:i.station.city,id:"from"},to:{city:l.station.city,id:"to"},itineraryType:(0,vs.K)(a.__typename),bookingToken:null!==(e=t.token)&&void 0!==e?e:null,passengers:cG.n0(c),passengersCategory:cG.ff(c),created:new Date().toISOString(),fromLocationId:i.station.legacyId,toLocationId:l.station.legacyId,isFromAccount:!1};(0,ve.D$)(vo.Y,JSON.stringify(r))}}}},[t,a,c]),trackGoToBooking:g}},vB=e=>{let{kiwiBookingOption:t,externalBookingOptions:i,numOfBookingOptions:a}=(0,ue.gr)(e),{hasSomeBenefits:l,isKiwiGuaranteeAvailable:r}=(0,ue.cK)(e),n=null===t&&(null==i?void 0:i.length)===1;return a>1||1===a&&(l||r)||n};var vK=i("22222"),vO=i("34495");let vM=e=>{let{bookingOption:t,responseContainsKayakItinerary:i,isTier1Search:a,isPrebookingRedirect:l,itinerary:r}=e,n=(0,n4.v9)((0,sF.gk)("promocode")),o=(0,n4.v9)(sL.EG),s=(0,vO.Z)(),d=(0,n4.v9)(sL.vk),u=(0,n4.v9)(sz.dY),c=vn.a(null==t?void 0:t.itineraryProvider),v=vn.W(null==t?void 0:t.itineraryProvider),m=(0,ue.j_)(t),p=m&&(0,ue.FL)(r),f=(0,n4.v9)(da.D6),g=(0,sb.dC)(f),{firstPollRequestId:h}=(0,n4.v9)(s$.V6),{isPriceMatchGuaranteeEnabled:Z}=(0,sT.Z)(),b="on"===(0,d3.useTest)("PREBOOKING_CONFIG_CLIENT"),{isDesktop:y}=(0,oo.Z)(),k=Z&&(!1===i||g)&&a;return{bookingUrl:(0,n3.useMemo)(()=>{if(!t)return"";if(!(c||v)){if(l){var e;return`/${s.id}/redirect?href=${encodeURIComponent(t.bookingUrl)}&provider=${m?`${p[0].name}&isKiwiRedirect=true`:null===(e=t.itineraryProvider)||void 0===e?void 0:e.name}`}return t.bookingUrl}return(0,vK.IT)(t.bookingUrl,{promocode:n,userId:d?u:void 0,domain:o,isCompetitiveSearch:k,isPrebookingConfigClient:b,searchSessionId:h,isDesktop:y})},[t,c,v,n,d,u,o,k,b,h,y,l,s.id,m,p])}};var vj=i("60434");let vz=e=>{if(null==e)return null;let t=(0,vj.Z)();try{let i=new URL(e).searchParams;return{currency:i.get("currency"),from:i.get("from"),to:i.get("to"),passengers:i.get("passengers"),searchBags:i.get("searchBags"),bookingToken:i.get("booking_token"),deeplinkUuid:t}}catch(e){e instanceof Error&&(0,u2.Z)(e,{tag:"tracking-pixel",value:"invalid tracking pixel"})}return null},vV=(0,o7.defineMessage)({id:"result.book_flight_for"}),v$=(0,n3.memo)(e=>{var t;let{dataTest:i,id:a,itinerary:l,bookingOption:r,isItineraryResult:n=!1,fullWidth:o=!1,hidePrice:s,size:d,type:u="primary",resultType:c,itineraryRank:v,responseContainsKayakItinerary:m,isTier1Search:p,customTranslation:f,onClickSideEffect:g,onSignInBeforeBookingClick:h,onShowDetail:Z,isPrebookingRedirect:b=!1,onPrebookingContinue:y}=e,k=(0,os.SK)(),{trackGoToBooking:x,saveLocalUnfinishedBooking:_}=vL({bookingOption:r,isTier1Search:p,itinerary:l,itineraryRank:v,resultType:c}),w=(0,n4.v9)(sz.wH),C=(0,n4.v9)(sz.Mq),{firstPollRequestId:S}=(0,n4.v9)(s$.V6),N=(0,n4.v9)(c8),T=vB(l),I=vn.a(null==r?void 0:r.itineraryProvider),R=vn.W(null==r?void 0:r.itineraryProvider),{bookingUrl:A}=vM({bookingOption:r,responseContainsKayakItinerary:m,isTier1Search:p,isPrebookingRedirect:b,itinerary:l}),F=(0,n3.useCallback)(async e=>{e.stopPropagation(),!(0,cM.isSafeToLeave)()&&(await (0,c0.jp)(),window.location.href=A)},[A]),D=(0,n3.useCallback)(e=>{if("result card"!==c)x(e),_(),S&&(0,n9.D9)(c4.SEARCH_SESSION_ID,S),!h&&(0,n9.D9)(sN._L,"true"),g&&!h&&g(l.id)},[l.id,g,h,c,_,S,x]),P=(0,n3.useCallback)(e=>{if("result card"===c){e.preventDefault(),null==Z||Z();return}if(h&&(I||R)){h(e,A);return}if(b&&y&&y(T?r:null),null!==r){let e=vz(r.trackingPixel);null!==e&&(cX.Z.track(cU,e),k(cU,e))}F(e)},[c,h,I,R,b,y,r,F,Z,A,T,k]),E=(0,n3.useCallback)(()=>{if(C||(0,cM.isSafeToLeave)()){if("result card"!==c)return A}},[A,C,c]),L=(0,n3.useCallback)(()=>{var e,t;if(n){if(f)return f;let e=s?N:vV;return(0,ow.jsx)(ox.Z,{...e,values:{price:(0,nX.Z)(si.Z,{maxSize:99},void 0,null===(t=l.price)||void 0===t?void 0:t.amount)}})}return(0,nX.Z)(si.Z,{maxSize:99},void 0,null==r?void 0:null===(e=r.price)||void 0===e?void 0:e.amount)},[N,null==r?void 0:null===(t=r.price)||void 0===t?void 0:t.amount,f,s,n,l]);return(0,nX.Z)("div",{onMouseUp:D,onKeyUp:D,role:"none"},void 0,(0,nX.Z)(dB.default,{dataTest:i,id:a,onClick:P,href:E(),external:!(I||R)||w,type:u,fullWidth:o,size:null!=d?d:o?"small":"normal",rel:"nofollow"},void 0,(0,nX.Z)(L,{})))}),vU=e=>{let{itinerary:t,bookingOption:i,fullWidth:a=!1,hidePrice:l,isItineraryResult:r,shouldStopPropagation:n=!1,type:o,dataTest:s,resultType:d,itineraryRank:u,customTranslation:c,onClickSideEffect:v,onShowDetail:m,onSignInBeforeBookingClick:p,responseContainsKayakItinerary:f,isTier1Search:g}=e,h=(0,n3.useCallback)(e=>{n&&e.stopPropagation()},[n]);return(0,nX.Z)("div",{"data-test":s,className:(0,n2.Z)(a&&"flex-1"),onClick:h},void 0,(0,nX.Z)(v$,{itinerary:t,isItineraryResult:r,bookingOption:i,fullWidth:!!a,hidePrice:l,size:"small",type:o,resultType:d,itineraryRank:u,responseContainsKayakItinerary:f,isTier1Search:g,customTranslation:c,onClickSideEffect:v,onShowDetail:m,onSignInBeforeBookingClick:p}))},vG=e=>{var t,i,a;let{itinerary:l,handleExpandContent:r}=e,{isDebugModeOn:n}=(0,ot.Z)();if(!n)return null;let o=Array.from(new Set(null===(t=l.bookingOptions)||void 0===t?void 0:null===(i=t.edges)||void 0===i?void 0:i.map(e=>{var t,i,a;return null==e?void 0:null===(t=e.node)||void 0===t?void 0:null===(i=t.itineraryProvider)||void 0===i?void 0:null===(a=i.contentProvider)||void 0===a?void 0:a.code}))).join("+"),s="ItineraryMulticity"===l.__typename?l.id.split(":")[1].split("|"):null===(a=l.legacyId)||void 0===a?void 0:a.split("-"),d=null==s?void 0:s.map(e=>{let t=e.split("_")[0];return{name:e,url:`https://conveyance-ui.skypicker.com/ids/${t}`}});return(0,nX.Z)("div",{className:"flex cursor-default items-center justify-between bg-cloud-normal py-200 pe-400 ps-200 text-small text-ink-normal",onClick:e=>{e.stopPropagation()},"aria-hidden":"true"},void 0,(0,nX.Z)("div",{className:"flex flex-col"},void 0,(0,nX.Z)("span",{},void 0,"Flight ID:"," ",(0,nX.Z)("span",{},void 0,null==d?void 0:d.map((e,t)=>(0,nX.Z)(n3.Fragment,{},e.name,(0,nX.Z)("a",{className:"underline",href:e.url,target:"_blank",rel:"noreferrer"},e.name,e.name),t<d.length-1&&" - ")))),o&&(0,nX.Z)("div",{className:"Journey-provider"},void 0,`Content providers: ${o}`),(0,nX.Z)("button",{type:"button",className:"Journey-debug-showOriginalBtn me-100 rounded-150 border border-solid border-cloud-dark px-200 py-100",onClick:r},void 0,"show more")))},vH=e=>{try{let t=JSON.parse(e);return{token_price_timestamp:t.token_price_timestamp_parsed,price:{price:t.price,adult_price:t.adult_price,child_price:t.child_price,infant_price:t.infant_price,fx_rate:t.fx_rate,currency:t.currency,abm:t.abm,expc_transport_rev:t.expc_transport_rev,expc_anc_rev:t.expc_anc_rev,p:t.p,opc:t.opc,opi:t.opi},combination_metadata:t.combination_metadata,data_acq:{m:t.m,bf:t.bf,fc:t.fc,fb:t.fb,id:t.id,i:t.i,timestamp:t.timestamp,t:t.t,sid:t.sid,cfo:t.cfo,token_price_timestamp:t.token_price_timestamp,io:t.io,co:t.co},tat_segments:t.tat_segments,hc_segments:t.hc_segments,fare_restrictions:t.fare_restrictions}}catch(t){return e}},vW=void 0!==e1?e1:e1=i(66891),vq=e=>{let{itinerary:t,data:i,render:a}=e,l=(0,st.useFragment)(vW,i),r=(0,n3.useMemo)(()=>{var e,i;return null===(e=t.bookingOptions)||void 0===e?void 0:null===(i=e.edges)||void 0===i?void 0:i.reduce((e,t)=>{var i,a,r,n,o,s,d,u,c;if((null==t?void 0:null===(i=t.node)||void 0===i?void 0:null===(a=i.itineraryProvider)||void 0===a?void 0:a.code)==="KIWI"&&null!=l&&null!==(r=l.itineraryDebugData)&&void 0!==r&&r.debug){let i=vH(l.itineraryDebugData.debug);e.KIWI={bookingToken:t.node.token,parsedBookingToken:i}}else e[null!==(n=null==t?void 0:null===(o=t.node)||void 0===o?void 0:null===(s=o.itineraryProvider)||void 0===s?void 0:s.code)&&void 0!==n?n:""]={token:null==t?void 0:null===(d=t.node)||void 0===d?void 0:d.token,itineraryProvider:null==t?void 0:null===(u=t.node)||void 0===u?void 0:u.itineraryProvider,price:null==t?void 0:null===(c=t.node)||void 0===c?void 0:c.price};return e},{})},[]);return r?a(r):null},vQ=(0,n3.lazy)(()=>i.e("8614").then(i.t.bind(i,93853,23))),vJ=e=>{let{formattedData:t}=e;return(0,nX.Z)(n3.Suspense,{fallback:e2||(e2=(0,nX.Z)("div",{},void 0,"Loading …"))},void 0,(0,nX.Z)(vQ,{style:{fontSize:"12px"},src:t,name:"Content",iconStyle:"triangle",collapsed:3,collapseStringsAfterLength:50,displayDataTypes:!1,displayObjectSize:!1}))},vY=e=>{let{data:t}=e;if(!(null!=t&&t.KIWI)||!t.KIWI.parsedBookingToken)return null;let{KIWI:{parsedBookingToken:{combination_metadata:i,data_acq:a,token_price_timestamp:l}}}=t,r=i.map(e=>e.providers_price).join(", "),n=Object.keys(l).map(e=>{let t=new Date(l[e]),i=Date.now(),a=i+6e4*t.getTimezoneOffset()-t.getTime(),r=Math.floor(a/36e5),n=Math.floor((a-36e5*r)/6e4);return r>0?`${r}h${n}m`:`${n}m`}).join(", ");return(0,nX.Z)("div",{className:"max-w-[220px] overflow-auto break-words text-small"},void 0,(0,nX.Z)("code",{},void 0,e3||(e3=(0,nX.Z)("span",{className:"text-product-dark"},void 0,"cfo: "))," ",a.cfo),e4||(e4=(0,nX.Z)("br",{})),(0,nX.Z)("code",{},void 0," ",e5||(e5=(0,nX.Z)("span",{className:"text-product-dark"},void 0,"providers price: ")),r),e9||(e9=(0,nX.Z)("br",{})),(0,nX.Z)("code",{},void 0," ",e6||(e6=(0,nX.Z)("span",{className:"text-product-dark"},void 0,"token price oldness: "))," ",n))},vX=e=>{let{passengersCount:t}=e;return(0,nX.Z)(ok.default,{type:"secondary",size:"small"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.price_for_num_of_passengers",values:{numOfPassengers:t}}))};var v0=i("31825");let v1=!1,v2=e=>{let{itinerary:t,isTier1Search:i,itineraryRank:a}=e,l=(0,oY.Z)(),r=(0,oQ.Z)(),n=vx({itinerary:t,isTier1Search:i,itineraryRank:a});return(0,n3.useCallback)(()=>{l({module:"search",category:"pre booking",action:"screen displayed",event_name:"search: pre booking: screen displayed",props:{...r,...n}})},[r,n,l])};var v3=i("70925");let v4=e=>{let{isTier1Search:t,itinerary:i,itineraryRank:a}=e,l=(0,oY.Z)(),r=(0,oQ.Z)(),n=vx({itinerary:i,isTier1Search:t,itineraryRank:a});return(0,n3.useCallback)(()=>{l({module:"search",category:"pre booking",action:"full details displayed",event_name:"search: pre booking: full details displayed",props:{...r,...n}})},[r,n,l])},v5=()=>e7||(e7=(0,nX.Z)("svg",{width:"18",height:"14"},void 0,(0,nX.Z)("path",{d:"m17.26 7.143.01-.15a1.2 1.2 0 0 0-1.05-1.191l-.15-.01-11.191.001 3.213-3.225c.348-.41.381-1.007.08-1.453l-.1-.129A1.198 1.198 0 0 0 6.504.792l-.128.1-5.244 5.154c-.49.44-.53 1.185-.116 1.673l5.36 5.398c.492.445 1.25.406 1.694-.088.407-.452.408-1.129.027-1.581L4.94 8.193h11.13a1.2 1.2 0 0 0 1.19-1.05Z",fill:"currentColor"})));var v9=i("72134"),v6=i("94282"),v7=i("49266"),v8=i("85462"),me=i("89990"),mt=i("70079");let mi=(e,t,i,a,l,r)=>{if(e)return(0,v7.Q)(t,{locale:i});if(a){if("dateFormat"===a)return r(t,v8.Z);let e=(0,mt.y)(l,a);return(0,vP.WU)(t,e,{locale:i})}return null},ma=e=>{let{value:t,formatKeys:i,relative:a,isLocal:l}=e,r=(0,n4.v9)(op.fK),{locale:n}=(0,n3.useContext)(me.ZP),{formatDate:o}=(0,dU.Z)();if(!t)return null;let s=l?t:(0,ua.zh)(t),d=(0,vP.WU)(s,"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),u=mi(!!a,s,n,i,r,o);return u?(0,nX.Z)("time",{dateTime:d},void 0,"timeFormat"===i?u.toLowerCase():u):(0,nX.Z)("time",{},void 0,d)};var ml=i("77048"),mr=i("15619");let mn=e=>{let{itinerary:t}=e;if((0,ue.kg)(t))return e8||(e8=(0,nX.Z)(ml.default,{className:"mx-100",size:"large"}));if((0,ue.ad)(t))return te||(te=(0,nX.Z)(mr.default,{className:"mx-100",size:"large"}));let i=(0,ue.gd)(t);if(i.length>2)return(0,ow.jsxs)(ow.Fragment,{children:[tt||(tt=(0,nX.Z)(ml.default,{className:"mx-100",size:"large"})),"(+",i.length-2,")",ti||(ti=(0,nX.Z)(ml.default,{className:"mx-100",size:"large"}))]});if(2===i.length){var a,l,r,n;let e=(0,vp.x9)(i[0]),t=(0,vp.TH)(i[1]);return(0,ow.jsxs)(ow.Fragment,{children:[ta||(ta=(0,nX.Z)(ml.default,{className:"mx-100",size:"large"})),null==e?void 0:null===(a=e.station)||void 0===a?void 0:null===(l=a.city)||void 0===l?void 0:l.name,", ",null==t?void 0:null===(r=t.station)||void 0===r?void 0:null===(n=r.city)||void 0===n?void 0:n.name,tl||(tl=(0,nX.Z)(ml.default,{className:"mx-100",size:"large"}))]})}return null},mo=e=>{var t,i,a,l,r,n,o,s;let{itinerary:d,passengers:u}=e,c=(0,ue.TH)(d),v=(0,ue.x9)(d),m=(0,ue.tT)(d),p=m[0],f=m[m.length-1],g=(0,sa.sG)(null==p?void 0:null===(t=p.segment)||void 0===t?void 0:null===(i=t.source)||void 0===i?void 0:i.localTime),h=(0,sa.sG)(null==f?void 0:null===(a=f.segment)||void 0===a?void 0:null===(l=a.destination)||void 0===l?void 0:l.localTime),Z=null!=g&&null!=h&&!(0,oj.K)(g,h);return(0,nX.Z)("div",{className:"mb-600 lm:hidden"},void 0,(0,nX.Z)("h2",{className:"mb-100 flex min-w-0 items-center text-[24px] font-medium leading-[34px]"},void 0,(0,nX.Z)("span",{className:"truncate"},void 0,null==c?void 0:null===(r=c.station)||void 0===r?void 0:null===(n=r.city)||void 0===n?void 0:n.name,(0,nX.Z)(mn,{itinerary:d}),null==v?void 0:null===(o=v.station)||void 0===o?void 0:null===(s=o.city)||void 0===s?void 0:s.name)),(0,nX.Z)("p",{className:"flex items-center text-small leading-small"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:g}),Z&&(0,ow.jsxs)(ow.Fragment,{children:["\xa0–\xa0",(0,nX.Z)(ma,{formatKeys:"dateFormat",value:h})]}),tr||(tr=(0,nX.Z)(v9.default,{size:"small",className:"scale-50"})),tn||(tn=(0,nX.Z)(v6.default,{size:"small",className:"me-50"})),(0,cG.n0)(u)),to||(to=(0,nX.Z)("div",{className:"-mx-400 mt-400 pt-100"},void 0,(0,nX.Z)(uk.default,{}))))};var ms=i("65125");let md=e=>{let{sectorSegments:t,prevSectorArrival:i,nextSectorDeparture:a,isReturningToDifferentAirport:l}=e;return(null!=t?t:[]).map((e,t,r)=>{var n,o,s,d,u,c,v,m,p,f,g,h,Z,b;if(!e)return null;let y=t===r.length-1,k=r[t-1],x=r[t+1],_=null==i?void 0:null===(n=i.station)||void 0===n?void 0:n.code,w=null==a?void 0:null===(o=a.station)||void 0===o?void 0:o.code,C=null==k?void 0:null===(s=k.segment)||void 0===s?void 0:null===(d=s.destination)||void 0===d?void 0:null===(u=d.station)||void 0===u?void 0:u.code,S=null==x?void 0:null===(c=x.segment)||void 0===c?void 0:null===(v=c.source)||void 0===v?void 0:null===(m=v.station)||void 0===m?void 0:m.code,N=null===(p=e.segment)||void 0===p?void 0:null===(f=p.source)||void 0===f?void 0:null===(g=f.station)||void 0===g?void 0:g.code,T=null===(h=e.segment)||void 0===h?void 0:null===(Z=h.destination)||void 0===Z?void 0:null===(b=Z.station)||void 0===b?void 0:b.code,I=null!=e.layover;return{hasLayover:I,hasDepartureFromDifferentAirport:0===t?null!=_&&_!==N:C!==N,nextSegmentHasDepartureFromDifferentAirport:y?null!=w&&w!==T:S!==T,isReturningToDifferentAirport:l&&y,isLast:y}})},mu={category:"itinerary detail",attributesType:cS.KP.BANNERS,action:"hidden destinations itinerary shown",destinations:cS.T9},mc={category:"itinerary detail",attributesType:cS.KP.BANNERS,action:"hidden destinations more information click",destinations:cS.T9},mv={category:"itinerary detail",attributesType:cS.KP.BANNERS,action:"hidden destinations article click",destinations:cS.T9},mm={category:"itinerary detail",attributesType:cS.KP.RESULTS,action:"leg detail expanded",destinations:cS.Rj},mp={category:"itinerary detail",attributesType:cS.KP.RESULTS,action:"leg detail collapsed",destinations:cS.Rj},mf={category:"itinerary detail",attributesType:cS.KP.RESULTS,action:"package link click",destinations:cS.Rj},mg={category:"itinerary detail",attributesType:cS.KP.RESULTS,action:"self transfer info clicked",destinations:cS.Rj};var mh=i("59126");let mZ=e=>{let{difference:t}=e;return(0,nX.Z)(ms.ItineraryBadgeListItem,{type:"warning",icon:ts||(ts=(0,nX.Z)(mh.default,{}))},"differentDayArrival",(0,nX.Z)("span",{className:"text-primary-foreground"},void 0,t>1?(0,nX.Z)(ox.Z,{id:"search.result.next_day_arrival_multi",values:{days:t}}):td||(td=(0,nX.Z)(ox.Z,{id:"search.result.next_day_arrival"}))))},mb=e=>{let{city:t}=e;return(0,nX.Z)(ms.ItineraryBadgeListItem,{type:"warning",icon:tu||(tu=(0,nX.Z)(dQ.default,{}))},"hiddenDestination",(0,nX.Z)("span",{className:"text-normal leading-normal text-primary-foreground"},void 0,tc||(tc=(0,nX.Z)("strong",{className:"font-medium text-orange-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.hidden_city.title"})))," ",(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.hidden_city.description",values:{city:t}})))},my=()=>{let e=(0,vO.Z)();return(0,nX.Z)(ms.ItineraryBadgeListItem,{type:"info",icon:tv||(tv=(0,nX.Z)(dQ.default,{}))},"throwawayTicket",(0,nX.Z)(dC.default,{noUnderline:!0,type:"secondary",external:!0,href:`/${e.id}/help/kiwi-com-travel-hacks-258/article/throwaway-ticketing-travel-hack-135/`},void 0,tm||(tm=(0,nX.Z)("span",{className:"flex items-center"},void 0,(0,nX.Z)("span",{className:"text-normal font-normal leading-normal"},void 0,(0,nX.Z)("strong",{className:"font-medium text-blue-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.throwaway_ticketing.title"}))," ",(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.throwaway_ticketing.description_short"})),(0,nX.Z)(o6.default,{})))))},mk=e=>{var t,i;let a=(0,sa.sG)(null==e?void 0:null===(t=e.source)||void 0===t?void 0:t.localTime),l=(0,sa.sG)(null==e?void 0:null===(i=e.destination)||void 0===i?void 0:i.localTime);return!l||!a||(0,ua.KC)(l,a)?null:(0,nX.Z)(mZ,{difference:(0,ua.we)(a,l)},"differentDayArrival")},mx=e=>{var t,i;return(null==e?void 0:null===(t=e.hiddenDestination)||void 0===t?void 0:null===(i=t.city)||void 0===i?void 0:i.name)==null?null:(0,nX.Z)(mb,{city:e.hiddenDestination.city.name},"hiddenDestination")},m_=e=>{var t;return(null==e?void 0:null===(t=e.throwawayDestination)||void 0===t?void 0:t.id)==null?null:tp||(tp=(0,nX.Z)(my,{},"throwawayTicket"))},mw=e=>{let t=mx(e),i=m_(e),a=[t,i,mk(e)].filter(o3.v);return 0===a.length?null:(0,nX.Z)(ms.ItinerarySegmentBanner,{},void 0,(0,nX.Z)(ms.ItineraryBadgeList,{},void 0,a))};var mC=i("44270");let mS=e=>{let t=(0,vO.Z)(),i=0===(0,mC.q$)(e),a=0===(0,mC.pD)(e),l=(0,mt.y)(t,"durationFormat",i,a);return(0,mC.LU)(e,l)};var mN=i("9281"),mT=i("72665"),mI=i("16665"),mR=i("65950"),mA=i("93867"),mF=i("17055");let mD=(e,t)=>(0,ut.Zz)(null==t?void 0:t.code)&&(null==t?void 0:t.name)!=null?{icon:tf||(tf=(0,nX.Z)(mN.default,{size:"small"})),name:e,value:t.name}:null,mP=(e,t)=>(0,ut.Zz)(null==t?void 0:t.code)&&(null==t?void 0:t.name)!=null?{icon:tg||(tg=(0,nX.Z)(mN.default,{size:"small"})),name:e,value:t.name}:null,mE=(e,t)=>null==t?null:{icon:th||(th=(0,nX.Z)(mI.default,{size:"small"})),name:e,value:t},mL=(0,o7.defineMessages)({YES:{id:"search.result.itinerary_detail.flight_details.yes"},NO:{id:"search.result.itinerary_detail.flight_details.no"},BYOD:{id:"search.result.itinerary_detail.flight_details.audio_video.byod"},PAID:{id:"search.result.itinerary_detail.flight_details.audio_video.paid"}}),mB=(e,t)=>(null==t?void 0:t.value)==null||null==t.unit?null:{icon:tZ||(tZ=(0,nX.Z)(mA.default,{size:"small"})),name:e,value:`${t.value} ${t.unit.toLowerCase()}`},mK=(e,t)=>{let i=t?(0,ow.jsx)(ox.Z,{...mL[t]}):null;return null==i?null:{icon:tb||(tb=(0,nX.Z)(mT.default,{size:"small"})),name:e,value:i}},mO=(e,t)=>null==t?null:{icon:ty||(ty=(0,nX.Z)(mR.default,{size:"small"})),name:e,value:"NO"===t?(0,ow.jsx)(ox.Z,{...mL.NO}):t},mM=(e,t)=>null==t?null:{icon:tk||(tk=(0,nX.Z)(mF.default,{size:"small"})),name:e,value:t?(0,ow.jsx)(ox.Z,{...mL.YES}):(0,ow.jsx)(ox.Z,{...mL.NO})},mj=e=>{var t,a,l,r,n,o;let{sectorSegment:s,isLoading:d,data:u}=e,{segment:c}=s,v=mS((null!==(t=null==c?void 0:c.duration)&&void 0!==t?t:0)*1e3),m=(0,ut.Vk)(s),p=[{code:null!==(a=null==c?void 0:null===(l=c.carrier)||void 0===l?void 0:l.code)&&void 0!==a?a:"",name:null!==(r=null==c?void 0:null===(n=c.carrier)||void 0===n?void 0:n.name)&&void 0!==r?r:""}],f=(0,st.useFragment)(void 0!==tx?tx:tx=i(86294),u),g=(0,n3.useMemo)(()=>{if(d)return;let e={title:t_||(t_=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.connection_info.title"})),items:[mD(tw||(tw=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.label.airline"})),null==c?void 0:c.carrier),mP(tC||(tC=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.operating_airline"})),null==c?void 0:c.operatingCarrier),mE(tS||(tS=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.label.flight_number"})),m)].filter(o3.v)};return null!=f&&Object.values(f).filter(o3.v).length>0?[e,{title:tN||(tN=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.seating_info.title"})),items:[mB(tT||(tT=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.seat_pitch"})),f.pitch),mB(tI||(tI=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.seat_width"})),f.width),mB(tR||(tR=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.seat_recline"})),f.recline),mK(tA||(tA=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.audio_video"})),f.audioVideoAvailable),mO(tF||(tF=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.inseat_power"})),f.powerAvailable),mM(tD||(tD=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.wifi"})),f.hasWifi)].filter(o3.v)}]:[e]},[m,d,f,null==c?void 0:c.carrier,null==c?void 0:c.operatingCarrier]);return(0,nX.Z)(ms.ItinerarySegmentDetail,{duration:v,summary:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(dG.default,{carriers:p},void 0,null==c?void 0:null===(o=c.carrier)||void 0===o?void 0:o.name),d&&(tP||(tP=(0,nX.Z)("div",{className:"self-center"},void 0,(0,nX.Z)(n8.default,{type:"inlineLoader"}))))]}),content:g})},mz=void 0!==tE?tE:tE=i(9393),mV=e=>{var t,a,l,r,n,o,s,d,u,c,v,m;let{sectorSegment:p,itineraryRank:f,shouldTrackExpanded:g,markSegmentClickable:h}=e,Z=(0,os.SK)(),{segment:b}=p,y={carrier:null!==(t=null==b?void 0:null===(a=b.carrier)||void 0===a?void 0:a.code)&&void 0!==t?t:"",code:null!==(l=null==b?void 0:b.code)&&void 0!==l?l:"",outboundDepartureDate:null!==(r=null==b?void 0:null===(n=b.source)||void 0===n?void 0:n.localTime)&&void 0!==r?r:"",source:null!==(o=null==b?void 0:null===(s=b.source)||void 0===s?void 0:null===(d=s.station)||void 0===d?void 0:d.code)&&void 0!==o?o:"",destination:null!==(u=null==b?void 0:null===(c=b.destination)||void 0===c?void 0:null===(v=c.station)||void 0===v?void 0:v.code)&&void 0!==u?u:"",cabinClass:null!==(m=null==b?void 0:b.cabinClass)&&void 0!==m?m:"ECONOMY"},{seatInfo:k}=(0,st.useLazyLoadQuery)(mz,y);(null==k?void 0:k.error)!=null&&(0,u2.Z)(Error(k.error),{tag:"SeatInfoFetcher",value:"seatInfo query error"});let x=(0,st.readInlineData)(void 0!==tL?tL:tL=i(33420),null!=k?k:null);return(0,n3.useEffect)(()=>{h()},[]),(0,n3.useEffect)(()=>{if(!!g)Z(mm,{...(0,sD.u5)(p),quicketInfo:x,rank:f})},[f,p,g,Z,x]),(0,nX.Z)(mj,{sectorSegment:p,isLoading:!1,data:null!=k?k:null})},m$=e=>{var t,i,a;let{sectorSegment:l,shouldTrackExpanded:r,markSegmentClickable:n,itineraryRank:o}=e,s=null!==(t=null==l?void 0:null===(i=l.segment)||void 0===i?void 0:null===(a=i.source)||void 0===a?void 0:a.localTime)&&void 0!==t?t:null;return null==s||(0,oM.R)(s,new Date)?null:(0,nX.Z)(o4.Z,{sentryTagValue:"ItinerarySegmentDetail"},void 0,(0,nX.Z)(n3.Suspense,{fallback:(0,nX.Z)(mj,{sectorSegment:l,isLoading:!0,data:null})},void 0,(0,nX.Z)(mV,{sectorSegment:l,itineraryRank:o,shouldTrackExpanded:r,markSegmentClickable:n})))};var mU=i("48421");let mG=void 0!==tB?tB:tB=i(88228),mH=e=>{var t,i,a,l,r;return null===(t=(0,st.useLazyLoadQuery)(mG,e).availableAccommodations)||void 0===t?void 0:null===(i=t.edges)||void 0===i?void 0:null===(a=i[0])||void 0===a?void 0:null===(l=a.node)||void 0===l?void 0:null===(r=l.price)||void 0===r?void 0:r.amount},mW=e=>{let t=(0,os.SK)();return i=>{t(oU.Do,{query:e,error:i.message}),cX.Z.track(oU.Do,{query:e,error:i.message})}},mq=(0,c5.P1)([da.CR,sB.EW],(e,t)=>(i,a)=>{var l,r;let n=null==i?void 0:i.localTime,o=null==a?void 0:a.localTime,{lat:s=null,lng:d=null}=null!==(l=null==i?void 0:null===(r=i.station)||void 0===r?void 0:r.gps)&&void 0!==l?l:{};return null!=n&&null!=o&&null!==s&&null!==d?{search:{lat:s,lng:d,radius:50,checkin:n,checkout:o,roomsConfiguration:[{adults:e.adults,children:[...Array(e.children).fill(11),...Array(e.infants).fill(2)]}]},filter:{minScore:5,stars:[2,3,4,5]},options:{sortBy:"PRICE",currency:t},first:1}:null});var mQ=i("69871"),mJ=i("22624"),mY=i.n(mJ),mX=i("51529");let m0=(e,t)=>{let i=mY()({lang:e=>`lang=${e}`,currency:e=>`selected_currency=${e.toUpperCase()}`,destination:e=>{if(e.type===mQ.Ml.AIRPORT)return`iata=${e.code}`;return e.name&&`ss=${encodeURIComponent(e.name)}`},checkIn:e=>`checkin_monthday=${(0,mX._)(e)}&checkin_year_month=${(0,vP.WU)(e,"yyyy-MM")}`,checkOut:e=>`checkout_monthday=${(0,mX._)(e)}&checkout_year_month=${(0,vP.WU)(e,"yyyy-MM")}`,adults:e=>`group_adults=${e}`,children:e=>`group_children=${e}`,label:e=>e?`label=${e}`:"",nflt:e=>e?`nflt=${(e.stars||[]).map(e=>`class%3D${e}%3B`).join("")}${e.reviewScore?`review_score%3D${e.reviewScore}%3B`:""}`:"",order:e=>e?`order=${e}`:"",aid:t=>"https://www.booking.com/"===e?`aid=${t}`:""},t),a=vC()(i).filter(Boolean).join("&");return{base:e,query:`${i.destination?"searchresults":"index"}.html${a&&`${e.includes("?")?"&":"?"}${a}`}`}},m1=(e,t,i,a,l)=>{var r,n,o;let{language:s,currency:d,passengers:u}=l,c=window.SP_GLOBALS.BOOKINGCOM_URL;return m0(c,{lang:s,currency:d,destination:1===i?{type:mQ.Ml.AIRPORT,code:null!==(r=null==a?void 0:a.code)&&void 0!==r?r:""}:{type:mQ.Ml.CITY,name:null!==(n=null==a?void 0:null===(o=a.city)||void 0===o?void 0:o.name)&&void 0!==n?n:""},checkIn:new Date(Number(e)),checkOut:new Date(Number(t)),adults:u.adults,children:u.children+u.infants,nflt:{stars:[2,3,4],reviewScore:50},order:"price",label:"search_results",aid:"2079993"})},m2=(e,t,i,a)=>{let l=(0,sa.sG)(t.localTime),r=(0,sa.sG)(i.localTime);if(!l||!r||!t.station)return null;let{base:n,query:o}=m1(l,r,a,t.station,e);return`${n}${o}`},m3=(e,t,i,a)=>{let l=(0,n4.v9)(sL.DD),r=(0,n4.v9)(sB.EW),n=(0,n4.v9)(sz.BX);return l?m2({passengers:e,currency:r,language:n},t,i,a):null};var m4=i("86247"),m5=i("2415"),m9=i("76282"),m6=i("3001");let m7={alert:mh.default,layover:m5.default,technicalStop:m9.default,selfTransfer:m6.default,baggage:m4.default,smartPass:uj.default,info:mI.default},m8=e=>{let{type:t,isWarning:i=!1,children:a}=e,l=m7[t];return(0,nX.Z)(ms.ItineraryBadgeListItem,{type:i?"warning":"neutral",icon:(0,nX.Z)(l,{color:i?"warning":"secondary"})},void 0,a)};var pe=i("66075");let pt=()=>tK||(tK=(0,nX.Z)("img",{className:"ms-50 inline-block w-[80px]",src:"/images/logos/bookingcom/logo.svg",alt:"Booking.com"})),pi=e=>{let{url:t,onClick:i,onShown:a,variables:l}=e,r=mH(l);return(0,n3.useEffect)(a,[a]),(0,nX.Z)(dC.default,{href:t,onClick:i,type:"secondary",size:"small",external:!0,iconRight:tO||(tO=(0,nX.Z)(pe.default,{color:"secondary",className:"ms-100",size:"small",reverseOnRtl:!0}))},void 0,(0,nX.Z)("span",{},void 0,null==r?tM||(tM=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(ox.Z,{id:"result.check_accomodation_prices"})," ",(0,nX.Z)(pt,{})]})):(0,nX.Z)(ox.Z,{id:"search.result.rooms_price_from",values:{price:(0,nX.Z)(si.Z,{},void 0,Number.parseInt(r,10)),logo:tj||(tj=(0,nX.Z)(pt,{}))}})))},pa=e=>{let{offerUrl:t,onOfferClick:i,onOfferShown:a,variables:l}=e,r=mW(l);return(0,nX.Z)(o4.Z,{onError:r},void 0,(0,nX.Z)(n3.Suspense,{fallback:tz||(tz=(0,nX.Z)(se.default,{width:200,height:14}))},void 0,(0,nX.Z)(pi,{url:t,onClick:i,onShown:a,variables:l})))},pl=e=>{let{offerUrl:t,variables:i,itineraryTrackingParams:a}=e,l=(0,os.SK)(),r=(0,n3.useCallback)(()=>{l(oU.mT,a)},[a,l]),n=(0,n3.useCallback)(()=>{l(oU.DM,a)},[a,l]);return(0,nX.Z)(pa,{offerUrl:t,onOfferClick:r,onOfferShown:n,variables:i})},pr=e=>{let{passengers:t,localArrival:i,localDeparture:a,itineraryTrackingParams:l}=e,r=m3(t,i,a,1),n=(0,n4.v9)(mq)(i,a);return null==r||null===n?null:(0,nX.Z)(m8,{type:"info"},void 0,(0,nX.Z)(pl,{itineraryTrackingParams:l,offerUrl:r,variables:n}))},pn=e=>{let{href:t,onClick:i,children:a}=e;return(0,n4.v9)(sL.pR)?(0,nX.Z)(dC.default,{type:"secondary",external:!0,href:t,onClick:i},void 0,a):a},po=e=>{let{isWarning:t,city:i,itineraryRank:a}=e,l=(0,os.SK)(),{url:r,maybeOpenHelp:n}=(0,ui.sH)(ui.Dq.SELF_TRANSFER),o=e=>{l(mg,{rank:a}),n(e)};return(0,nX.Z)(m8,{type:"selfTransfer",isWarning:t},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.self_transfer",values:{a:e=>(0,nX.Z)(pn,{href:r,onClick:o},void 0,e),city:i}}))},ps=e=>{let{promotedAirportData:t}=e,{url:i,maybeOpenHelp:a}=(0,ui.sH)(t.promotedAirport.article);return(0,nX.Z)(m8,{type:"smartPass"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.promoted_airport",values:{a:e=>(0,nX.Z)(pn,{href:i,onClick:a},void 0,e),name:t.promotedAirport.name}}))},pd=(e,t)=>{let i=(0,sa.sG)(null==e?void 0:e.localTime),a=(0,sa.sG)(null==t?void 0:t.localTime);return null!=i&&null!=a&&!(0,ua.KC)(i,a)},pu=e=>{var t,i,a,l,r,n,o;let{sectorSegment:s,prevSectorSegment:d,hasDepartureFromDifferentAirport:u,areCheckedBagsIncluded:c,passengers:v,itineraryRank:m,itineraryTrackingParams:p}=e,f=(0,n3.useContext)(uc),{segment:g,layover:h}=s,Z=(null!==(t=null==h?void 0:h.duration)&&void 0!==t?t:0)*1e3;if((0,ut.BI)(d,s))return(0,nX.Z)(ms.ItineraryBadgeList,{},void 0,(0,nX.Z)(m8,{type:"technicalStop"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.technical_stop",values:{duration:(0,nX.Z)(mU.Z,{value:Z})}})));if(!h)return null;let b=(0,ut.ft)(s),y=!!h.isBaggageRecheck&&c,k=null!==(i=null==g?void 0:null===(a=g.source)||void 0===a?void 0:null===(l=a.station)||void 0===l?void 0:null===(r=l.city)||void 0===r?void 0:r.name)&&void 0!==i?i:"",x=!u&&null!=f&&f.segmentIds.includes(null!==(n=null==g?void 0:g.id)&&void 0!==n?n:""),_=null==d?void 0:null===(o=d.segment)||void 0===o?void 0:o.destination,w=null==g?void 0:g.source,C=Z>=d8.OL&&null!=_&&null!=w&&pd(_,w),S=u&&!0===h.isWalkingDistance;return(0,nX.Z)(ms.ItineraryBadgeList,{},void 0,u&&(0,nX.Z)(m8,{type:"alert",isWarning:u},void 0,tV||(tV=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.departure_from_another_place.flight_only"}))),u&&!b&&(0,nX.Z)(m8,{type:"alert",isWarning:u},void 0,t$||(t$=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.changing_airports_responsibility"}))),(0,nX.Z)(m8,{type:"layover",isWarning:u},void 0,(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.layover",values:{time:(0,nX.Z)(mU.Z,{value:Z})}})),b&&(0,nX.Z)(po,{isWarning:u,city:k,itineraryRank:m}),y&&(0,nX.Z)(m8,{type:"baggage",isWarning:u},void 0,tU||(tU=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.bags_recheck"}))),S&&(tG||(tG=(0,nX.Z)(m8,{type:"info"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.info.short_transfer"})))),x&&(0,nX.Z)(ps,{promotedAirportData:f}),C&&(0,nX.Z)(pr,{passengers:v,localArrival:_,localDeparture:w,itineraryTrackingParams:p}))},pc=e=>{let{type:t="warning",label:i,children:a}=e;return null==i?a:(0,nX.Z)(ms.ItineraryStatus,{type:t,label:i,actionable:!1},void 0,a)},pv=e=>e?tH||(tH=(0,nX.Z)(mh.default,{size:"small",color:"warning"})):null,pm=e=>{let{hasDifferentDayDeparture:t,hasDepartureFromDifferentAirport:i,isReturningToDifferentAirport:a}=e;return t||i||a?(0,ow.jsxs)(ow.Fragment,{children:[t&&!i&&!a&&(tW||(tW=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.alert.departing_next_day.flight_only"}))),i&&!a&&(tq||(tq=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.departure_different"}))),a&&!i&&(tQ||(tQ=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.arrival_different"}))),i&&a&&(tJ||(tJ=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.departure_arrival_different"})))]}):null},pp=e=>{var t,i,a;let l=null===(t=e.segment)||void 0===t?void 0:t.hiddenDestination,r=null!=l,n=r?(0,nX.Z)(ms.ItinerarySegmentStop,{city:(0,nX.Z)("span",{className:"text-secondary-foreground"},void 0,null===(i=l.city)||void 0===i?void 0:i.name," ∙ ",l.code),station:null===(a=l.country)||void 0===a?void 0:a.name}):null;return{hasHiddenDestination:r,HiddenDestinationStop:n}},pf=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x;let{isFirst:_,sectorSegment:w,prevSectorSegment:C,isFirstOutboundSegment:S,hasDepartureFromDifferentAirport:N,nextSegmentHasDepartureFromDifferentAirport:T,isReturningToDifferentAirport:I,itineraryHasDifferentArrivalAndDeparture:R,areCheckedBagsIncluded:A,passengers:F,itineraryRank:D,itineraryTrackingParams:P}=e,E=(0,os.SK)(),{segment:L}=w,B=(0,sa.sG)(null==L?void 0:null===(t=L.source)||void 0===t?void 0:t.localTime),K=(0,sa.sG)(null==L?void 0:null===(i=L.destination)||void 0===i?void 0:i.localTime),[O,M]=(0,n3.useState)(!1),j=pv(N||R&&S),z=pv(I||T),{hasHiddenDestination:V,HiddenDestinationStop:$}=pp(w),U=pm({hasDifferentDayDeparture:(0,ut.hL)(C,w),hasDepartureFromDifferentAirport:_&&N,isReturningToDifferentAirport:I}),[G,H]=(0,n3.useState)(!1),W=(0,n3.useCallback)(()=>H(!0),[]),q=mw(L),Q=(0,n3.useCallback)(()=>{M(!0)},[]),J=(0,n3.useCallback)(()=>{E(mp,{rank:D}),M(!1)},[D,E]);return(0,nX.Z)(n3.Fragment,{},null==L?void 0:L.id,(0,nX.Z)(pu,{sectorSegment:w,prevSectorSegment:C,hasDepartureFromDifferentAirport:N,areCheckedBagsIncluded:A,passengers:F,itineraryRank:D,itineraryTrackingParams:P}),(0,nX.Z)(pc,{type:"warning",label:U},void 0,(0,nX.Z)("div",{className:G?void 0:"pointer-events-none"},void 0,(0,nX.Z)(ms.ItinerarySegment,{banner:q,onExpand:Q,onCollapse:J},void 0,(0,nX.Z)(ms.ItinerarySegmentStop,{city:`${null!==(a=null==L?void 0:null===(l=L.source)||void 0===l?void 0:null===(r=l.station)||void 0===r?void 0:null===(n=r.city)||void 0===n?void 0:n.name)&&void 0!==a?a:""} ∙ ${null!==(o=null==L?void 0:null===(s=L.source)||void 0===s?void 0:null===(d=s.station)||void 0===d?void 0:d.code)&&void 0!==o?o:""}`,date:(0,nX.Z)(ma,{formatKeys:"dateFormat",value:B}),station:null!==(u=null==L?void 0:null===(c=L.source)||void 0===c?void 0:null===(v=c.station)||void 0===v?void 0:v.name)&&void 0!==u?u:"",time:(0,nX.Z)(ma,{formatKeys:"timeFormat",value:B}),icon:j}),(0,nX.Z)(m$,{sectorSegment:w,shouldTrackExpanded:O,itineraryRank:D,markSegmentClickable:W}),(0,nX.Z)(ms.ItinerarySegmentStop,{city:`${null!==(m=null==L?void 0:null===(p=L.destination)||void 0===p?void 0:null===(f=p.station)||void 0===f?void 0:null===(g=f.city)||void 0===g?void 0:g.name)&&void 0!==m?m:""} ∙ ${null!==(h=null==L?void 0:null===(Z=L.destination)||void 0===Z?void 0:null===(b=Z.station)||void 0===b?void 0:b.code)&&void 0!==h?h:""}`,date:(0,nX.Z)(ma,{formatKeys:"dateFormat",value:K}),station:null!==(y=null==L?void 0:null===(k=L.destination)||void 0===k?void 0:null===(x=k.station)||void 0===x?void 0:x.name)&&void 0!==y?y:"",time:(0,nX.Z)(ma,{formatKeys:"timeFormat",value:K}),icon:z,hidden:V,hiddenCityText:tY||(tY=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.hidden_city.title_short"}))}),V&&$))))},pg=e=>{let{departure:t,arrival:i,className:a="",as:l="h3"}=e;return(0,nX.Z)(l,{className:`flex items-center ${a}`},void 0,(0,nX.Z)("strong",{className:"truncate"},void 0,t),tX||(tX=(0,nX.Z)(ml.default,{className:"mx-100",reverseOnRtl:!0})),(0,nX.Z)("strong",{className:"truncate"},void 0,i))},ph=e=>{let{departureCity:t,arrivalCity:i,duration:a}=e;return(0,nX.Z)("div",{className:"flex justify-between safe-space-x-300"},void 0,(0,nX.Z)("div",{className:"flex flex-col justify-end"},void 0,(0,nX.Z)(pg,{departure:t,arrival:i,className:"min-w-0 text-large leading-normal"})),(0,nX.Z)("div",{className:"flex items-center font-medium leading-normal"},void 0,t0||(t0=(0,nX.Z)(m5.default,{className:"me-100"})),(0,nX.Z)(mU.Z,{className:"whitespace-nowrap",value:a})))},pZ=e=>{var t,i,a,l,r,n,o,s,d;let{stopover:u,isReturnItinerary:c,nextSectorDeparture:v}=e;if(!u)return null;let{nightsCount:m}=u,p=null!==(t=null===(i=u.arrival)||void 0===i?void 0:null===(a=i.city)||void 0===a?void 0:a.name)&&void 0!==t?t:"",f=null!==(l=null===(r=u.departure)||void 0===r?void 0:null===(n=r.city)||void 0===n?void 0:n.name)&&void 0!==l?l:"",g=null!==(o=null==v?void 0:null===(s=v.station)||void 0===s?void 0:null===(d=s.city)||void 0===d?void 0:d.name)&&void 0!==o?o:"";return null==m?null:(0,nX.Z)("div",{className:"mb-400 mt-[22px]"},void 0,(0,nX.Z)(ms.ItinerarySeparator,{},void 0,(0,nX.Z)("p",{className:"text-small font-medium leading-small"},void 0,1===m&&(0,nX.Z)(ox.Z,{id:"result.night_in_destination",values:{place:p}}),m>1&&(0,nX.Z)(ox.Z,{id:"result.nights_in_destination",values:{nights:m,place:p}}),0===m&&(c?(0,nX.Z)(ox.Z,{id:"result.same_day_return",values:{place:f}}):(0,nX.Z)(ox.Z,{id:"result.same_day_departure",values:{place:g}})))))},pb=e=>{let{itinerary:t,passengers:i,itineraryRank:a,noSpaceAfter:l}=e,r=(0,ue.gd)(t),n=(0,ue.ad)(t),o=!(0,ue.dY)(t),s=(0,ue.q8)(t),d=null!=s&&s>0,u=(0,sD.j1)(t);return(0,nX.Z)(ms.default,{spaceAfter:l?"none":"largest"},void 0,r.map((e,l)=>{var s,c,v,m,p,f,g,h;if(!e)return null;let Z=r[l-1],b=r[l+1],y=n&&0===l,k=n&&1===l,x=(0,vp.TH)(e),_=(0,vp.x9)(e),w=(0,vp.TH)(b),C=(null!==(s=e.duration)&&void 0!==s?s:0)*1e3,S=null!==(c=e.sectorSegments)&&void 0!==c?c:[],N=(0,ue.Mb)(t,l),T=md({sectorSegments:S,prevSectorArrival:(0,vp.x9)(Z),nextSectorDeparture:w,isReturningToDifferentAirport:k&&o});return(0,nX.Z)(n3.Fragment,{},e.id,(0,nX.Z)("div",{className:"space-y-300 not-last:mb-200"},void 0,(0,nX.Z)(ph,{departureCity:null!==(v=null==x?void 0:null===(m=x.station)||void 0===m?void 0:null===(p=m.city)||void 0===p?void 0:p.name)&&void 0!==v?v:"",arrivalCity:null!==(f=null==_?void 0:null===(g=_.station)||void 0===g?void 0:null===(h=g.city)||void 0===h?void 0:h.name)&&void 0!==f?f:"",duration:C}),S.map((e,t)=>{var l,r,n,s;if(!e)return null;let c=0===t,v=S[t-1],m=T[t];return(0,nX.Z)(pf,{isFirst:c,sectorSegment:e,prevSectorSegment:v,isFirstOutboundSegment:y&&c,hasDepartureFromDifferentAirport:null!==(r=null==m?void 0:m.hasDepartureFromDifferentAirport)&&void 0!==r&&r,nextSegmentHasDepartureFromDifferentAirport:null!==(n=null==m?void 0:m.nextSegmentHasDepartureFromDifferentAirport)&&void 0!==n&&n,isReturningToDifferentAirport:null!==(s=null==m?void 0:m.isReturningToDifferentAirport)&&void 0!==s&&s,itineraryHasDifferentArrivalAndDeparture:o,areCheckedBagsIncluded:d,passengers:i,itineraryRank:a,itineraryTrackingParams:u},null===(l=e.segment)||void 0===l?void 0:l.id)})),(0,nX.Z)(pZ,{stopover:N,isReturnItinerary:n,nextSectorDeparture:w}))}))},py=e=>e?52:84,pk=()=>{let e=(0,n3.useRef)(null),[t,i]=(0,n3.useState)(!1),{isSmallOrMediumMobile:a}=(0,oo.Z)();return(0,n3.useEffect)(()=>{let t=e.current;if(!t)return;let l=py(!a),r=new IntersectionObserver(e=>{let[t]=e;return i(t.intersectionRatio<1)},{rootMargin:`-${l+1}px 0px 0px 0px`,threshold:1});return r.observe(t),()=>{r.unobserve(t)}},[a,e]),{containerRef:e,isSticky:t}},px=e=>{let{showNoBags:t}=e,{containerRef:i,isSticky:a}=pk();return(0,ow.jsx)("div",{ref:i,className:"sticky top-[52px] z-onTop -mx-400 -mt-600 mb-400 overflow-hidden pb-200 lm:top-300 lm:-mx-800 lm:mb-0 lm:mt-0",children:(0,nX.Z)("p",{className:(0,n2.Z)("flex items-center justify-center bg-orange-light px-400 py-200 font-medium leading-normal text-orange-dark transition-shadow duration-fast lm:px-800",a&&"shadow-fixed")},void 0,t?t1||(t1=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(dW.default,{className:"me-200",size:"small"}),(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.no_baggage"})]})):t2||(t2=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(uw.default,{className:"me-200",size:"small"}),(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.no_checked_bag"})]})))})};var p_=i("51035"),pw=i("62119");let pC=e=>{let{text:t,className:i=""}=e;return(0,nX.Z)("div",{className:`flex items-center text-ink-normal ${i}`},void 0,t3||(t3=(0,nX.Z)(mI.default,{color:"secondary",size:"large"})),(0,nX.Z)("p",{},void 0,t))},pS=()=>{let e=(0,os.SK)(),{formatMessage:t}=(0,dU.Z)(),i=(0,vO.Z)();(0,n3.useEffect)(()=>{e(mu)},[e]);let{url:a,maybeOpenHelp:l}=(0,ui.sH)(ui.Dq.HIDDEN_DESTINATIONS);return(0,ow.jsxs)(ow.Fragment,{children:[t4||(t4=(0,nX.Z)("div",{className:"mb-200 flex items-center safe-space-x-200"},void 0,(0,nX.Z)(dQ.default,{size:"large"}),(0,nX.Z)("p",{className:"text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.title"})))),t5||(t5=(0,nX.Z)("p",{className:"mb-400 leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.message"}))),(0,nX.Z)(n7.default,{type:"warning",labelClose:t({id:"orbit.button_close"}),spaceAfter:"medium",dataTest:"Alert"},void 0,(0,nX.Z)("div",{className:"items-center lm:flex"},void 0,t9||(t9=(0,nX.Z)("p",{className:"mb-300 flex-auto lm:mb-0 lm:me-400"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.warning"})," ")),(0,nX.Z)("div",{className:"whitespace-nowrap"},void 0,(0,nX.Z)(n7.AlertButton,{type:"warningSubtle",href:a,onClick:t=>{e(mv),l(t)},external:!0,fullWidth:!0},void 0,t6||(t6=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.warning.learn_more"})))))),t7||(t7=(0,nX.Z)("h4",{className:"mb-300 text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.important_information"}))),(0,nX.Z)("div",{className:"space-y-300"},void 0,t8||(t8=(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(uC.default,{size:"large"}),(0,nX.Z)("div",{},void 0,(0,nX.Z)("h5",{className:"mb-200 text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.personal_item.title"})),(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.personal_item.message"}))))),ie||(ie=(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(pw.default,{size:"large"}),(0,nX.Z)("div",{},void 0,(0,nX.Z)("h5",{className:"mb-200 text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.visa.title"})),(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.visa.message"}))))),(0,nX.Z)(pC,{className:"safe-space-x-400",text:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.risks",values:{a:e=>(0,nX.Z)(dC.default,{href:`/${i.id}/help/kiwi-com-travel-hacks-258/article/hidden-city-travel-hack-272/`,external:!0},void 0,e)}})}))]})},pN=()=>{let e=(0,vO.Z)();return(0,ow.jsxs)(ow.Fragment,{children:[it||(it=(0,nX.Z)("div",{className:"mb-200 flex items-center safe-space-x-200"},void 0,(0,nX.Z)(dQ.default,{size:"large"}),(0,nX.Z)("p",{className:"text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.throwaway_ticket.title"})))),ii||(ii=(0,nX.Z)("p",{className:"mb-400 leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.throwaway_ticket.description"}))),(0,nX.Z)(pC,{className:"safe-space-x-200",text:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.throwaway_ticket.risks",values:{a:t=>(0,nX.Z)(dC.default,{href:`/${e.id}/help/kiwi-com-travel-hacks-258/article/throwaway-ticketing-travel-hack-135/`,external:!0},void 0,t)}})})]})};var pT=i("63396"),pI=i("64420"),pR=i("32016");let pA=()=>ia||(ia=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"mb-200 flex items-center safe-space-x-200"},void 0,(0,nX.Z)(dQ.default,{size:"large"}),(0,nX.Z)("p",{className:"text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.virtual_interlining.title"}))),(0,nX.Z)("p",{className:"mb-400 leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.virtual_interlining.description"})),(0,nX.Z)("div",{className:"space-y-300"},void 0,(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(m6.default,{size:"large"}),(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.virtual_interlining.checked_baggage"}))),(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(pT.default,{size:"large"}),(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.virtual_interlining.boarding_pass"}))),(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(pR.default,{size:"large"}),(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.virtual_interlining.passport_control"}))),(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(pI.default,{size:"large"}),(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.virtual_interlining.airport_terminal"}))))]})),pF=e=>{let{travelHack:t}=e;return(0,ow.jsxs)(ow.Fragment,{children:[il||(il=(0,nX.Z)(p_.default,{type:"title2",as:"h3",spaceAfter:"medium"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.travel_hack.title"}))),(0,nX.Z)("div",{className:"rounded-300 border border-cloud-normal p-400"},void 0,"hiddenDestination"===t&&(ir||(ir=(0,nX.Z)(pS,{}))),"virtualInterlining"===t&&(io||(io=(0,nX.Z)(pA,{}))),"throwawayTicket"===t&&(is||(is=(0,nX.Z)(pN,{}))))]})},pD=e=>{let{isTier1Search:t,itinerary:i,itineraryRank:a,passengers:l,onBackButtonClick:r,shouldShowFooter:n}=e,o=(0,os.SK)(),s=(0,n4.v9)(da.D6),{formatMessage:d}=(0,dU.Z)(),{travelHackByPrio:u}=cL(i),c=vB(i),v=(0,ue.hc)(i),m=(0,ue.KH)(i),p=d({id:"orbit.breadcrumbs_back"}),f=v4({isTier1Search:t,itinerary:i,itineraryRank:a});return(0,n3.useEffect)(()=>{f(),o(vr.sb,{...(0,vd.be)({isTier1Search:t,itinerary:i,itineraryRank:a,searchForm:s})})},[]),(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(uQ.ModalHeader,{title:(0,nX.Z)("div",{className:"flex items-center"},void 0,(0,nX.Z)("div",{className:"absolute top-100 safe-end-100 lm:hidden"},void 0,(0,nX.Z)(uh.default,{onClick:r,iconLeft:id||(id=(0,nX.Z)(oF.default,{})),type:"secondary",title:p})),(0,nX.Z)("div",{className:"me-200 hidden lm:block"},void 0,(0,nX.Z)(dB.default,{type:"white",size:"small",iconLeft:iu||(iu=(0,nX.Z)(v5,{})),onClick:r,dataTest:"PrebookingModalHeaderCloseButton",title:p})),ic||(ic=(0,nX.Z)("span",{className:"text-normal font-bold lm:text-[20px]"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.title"}))))}),(0,nX.Z)("div",{className:(0,n2.Z)(!n&&"[&>section>:last-child]:mb-[-87px]",c&&"[&>section>:last-child]:lm:mb-0")},void 0,(0,nX.Z)(uQ.ModalSection,{},void 0,(0,nX.Z)(mo,{itinerary:i,passengers:l}),(v||m)&&(0,nX.Z)(px,{showNoBags:v}),(0,nX.Z)(pb,{itinerary:i,passengers:l,itineraryRank:a,noSpaceAfter:!u}),null!==u&&(0,nX.Z)(pF,{travelHack:u}))),n&&(0,nX.Z)(uQ.ModalFooter,{},void 0,(0,nX.Z)(v3.default,{background:"#252a31",backgroundActive:"#3e4e63",backgroundHover:"#3e4e63",foreground:"#fff",fullWidth:!0,dataTest:"PrebookingModalFooterCloseButton",onClick:r},void 0,iv||(iv=(0,nX.Z)(ox.Z,{id:"orbit.button_close"}))))]})};var pP=i("46127");let pE=void 0!==im?im:im=i(57651),pL=e=>{var t;let{data:i}=e,a=(0,st.useFragment)(pE,i);return(null==a?void 0:a.type)===d8.bV.AIRPORT?a.code:null==a?void 0:null===(t=a.city)||void 0===t?void 0:t.name},pB=void 0!==ip?ip:ip=i(5889),pK=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x,_,w,C,S,N,T,I,R,A,F;let{data:D}=e,P=(0,st.useFragment)(pB,D),E=(0,n4.v9)(da.D6),L=(0,oW.iJ)(E),B=L===oW.xd.oneWay,K=L===oW.xd.return,O=L===oW.xd.multicity,M=(0,cG.n0)(E.passengers),j=null!==(t=null==P?void 0:null===(i=P.sectors)||void 0===i?void 0:i.length)&&void 0!==t?t:0,z=(0,n3.useMemo)(()=>{var e,t,i,a,l,r,n,o,s,d,u,c,v;return B?null==P?void 0:null===(e=P.sector)||void 0===e?void 0:null===(t=e.sectorSegments)||void 0===t?void 0:null===(i=t[0])||void 0===i?void 0:null===(a=i.segment)||void 0===a?void 0:a.source:K?null==P?void 0:null===(l=P.outbound)||void 0===l?void 0:null===(r=l.sectorSegments)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(o=n.segment)||void 0===o?void 0:o.source:O?null==P?void 0:null===(s=P.sectors)||void 0===s?void 0:null===(d=s[0])||void 0===d?void 0:null===(u=d.sectorSegments)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:null===(v=c.segment)||void 0===v?void 0:v.source:null},[B,K,O,P]),V=(0,n3.useMemo)(()=>{var e,t,i,a,l,r,n,o,s,d,u,c,v,m,p,f;return B?null==P?void 0:null===(e=P.sector)||void 0===e?void 0:null===(t=e.sectorSegments)||void 0===t?void 0:null===(i=t[P.sector.sectorSegments.length-1])||void 0===i?void 0:null===(a=i.segment)||void 0===a?void 0:a.destination:K?null==P?void 0:null===(l=P.outbound)||void 0===l?void 0:null===(r=l.sectorSegments)||void 0===r?void 0:null===(n=r[P.outbound.sectorSegments.length-1])||void 0===n?void 0:null===(o=n.segment)||void 0===o?void 0:o.destination:O?null==P?void 0:null===(s=P.sectors)||void 0===s?void 0:null===(d=s[P.sectors.length-1])||void 0===d?void 0:null===(u=d.sectorSegments)||void 0===u?void 0:null===(c=u[(null!==(m=null===(p=P.sectors[P.sectors.length-1])||void 0===p?void 0:null===(f=p.sectorSegments)||void 0===f?void 0:f.length)&&void 0!==m?m:1)-1])||void 0===c?void 0:null===(v=c.segment)||void 0===v?void 0:v.destination:null},[B,K,O,P]);return(0,nX.Z)("div",{className:"flex flex-col items-center"},void 0,(0,nX.Z)("div",{className:"flex items-center justify-center text-large font-bold safe-space-x-100"},void 0,(0,nX.Z)("div",{className:"max-w-[50%]"},void 0,(0,nX.Z)(pL,{data:null!==(a=null==z?void 0:z.station)&&void 0!==a?a:null})),B&&(ig||(ig=(0,nX.Z)(ml.default,{reverseOnRtl:!0}))),K&&(ih||(ih=(0,nX.Z)(mr.default,{}))),O&&2===j&&(0,ow.jsxs)(ow.Fragment,{children:[iZ||(iZ=(0,nX.Z)(ml.default,{reverseOnRtl:!0})),(0,nX.Z)(pL,{data:null!==(l=null==P?void 0:null===(r=P.sectors)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(o=n.sectorSegments)||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:null===(d=s.segment)||void 0===d?void 0:null===(u=d.destination)||void 0===u?void 0:u.station)&&void 0!==l?l:null}),","," ",(0,nX.Z)(pL,{data:null!==(c=null==P?void 0:null===(v=P.sectors)||void 0===v?void 0:null===(m=v[P.sectors.length-1])||void 0===m?void 0:null===(p=m.sectorSegments)||void 0===p?void 0:null===(f=p[(null!==(Z=null===(b=P.sectors[P.sectors.length-1])||void 0===b?void 0:null===(y=b.sectorSegments)||void 0===y?void 0:y.length)&&void 0!==Z?Z:1)-1])||void 0===f?void 0:null===(g=f.segment)||void 0===g?void 0:null===(h=g.source)||void 0===h?void 0:h.station)&&void 0!==c?c:null}),ib||(ib=(0,nX.Z)(ml.default,{reverseOnRtl:!0}))]}),O&&j>2&&(0,ow.jsxs)(ow.Fragment,{children:[iy||(iy=(0,nX.Z)(ml.default,{reverseOnRtl:!0}))," (+",j-2,") ",ik||(ik=(0,nX.Z)(ml.default,{reverseOnRtl:!0}))]}),(0,nX.Z)("div",{className:"max-w-[50%]"},void 0,(0,nX.Z)(pL,{data:null!==(k=null==V?void 0:V.station)&&void 0!==k?k:null}))),(0,nX.Z)("div",{className:"-mt-[1px] align-middle text-small text-secondary-foreground"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:(0,sa.sG)(null==z?void 0:z.localTime)}),(K||O)&&(0,ow.jsxs)(ow.Fragment,{children:[" - ",(0,nX.Z)(ma,{formatKeys:"dateFormat",value:(0,sa.sG)(O?null==P?void 0:null===(x=P.sectors)||void 0===x?void 0:null===(_=x[P.sectors.length-1])||void 0===_?void 0:null===(w=_.sectorSegments)||void 0===w?void 0:null===(C=w[0])||void 0===C?void 0:null===(S=C.segment)||void 0===S?void 0:null===(N=S.destination)||void 0===N?void 0:N.localTime:null==P?void 0:null===(T=P.inbound)||void 0===T?void 0:null===(I=T.sectorSegments)||void 0===I?void 0:null===(R=I[0])||void 0===R?void 0:null===(A=R.segment)||void 0===A?void 0:null===(F=A.destination)||void 0===F?void 0:F.localTime)})]})," \xb7 ",ix||(ix=(0,nX.Z)(v6.default,{size:"small",className:"-translate-y-50"}))," ",M))},pO=e=>{let{data:t,shareButton:i,handleBackButtonClick:a}=e;return(0,nX.Z)("div",{"data-test":"PrebookingHeader",className:"sticky top-0 z-sticky flex justify-between gap-100 bg-white-normal p-150 shadow-[0px_2px_12px_0px_rgba(27,50,73,0.08)]"},void 0,(0,nX.Z)(pP.Z,{onClick:a}),(0,nX.Z)(pK,{data:t}),i)};var pM=i("55386");let pj=()=>[{id:"search.prebooking.guarantee.popular_questions.why_guarantee",label:(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.why_guarantee",values:{companyName:"Kiwi.com"}}),answer:(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.why_guarantee.answer",values:{companyName:"Kiwi.com"}})},{id:"search.prebooking.guarantee.popular_questions.disruptions",label:i_||(i_=(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.disruptions"})),answer:iw||(iw=(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.disruptions.answer"}))},{id:"search.prebooking.guarantee.popular_questions.instant_credit",label:(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.instant_credit",values:{companyName:"Kiwi.com"}}),answer:iC||(iC=(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.instant_credit.answer"}))}],pz=()=>{let e=pj(),{url:t,maybeOpenHelp:i}=(0,ui.sH)(ui.Dq.NEW_GUARANTEE),{formatMessage:a}=(0,dU.Z)();return(0,nX.Z)("div",{},void 0,iS||(iS=(0,nX.Z)(p_.default,{type:"title1",spaceAfter:"medium"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.title"}))),(0,nX.Z)("div",{className:"rounded-200 p-300 shadow-level1"},void 0,e.map(e=>(0,nX.Z)(pM.default,{customLabel:(0,nX.Z)("span",{className:"font-medium"},void 0,e.label),expandButtonLabel:a({id:"orbit.collapse_expand"}),collapseButtonLabel:a({id:"orbit.collapse_collapse"})},e.id,e.answer)),(0,nX.Z)("div",{className:"[&>a]:flex [&>a]:items-center [&>a]:justify-between [&>a]:text-ink-light"},void 0,(0,nX.Z)(dC.default,{external:!0,noUnderline:!0,type:"secondary",iconRight:iN||(iN=(0,nX.Z)(o6.default,{})),href:t,onClick:i,rel:"noreferrer"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.popular_questions.terms_and_conditions",values:{companyName:"Kiwi.com"}})))))};var pV=i("83668"),p$=i("93699");let pU=e=>{let{itinerary:t,shareUrl:i,isShareURLLoading:a,onOpenShareSheet:l,resultType:r}=e,n=(0,os.SK)(),{formatMessage:o}=(0,dU.Z)(),[s,d]=(0,n3.useState)(!1),{isSmallOrMediumMobile:u}=(0,oo.Z)(),c=(0,n4.v9)(u5.P1),v=(0,n3.useMemo)(()=>c?iT||(iT=(0,nX.Z)(p$.default,{})):iI||(iI=(0,nX.Z)(pV.default,{})),[c]),m=(0,n3.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),n(cN,{...(0,sD.j1)(t),shareUrl:i,resultType:r}),d(!s),l()},[s,t,l,r,i,n]);return u?(0,nX.Z)(uh.default,{disabled:a,type:"secondary",onClick:m,dataTest:"ShareButton",iconLeft:v,title:o({id:"search.result.itinerary_detail.button.journey_action.share"})}):(0,nX.Z)(uh.default,{disabled:a,type:"secondary",dataTest:"ShareButton",size:"small",onClick:m,compact:!0,iconLeft:v},void 0,iR||(iR=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.button.journey_action.share"})))};i("2394");let pG=e=>e?"airline"===e?{type:"dark",message:iA||(iA=(0,nX.Z)(ox.Z,{id:"search.prebooking.options.badge.airline"}))}:"starter"===e?{type:"dark",message:iF||(iF=(0,nX.Z)(ox.Z,{id:"search.prebooking.options.badge.starter"}))}:{type:"success",message:iD||(iD=(0,nX.Z)(ox.Z,{id:"search.prebooking.options.badge.best_value"}))}:null,pH=e=>{let{badge:t,carouselItemIndex:i,content:a,footer:l,footerBackground:r,dataTest:n,customBackground:o,isBenefitsChoiceTile:s=!1}=e,d=pG(t);return(0,nX.Z)("div",{id:null==i?"":`CarouselItem-${i}`,"data-test":n,className:(0,n2.Z)("relative flex flex-col justify-between rounded-300 bg-white-normal shadow-fixed",o)},void 0,null!==d&&(0,nX.Z)("div",{className:(0,n2.Z)("absolute start-400 -translate-y-1/2","success"===d.type&&"[&>*]:!bg-product-dark-active")},void 0,(0,nX.Z)(dG.default,{type:d.type},void 0,d.message)),(0,nX.Z)("div",{className:(0,n2.Z)("flex-grow p-400 pt-300",s?"pb-300":"pb-500",null==t?"pt-400":"pt-[18px]")},void 0,a),l&&(0,ow.jsxs)(ow.Fragment,{children:[!r&&(iP||(iP=(0,nX.Z)("div",{className:"-mx-50"},void 0,(0,nX.Z)(uk.default,{color:"border-cloud-normal"})))),(0,nX.Z)("div",{className:(0,n2.Z)("px-400 pb-300 pt-200",r)},void 0,l)]}))},pW=(e,t)=>{let i=document.querySelector(`#CarouselItem-0 .${e}`),a=document.querySelector(`#CarouselItem-${t} .${e}`);if(null===i||null===a)return;let l=i.getBoundingClientRect().height;a.style.setProperty(`--choice-tile-${e}-min-height`,`${l}px`)},pq=e=>{var t,i,a,l,r;let{badge:n,bookingOption:o,carouselItemIndex:s,isKiwiGuaranteeAvailable:d=!1,isTier1Search:u,itinerary:c,itineraryRank:v,numOfBookingOptions:m,responseContainsKayakItinerary:p,onClickSideEffect:f,onPrebookingContinue:g,onSignInBeforeBookingClick:h}=e,Z=(null===(t=o.itineraryProvider)||void 0===t?void 0:t.code)===d4.zT,b=(null===(i=o.itineraryProvider)||void 0===i?void 0:i.code)===d4.bZ,y=(0,ue.j_)(o),k=y&&(0,ue.FL)(c),{isMobile:x,isTabletOrDesktop:_}=(0,oo.Z)(),{hasMultiplePassengers:w,passengersCount:C}=cH(),S=!(_&&m>1||x),N=(0,sa.z)(null===(a=o.price)||void 0===a?void 0:a.amount);return(0,n3.useEffect)(()=>{s&&d&&(pW("header",s),pW("footer",s))},[]),(0,nX.Z)(pH,{badge:n,carouselItemIndex:s,dataTest:"BasicChoiceTile",footerBackground:d?"bg-cloud-normal":void 0,content:(0,nX.Z)("div",{className:"flex"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)(S?"w-2/3 pe-300 border-cloud-dark":"w-full")},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex items-center justify-between gap-50 mb-300",d&&"header min-h-[--choice-tile-header-min-height]")},void 0,(0,nX.Z)("p",{className:"overflow-hidden text-ellipsis text-nowrap text-heading-title2 font-bold leading-heading-title2"},void 0,y?k[0].name:null===(l=o.itineraryProvider)||void 0===l?void 0:l.name),Z?iE||(iE=(0,nX.Z)("img",{className:"h-600",src:"/images/logos/kiwicom/carrier.svg",alt:"Kiwi Logo"})):!S&&(iL||(iL=(0,nX.Z)("div",{className:"text-cloud-dark"},void 0,(0,nX.Z)(pe.default,{size:"large"}))))),Z&&(0,nX.Z)(ok.default,{size:"small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.kiwi.basic_description",values:{companyName:"Kiwi.com"}})),!(Z||b)&&(0,nX.Z)("div",{className:"mb-200"},void 0,(0,nX.Z)(ok.default,{weight:"bold",spaceAfter:"smallest"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.external.leaving.title",values:{companyName:"Kiwi.com"}})),(0,nX.Z)(ok.default,{size:"small",type:"secondary"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.external.leaving.description",values:{companyName:y?k[0].name:null===(r=o.itineraryProvider)||void 0===r?void 0:r.name}})))),S&&(0,nX.Z)("div",{className:"flex flex-col justify-end w-1/3 ps-300 border-s border-cloud-normal border-dashed"},void 0,!Z&&(iB||(iB=(0,nX.Z)("div",{className:"text-cloud-dark text-end mb-500"},void 0,(0,nX.Z)(pe.default,{size:"large"})))),(0,nX.Z)("div",{className:"footer mb-300"},void 0,(0,nX.Z)("div",{"data-test":Z?"KiwiPrice":"RedirectPrice",className:(0,n2.Z)("flex items-end",d?"justify-between":"justify-end")},void 0,d&&(iK||(iK=(0,nX.Z)("p",{className:"text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"})))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,N)),w&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:C}))),(0,nX.Z)("div",{className:Z?"[&_#ContinueButton]:bg-product-dark hover:[&_#ContinueButton]:bg-product-dark-hover":"[&_#RedirectButton]:bg-ink-dark [&_#RedirectButton]:text-white-normal hover:[&_#RedirectButton]:bg-ink-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:o,customTranslation:Z||b?iO||(iO=(0,nX.Z)(ox.Z,{id:"common.continue"})):iM||(iM=(0,nX.Z)(ox.Z,{id:"search.prebooking.redirect"})),dataTest:Z?"ContinueButton":"RedirectButton",fullWidth:!0,hidePrice:!0,id:Z?"ContinueButton":"RedirectButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:u,itinerary:c,itineraryRank:v,onClickSideEffect:f,onPrebookingContinue:g,onSignInBeforeBookingClick:h,responseContainsKayakItinerary:p,resultType:"detail",size:"normal",type:Z?"primary":"secondary"})))),footer:S?null:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:(0,n2.Z)("mb-[10px]",d&&"footer flex min-h-[--choice-tile-footer-min-height] flex-col justify-end")},void 0,(0,nX.Z)("div",{"data-test":Z?"KiwiPrice":"RedirectPrice",className:(0,n2.Z)("flex items-end",d?"justify-between":"justify-end")},void 0,d&&(ij||(ij=(0,nX.Z)("p",{className:"text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"})))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,N)),w&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:C}))),(0,nX.Z)("div",{className:Z?"[&_#ContinueButton]:bg-product-dark hover:[&_#ContinueButton]:bg-product-dark-hover":"[&_#RedirectButton]:bg-ink-dark [&_#RedirectButton]:text-white-normal hover:[&_#RedirectButton]:bg-ink-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:o,customTranslation:Z||b?iz||(iz=(0,nX.Z)(ox.Z,{id:"common.continue"})):iV||(iV=(0,nX.Z)(ox.Z,{id:"search.prebooking.redirect"})),dataTest:Z?"ContinueButton":"RedirectButton",fullWidth:!0,hidePrice:!0,id:Z?"ContinueButton":"RedirectButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:u,itinerary:c,itineraryRank:v,onClickSideEffect:f,onPrebookingContinue:g,onSignInBeforeBookingClick:h,responseContainsKayakItinerary:p,resultType:"detail",size:"normal",type:Z?"primary":"secondary"}))]})})};var pQ=i("92471");let pJ=()=>i$||(i$=(0,nX.Z)("div",{"data-test":"FarelockUnavailable",className:"-mt-200 rounded-b-300 border-[1px] border-t-0 border-dashed border-cloud-dark p-300 pt-500 text-ink-light"},void 0,(0,nX.Z)("div",{className:"flex items-center"},void 0,(0,nX.Z)(pQ.default,{size:"medium"}),(0,nX.Z)("div",{className:"ms-100"},void 0,(0,nX.Z)("p",{className:"text-small font-medium leading-[22px]"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.price_lock.unavailable"})))))),pY=e=>{let{bookingOption:t,passengers:i,category:a="3_days"}=e,l=(0,n4.v9)(sL.EG);return(0,n3.useMemo)(()=>t?(0,vK.s5)(t.bookingUrl,{passengers:i,token:t.token,domain:l,category:a}):null,[t,i,l])};var pX=i("28860"),p0=i("74953");let p1=e=>{let{href:t,farelockPriceFormatted:i,shouldUseChoiceTileRedesign:a,onFarelockClick:l}=e;return(0,nX.Z)("a",{href:t,onClick:l},void 0,(0,nX.Z)("div",{"data-test":"FarelockContent",className:"-mt-200 rounded-b-300 border-[1px] border-t-0 border-dashed border-cloud-dark p-300 pr-[10px] pt-500 transition-colors duration-fast ease-in-out hover:text-link-secondary-foreground-hover"},void 0,(0,nX.Z)("div",{className:"flex items-center justify-between gap-50"},void 0,(0,nX.Z)("div",{className:"flex items-center"},void 0,iU||(iU=(0,nX.Z)(p0.default,{size:"medium"})),(0,nX.Z)("div",{className:"ms-100"},void 0,!a&&(iG||(iG=(0,nX.Z)("p",{className:"leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.price_lock.need_more_time"})))),a?(0,nX.Z)("p",{className:"text-small leading-[22px]"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.price_lock.lock_for",values:{numOfHours:72,price:i}})):(0,nX.Z)("p",{className:"font-bold"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.farelock.button_text",values:{price:i}})))),iH||(iH=(0,nX.Z)(o6.default,{size:"medium"})))))},p2=e=>{let{content:t,dataTest:i,displayGuaranteeLogo:a=!1,imgAlignment:l,imgSrc:r,helpArticleURL:n,learnMoreCTA:o,title:s,onCloseModal:d,onMaybeOpenHelpArticle:u}=e,{formatMessage:c}=(0,dU.Z)(),{isMobile:v,isLargeMobile:m}=(0,oo.Z)();return(0,nX.Z)(uQ.default,{dataTest:i,size:"small",hasCloseButton:!0,labelClose:c({id:"orbit.button_close"}),onClose:d},void 0,null!=r&&(0,nX.Z)(uQ.ModalHeader,{illustration:r?(0,nX.Z)("div",{className:"relative h-[242px] overflow-hidden rounded-t-modal"},void 0,(0,nX.Z)(dZ.Z,{src:r,alt:"",layout:"fill",objectPosition:l,objectFit:"cover",loading:"eager",fotkaOptions:{height:242,quality:75}}),a&&(iW||(iW=(0,nX.Z)(dZ.Z,{src:"https://images.kiwi.com/search/prebooking/guarantee-text-logo.svg",alt:"Kiwi.com Guarantee logo",width:128,height:53,className:"left-400 top-1/2 -translate-y-1/2 lm:left-800"})))):void 0}),(0,nX.Z)("div",{className:"p-400 lm:px-800 lm:pb-0"},void 0,s&&null==r&&(0,nX.Z)(p_.default,{spaceAfter:"medium"},void 0,s),t.map(e=>e.isAvailable?(0,nX.Z)("div",{className:"not-last:mb-300"},e.id,(0,nX.Z)(p_.default,{as:"h4",type:"title4",spaceAfter:v?"none":"smallest"},void 0,e.message),(0,nX.Z)("p",{className:"text-small leading-small lm:text-normal lm:leading-normal"},void 0,e.disclaimer)):null),(0,nX.Z)("div",{className:"[&>a]:flex [&>a]:w-full [&>a]:justify-between [&>a]:text-ink-light"},void 0,(0,nX.Z)(dC.default,{external:!0,href:n,onClick:u,noUnderline:!0,iconRight:iq||(iq=(0,nX.Z)(o6.default,{})),type:"secondary"},void 0,o))),(0,nX.Z)(uQ.ModalFooter,{},void 0,(0,nX.Z)(dB.default,{fullWidth:v&&!m,onClick:d},void 0,iQ||(iQ=(0,nX.Z)(ox.Z,{id:"common.close"})))))},p3=(e,t,i)=>"VI"===e?[{id:"search.prebooking.basic.connection_protection",isAvailable:!0,message:i?iJ||(iJ=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.us_refunds.title"})):iY||(iY=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.connection_protection.title"})),disclaimer:i?iX||(iX=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.us_refunds.description"})):(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.connection_protection.description",values:{companyName:"Kiwi.com"}})},{id:"search.prebooking.basic.self_check_in",isAvailable:t,message:i0||(i0=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.self_check_in.title"})),disclaimer:i1||(i1=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.self_check_in.description"}))},{id:"search.prebooking.basic.start_simple",isAvailable:!0,message:i2||(i2=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.start_simple.title"})),disclaimer:i3||(i3=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.start_simple.description"}))}]:[{id:"search.prebooking.basic.refunds",isAvailable:!0,message:i?i4||(i4=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.us_refunds.title"})):i5||(i5=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.refunds.title"})),disclaimer:i?i9||(i9=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.us_refunds.description"})):i6||(i6=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.refunds.description"}))},{id:"search.prebooking.basic.self_check_in",isAvailable:t,message:i7||(i7=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.self_check_in.title"})),disclaimer:i8||(i8=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.self_check_in.description"}))},{id:"search.prebooking.basic.start_simple",isAvailable:!0,message:ae||(ae=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.start_simple.title"})),disclaimer:at||(at=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.start_simple.description"}))}],p4=e=>{var t,i,a;let{carouselItemIndex:l,isKiwiGuaranteeAvailable:r,isTier1Search:n,itinerary:o,itineraryRank:s,kiwiBasicBookingOption:d,responseContainsKayakItinerary:u,onClickSideEffect:c,onPrebookingContinue:v,onSignInBeforeBookingClick:m,onPriceLockClick:p}=e,f=(0,os.SK)(),{isMobile:g}=(0,oo.Z)(),{hasMultiplePassengers:h,passengersCount:Z}=cH(),b=vB(o),y=(0,n4.v9)(da.CR),{shouldShowFarelock:k,farelock:x}=vu(d,u$(o)),_=pY({bookingOption:d,passengers:y.adults}),w=(0,sa.z)(null===(t=d.price)||void 0===t?void 0:t.amount),{isModalVisible:C,showModal:S,hideModal:N}=(0,sA.h)("basicPerks"),T=p3((null===(i=o.travelHack)||void 0===i?void 0:i.isVirtualInterlining)===!0?"VI":"nonVI",r,!!d.usRulesApply),{url:I,maybeOpenHelp:R}=(0,ui.sH)(ui.Dq.KIWI_BASIC);(0,n3.useEffect)(()=>{l&&r&&(pW("header",l),pW("footer",l))},[]);let A=(0,n3.useCallback)(()=>{S(),f(pX.q7,{type:"prebookingBasicPerksModal"}),g&&window.history.pushState({},"","#prebookingBasicPerks")},[g,S,f]),F=(0,n3.useCallback)(()=>{N(),g&&window.history.back()},[N,g]);return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"flex flex-col first:[&>*]:flex-grow"},void 0,(0,nX.Z)(pH,{badge:"starter",carouselItemIndex:l,dataTest:"KiwiBasicChoiceTile",footerBackground:r?"bg-cloud-normal":void 0,content:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:(0,n2.Z)("flex gap-50 items-center justify-between mb-300",r&&"header min-h-[--choice-tile-header-min-height]")},void 0,ai||(ai=(0,nX.Z)("p",{className:"overflow-hidden text-ellipsis text-nowrap text-heading-title2 font-bold leading-heading-title2"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.title"})))),(0,nX.Z)("button",{type:"button",className:"relative w-full rounded-200 bg-white-normal px-200 py-50 shadow-level1",onClick:A},void 0,T.map((e,t)=>e.isAvailable?(0,nX.Z)("div",{},e.id,(0,nX.Z)("div",{className:"pb-150 pt-[5px] text-left font-bold leading-normal"},void 0,e.message),t+1!==T.length&&(aa||(aa=(0,nX.Z)("div",{className:"h-0 border-t-[1px] border-dashed border-cloud-dark after:relative after:top-[-1px] after:block after:h-[1px] after:w-full after:bg-gradient-to-r after:from-transparent after:to-white-normal"})))):null),al||(al=(0,nX.Z)(mI.default,{customColor:"#697D95",className:"absolute right-200 top-200"})))]}),footer:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:(0,n2.Z)("mb-[10px]",r&&"footer flex min-h-[--choice-tile-footer-min-height] flex-col justify-end")},void 0,(0,nX.Z)("div",{"data-test":"KiwiBasicPrice",className:"flex items-end justify-between"},void 0,ar||(ar=(0,nX.Z)("p",{className:"text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"}))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,w)),h&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:Z}))),(0,nX.Z)("div",{className:"[&_#KiwiBasicContinueButton]:bg-ink-dark [&_#KiwiBasicContinueButton]:text-white-normal hover:[&_#KiwiBasicContinueButton]:bg-ink-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:d,customTranslation:an||(an=(0,nX.Z)(ox.Z,{id:"common.continue"})),dataTest:"KiwiBasicContinueButton",fullWidth:!0,hidePrice:!0,id:"KiwiBasicContinueButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:n,itinerary:o,itineraryRank:s,onClickSideEffect:c,onPrebookingContinue:v,onSignInBeforeBookingClick:m,responseContainsKayakItinerary:u,resultType:"detail",size:"normal",type:"secondary"}))]})}),k&&(null==x?void 0:null===(a=x.price)||void 0===a?void 0:a.roundedFormattedValue)&&_&&(0,nX.Z)(p1,{href:_,farelockPriceFormatted:x.price.roundedFormattedValue,shouldUseChoiceTileRedesign:b,onFarelockClick:p})),C&&(0,nX.Z)(p2,{content:T,dataTest:"InfoModalBasic",helpArticleURL:I,learnMoreCTA:ao||(ao=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.learn_more.cta"})),title:as||(as=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic.title"})),onCloseModal:F,onMaybeOpenHelpArticle:R})]})};var p5=i("54276");let p9=e=>{let{activeIndex:t,onScrollIntoItem:i,type:a}=e;return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:(0,n2.Z)("absolute top-0 h-full w-800 from-transparent to-cloud-light","next"===a&&"end-0 bg-gradient-to-r","previous"===a&&"start-0 bg-gradient-to-l")}),(0,nX.Z)("div",{role:"button",onClick:()=>{if("previous"===a){i(t-1);return}i(t+1)},className:(0,n2.Z)("absolute top-1/2 flex h-1200 w-1200 -translate-y-full cursor-pointer items-center justify-center rounded-full bg-white-normal shadow-level1 transition-shadow duration-fast hover:shadow-level2","next"===a&&"end-200","previous"===a&&"start-200")},void 0,"next"===a?ad||(ad=(0,nX.Z)(o6.default,{reverseOnRtl:!0})):au||(au=(0,nX.Z)(o9.default,{reverseOnRtl:!0})))]})},p6=e=>{let{carouselRef:t,children:i,initialActiveIndex:a,shouldShowBadgeOnTiles:l}=e,{isLargeMobile:r,isTabletOrDesktop:n,isLargeDesktop:o}=(0,oo.Z)(),[s,d]=(0,n3.useState)(a),u=(0,n3.useDeferredValue)(s),c=e=>{var t;return null===(t=document.getElementById(`CarouselItem-${e}`))||void 0===t?void 0:t.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})};if(!i.length)return null;let v=i.map(e=>{let{component:t}=e;return t});return 1===i.length?(0,ow.jsx)("div",{id:"BookingOptionsCarousel",ref:t,className:"w-full",children:v}):2===i.length&&(n||o)?(0,ow.jsx)("div",{id:"BookingOptionsCarousel",ref:t,className:"grid w-full grid-cols-2 gap-400",children:v}):(0,nX.Z)("div",{className:"-mx-400 flex flex-col gap-400 lm:-mx-800"},void 0,(0,ow.jsxs)("div",{id:"BookingOptionsCarousel",ref:t,className:"relative w-full scroll-smooth",children:[(0,nX.Z)("div",{"data-test":"BookingOptionsCarousel",className:(0,n2.Z)("flex w-full snap-x snap-mandatory gap-400 overflow-x-auto px-400 pb-200 lm:px-800",l?"pt-300":"pt-50","[&>*]:min-w-[90%] [&>*]:snap-center [&>*]:snap-always lm:[&>*]:min-w-[332px]","[-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden"),onScroll:e=>{let t=Math.abs(e.target.scrollLeft),{clientWidth:i}=e.target,a=Math.ceil(t/(document.body.clientWidth>=p5.default.orbit.breakpointLargeMobile?332:.9*i));s!==a&&d(a)}},void 0,v),(r||n)&&(0,ow.jsxs)(ow.Fragment,{children:[0!==s&&(0,nX.Z)(p9,{activeIndex:s,onScrollIntoItem:c,type:"previous"}),s!==v.length-1&&(0,nX.Z)(p9,{activeIndex:s,onScrollIntoItem:c,type:"next"})]}),(0,nX.Z)("div",{className:"flex justify-center"},void 0,i.map((e,t)=>{let{carouselDotAriaLabel:i}=e;return(0,nX.Z)("button",{className:"h-500 w-400 leading-normal",type:"button",onClick:()=>c(t),"aria-label":i},t,(0,nX.Z)(v9.default,{color:u===t?"secondary":"tertiary"}))}))]}))},p7=(e,t,i)=>{let{isDisruptionProtectionAvailable:a}=i;return"VI"===e?[{id:"search.prebooking.benefits.disruption_protection",isAvailable:a,message:t?ac||(ac=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.disruption_protection.title"})):(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_for_cancellation.title",values:{companyName:"Kiwi.com"}}),disclaimer:t?(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.disruption_protection.description",values:{companyName:"Kiwi.com"}}):(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_v2.description",values:{companyName:"Kiwi.com"}})},{id:"search.prebooking.benefits.live_boarding_pass_v2.title",isAvailable:!0,message:av||(av=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.title"})),disclaimer:am||(am=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.description"}))},...t?[{id:"search.prebooking.benefits.savings",isAvailable:!0,message:ap||(ap=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.title"})),disclaimer:af||(af=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.description_benefits"}))}]:[]]:[{id:"search.prebooking.benefits.instant_credit_v3.title",isAvailable:a,message:(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_for_cancellation.title",values:{companyName:"Kiwi.com"}}),disclaimer:t?(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_for_cancellation.description",values:{companyName:"Kiwi.com"}}):(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_v2.description",values:{companyName:"Kiwi.com"}})},{id:"search.prebooking.benefits.live_boarding_pass_v2.title",isAvailable:!0,message:ag||(ag=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.title"})),disclaimer:ah||(ah=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.description"}))},...t?[{id:"search.prebooking.benefits.savings",isAvailable:!0,message:aZ||(aZ=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.title"})),disclaimer:ab||(ab=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.description_benefits"}))}]:[]]},p8=e=>{var t;let{carouselItemIndex:i,hasKiwiBasicBookingOption:a,isTier1Search:l,itinerary:r,itineraryRank:n,kiwiBookingOption:o,responseContainsKayakItinerary:s,type:d,numOfBookingOptions:u,onClickSideEffect:c,onPrebookingContinue:v,onSignInBeforeBookingClick:m}=e,p=(0,os.SK)(),{isMobile:f,isTabletOrDesktop:g}=(0,oo.Z)(),{hasMultiplePassengers:h,passengersCount:Z}=cH(),b=!(g&&u>1||f),y=(0,sa.z)(null===(t=o.price)||void 0===t?void 0:t.amount),{isDisruptionProtectionAvailable:k}=(0,ue.cK)(r),{isModalVisible:x,showModal:_,hideModal:w}=(0,sA.h)("extendedGuarantee"),C=p7(d,a,{isDisruptionProtectionAvailable:k}),{url:S,maybeOpenHelp:N}=(0,ui.sH)(ui.Dq.NEW_BENEFITS),T=(0,n3.useCallback)(()=>{w(),f&&window.history.back()},[w,f]),I=(0,n3.useCallback)(()=>{_(),p(pX.q7,{type:"prebookingPerksModal"}),f&&window.history.pushState({},"","#prebookingPerks")},[_,p,f]);return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(pH,{badge:a?"best":void 0,carouselItemIndex:i,dataTest:"BenefitsChoiceTile",isBenefitsChoiceTile:!0,content:(0,nX.Z)("div",{className:"flex"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)(b?"w-2/3 pe-300 border-cloud-dark":"w-full")},void 0,(0,nX.Z)("div",{className:"mb-400 flex items-center justify-between"},void 0,(0,nX.Z)(p_.default,{type:"title2"},void 0,a?ay||(ay=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.title"})):"Kiwi.com"),!b&&(ak||(ak=(0,nX.Z)("img",{className:"ms-400 h-600",src:"/images/logos/kiwicom/carrier.svg",alt:"Kiwi.com Logo"})))),b&&(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"card bg-white-normal p-200 mb-300 shadow-fixed rounded-150"},void 0,C.map(e=>e.isAvailable?(0,nX.Z)("div",{className:"not-last:mb-150 group"},e.id,(0,nX.Z)("p",{className:"font-bold mb-50"},void 0,e.message),(0,nX.Z)("p",{className:"text-small mb-100"},void 0,e.disclaimer),ax||(ax=(0,nX.Z)("div",{className:"group-last-of-type:hidden h-0 border-t-[1px] border-dashed border-product-light-active after:relative after:top-[-1px] after:block after:h-[1px] after:w-full after:bg-gradient-to-r after:from-transparent after:to-white-normal rtl:after:bg-gradient-to-l"}))):null)),(0,nX.Z)("button",{type:"button",onClick:I,className:"text-small text-ink-dark font-medium underline underline-offset-2"},void 0,a_||(a_=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.learn_more.cta"})))]}),!b&&(0,nX.Z)("button",{type:"button",className:"relative w-full rounded-200 bg-white-normal px-200 py-50 shadow-level1",onClick:()=>{_(),p(pX.q7,{type:"prebookingPerksModal"}),f&&window.history.pushState({},"","#prebookingPerks")}},void 0,C.map((e,t)=>e.isAvailable?(0,nX.Z)("div",{},e.id,(0,nX.Z)("div",{className:(0,n2.Z)("pb-150 pt-[5px] text-start font-bold leading-normal",0===t&&"pe-600")},void 0,e.message),t+1!==C.length&&(aw||(aw=(0,nX.Z)("div",{className:"h-0 border-t-[1px] border-dashed border-cloud-normal after:relative after:top-[-1px] after:block after:h-[1px] after:w-full after:bg-gradient-to-r after:from-transparent after:to-white-normal rtl:after:bg-gradient-to-l"})))):null),aC||(aC=(0,nX.Z)(mI.default,{customColor:"#697D95",className:"absolute end-200 top-200"})))),b&&(0,nX.Z)("div",{className:"flex flex-col justify-between w-1/3 ps-300 border-s border-cloud-normal border-dashed"},void 0,aS||(aS=(0,nX.Z)("img",{className:"self-end w-800 h-800",src:"/images/logos/kiwicom/carrier.svg",alt:"Kiwi.com Logo"})),(0,nX.Z)("div",{},void 0,(0,nX.Z)("div",{className:"mb-300"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex",a?"items-end justify-between":"justify-end")},void 0,a&&(aN||(aN=(0,nX.Z)("p",{className:"text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"})))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,y)),h&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:Z}))),(0,nX.Z)("div",{className:"[&_#ContinueButton]:bg-product-dark hover:[&_#ContinueButton]:bg-product-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:o,customTranslation:aT||(aT=(0,nX.Z)(ox.Z,{id:"common.continue"})),dataTest:"ContinueButton",fullWidth:!0,hidePrice:!0,id:"ContinueButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:l,itinerary:r,itineraryRank:n,onClickSideEffect:c,onPrebookingContinue:v,onSignInBeforeBookingClick:m,responseContainsKayakItinerary:s,resultType:"detail",size:"normal",type:"primary"}))))),footer:b?null:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"mb-[10px]"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex",a?"items-end justify-between":"justify-end")},void 0,a&&(aI||(aI=(0,nX.Z)("p",{className:"text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"})))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,y)),h&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:Z}))),(0,nX.Z)("div",{className:"[&_#ContinueButton]:bg-product-dark hover:[&_#ContinueButton]:bg-product-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:o,customTranslation:aR||(aR=(0,nX.Z)(ox.Z,{id:"common.continue"})),dataTest:"ContinueButton",fullWidth:!0,hidePrice:!0,id:"ContinueButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:l,itinerary:r,itineraryRank:n,onClickSideEffect:c,onPrebookingContinue:v,onSignInBeforeBookingClick:m,responseContainsKayakItinerary:s,resultType:"detail",size:"normal",type:"primary"}))]})}),x&&(0,nX.Z)(p2,{content:C,dataTest:"InfoModalBenefits",imgSrc:a?void 0:"https://images.kiwi.com/search/prebooking/modal-benefits.png",helpArticleURL:S,learnMoreCTA:aA||(aA=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.learn_more.cta"})),title:a?aF||(aF=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.title"})):void 0,onCloseModal:T,onMaybeOpenHelpArticle:N})]})};var fe=i("83145");let ft=e=>{let{price:t}=e,{currency:i}=(0,fe.useCurrency)(),a=i.format.format.replace("__price__","").trim();return(0,nX.Z)("div",{className:"flex h-[68px] w-[68px] shrink-0 origin-right scale-[.8] items-center justify-center bg-[url('/images/guarantee/guarantee-sticker.svg')] text-white-normal -mr-150 mt-[-36px]"},void 0,(0,nX.Z)("div",{className:"flex items-start gap-50"},void 0,(0,nX.Z)("span",{className:(0,n2.Z)(t.length<=2&&"text-[28px] leading-[28px]",3===t.length&&"text-[22px] leading-[22px]",4===t.length&&"text-extra-large leading-[18px]",t.length>=4&&"text-large leading-small")},void 0,(0,nX.Z)(si.Z,{maxSize:5,hideCurrencySymbol:!0},void 0,t)),(0,nX.Z)("span",{className:(0,n2.Z)("leading-normal",t.length>=4&&"text-small")},void 0,a)))},fi=e=>{let{referencePrice:t,hasKiwiBasicBookingOption:i}=e,a=(0,sa.z)(t);return(0,nX.Z)("div",{className:"flex justify-between mb-100 text-small leading-small"},void 0,(0,nX.Z)("p",{className:"text-product-darker"},void 0,i?aD||(aD=(0,nX.Z)(ox.Z,{id:"search.prebooking.basic_price"})):aP||(aP=(0,nX.Z)(ox.Z,{id:"search.prebooking.airline_price"}))," "),(0,nX.Z)(si.Z,{maxSize:99},void 0,a))},fa=(e,t,i)=>{let{isDisruptionProtectionAvailable:a,isAutomaticCheckinAvailable:l}=i;return"VI"===e?[{id:"search.prebooking.benefits.disruption_protection",isAvailable:a,message:t?aE||(aE=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.disruption_protection.title"})):(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_for_cancellation.title",values:{companyName:"Kiwi.com"}}),disclaimer:t?(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.disruption_protection.description",values:{companyName:"Kiwi.com"}}):(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_v2.description",values:{companyName:"Kiwi.com"}})},{id:"search.prebooking.benefits.automatic_check_in_v2.title",isAvailable:l,message:aL||(aL=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.automatic_check_in_v2.title"})),disclaimer:t?aB||(aB=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.automatic_check_in_v2.description_v2"})):aK||(aK=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.automatic_check_in_v2.description"}))},{id:"search.prebooking.benefits.live_boarding_pass_v2.title",isAvailable:!0,message:aO||(aO=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.title"})),disclaimer:aM||(aM=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.description"}))},...t?[{id:"search.prebooking.benefits.savings",isAvailable:!0,message:aj||(aj=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.title"})),disclaimer:az||(az=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.description_guarantee"}))}]:[]]:[{id:"search.prebooking.benefits.instant_credit_v3.title",isAvailable:a,message:(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_for_cancellation.title",values:{companyName:"Kiwi.com"}}),disclaimer:t?(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_for_cancellation.description",values:{companyName:"Kiwi.com"}}):(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.instant_credit_v2.description",values:{companyName:"Kiwi.com"}})},{id:"search.prebooking.benefits.automatic_check_in_v2.title",isAvailable:l,message:aV||(aV=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.automatic_check_in_v2.title"})),disclaimer:t?a$||(a$=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.automatic_check_in_v2.description_v2"})):aU||(aU=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.automatic_check_in_v2.description"}))},{id:"search.prebooking.benefits.live_boarding_pass_v2.title",isAvailable:!0,message:aG||(aG=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.title"})),disclaimer:aH||(aH=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.live_boarding_pass_v2.description"}))},...t?[{id:"search.prebooking.benefits.savings",isAvailable:!0,message:aW||(aW=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.title"})),disclaimer:aq||(aq=(0,nX.Z)(ox.Z,{id:"search.prebooking.benefits.savings.description_guarantee"}))}]:[]]},fl=e=>{var t,i;let{carouselItemIndex:a,isTier1Search:l,itinerary:r,itineraryRank:n,kiwiBasicBookingOption:o,kiwiBookingOption:s,responseContainsKayakItinerary:d,type:u,numOfBookingOptions:c,onClickSideEffect:v,onPrebookingContinue:m,onSignInBeforeBookingClick:p}=e,f=(0,os.SK)(),{isMobile:g,isTabletOrDesktop:h}=(0,oo.Z)(),{isModalVisible:Z,showModal:b,hideModal:y}=(0,sA.h)("extendedGuarantee"),{hasMultiplePassengers:k,passengersCount:x}=cH(),{url:_,maybeOpenHelp:w}=(0,ui.sH)(ui.Dq.NEW_GUARANTEE),C=!(h&&c>1||g),S=(0,sa.z)(null===(t=s.price)||void 0===t?void 0:t.amount),N=null!==o,T=N&&(0,sa.z)(null===(i=o.price)||void 0===i?void 0:i.amount)<=S,{isAutomaticCheckinAvailable:I,isDisruptionProtectionAvailable:R,guaranteeFee:A,searchReferencePrice:F}=(0,ue.cK)(r),D=fa(u,N,{isAutomaticCheckinAvailable:I,isDisruptionProtectionAvailable:R}),P=null==A?void 0:A.roundedAmount,E=null==F?void 0:F.roundedAmount,L=(c>1&&!N||T)&&null!=P&&null!=E,B=(0,n3.useCallback)(()=>{b(),f(pX.q7,{type:"prebookingPerksModal"}),g&&window.history.pushState({},"","#prebookingPerks")},[g,b,f]),K=(0,n3.useCallback)(()=>{y(),g&&window.history.back()},[y,g]);return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(pH,{customBackground:"bg-choice-tile-green",badge:"best",carouselItemIndex:a,footerBackground:"bg-product-light-hover",dataTest:"GuaranteeChoiceTile",content:(0,nX.Z)("div",{className:"flex"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)(C?"w-2/3 pe-300 border-cloud-dark":"w-full")},void 0,aQ||(aQ=(0,nX.Z)("div",{className:"header mb-300"},void 0,(0,nX.Z)("div",{className:"flex items-center [&>*]:!text-product-dark-active"},void 0,(0,nX.Z)(p_.default,{type:"title2"},void 0,(0,nX.Z)("h2",{className:"text-product-dark"},void 0,"Kiwi.com Guarantee"))),(0,nX.Z)("img",{className:"absolute -top-300 right-400 h-[54px]",src:"/images/guarantee/guarantee-badge-new.svg",alt:"Guarantee badge"}))),C?(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"card bg-white-normal p-200 mb-300 shadow-fixed rounded-150"},void 0,D.map(e=>e.isAvailable?(0,nX.Z)("div",{className:"not-last:mb-150 group"},e.id,(0,nX.Z)("p",{className:"font-bold mb-50"},void 0,e.message),(0,nX.Z)("p",{className:"text-small mb-100"},void 0,e.disclaimer),aJ||(aJ=(0,nX.Z)("div",{className:"group-last-of-type:hidden h-0 border-t-[1px] border-dashed border-product-light-active after:relative after:top-[-1px] after:block after:h-[1px] after:w-full after:bg-gradient-to-r after:from-transparent after:to-white-normal rtl:after:bg-gradient-to-l"}))):null)),(0,nX.Z)("button",{type:"button",onClick:B,className:"text-small text-ink-dark font-medium underline underline-offset-2"},void 0,aY||(aY=(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.learn_more.cta"})))]}):(0,nX.Z)("button",{type:"button",className:"relative w-full rounded-200 bg-white-normal px-200 py-50 shadow-level1",onClick:B},void 0,D.map((e,t)=>e.isAvailable?(0,nX.Z)("div",{},e.id,(0,nX.Z)("div",{className:(0,n2.Z)("pb-150 pt-[5px] text-start font-bold leading-normal",0===t&&"pe-600")},void 0,e.message),t+1!==D.length&&(aX||(aX=(0,nX.Z)("div",{className:"h-0 border-t-[1px] border-dashed border-product-light-active after:relative after:top-[-1px] after:block after:h-[1px] after:w-full after:bg-gradient-to-r after:from-transparent after:to-white-normal rtl:after:bg-gradient-to-l"})))):null),a0||(a0=(0,nX.Z)(mI.default,{customColor:"#697D95",className:"absolute end-200 top-200"})))),C&&(0,nX.Z)("div",{className:"flex flex-col justify-end w-1/3 ps-300 border-s border-cloud-normal border-dashed"},void 0,(0,nX.Z)("div",{className:"footer mb-[10px]"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex",L||N?"items-end justify-between":"justify-end")},void 0,(L||N)&&(a1||(a1=(0,nX.Z)("p",{className:"text-product-darker mt-200 text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"})))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,S)),k&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:x}))),(0,nX.Z)("div",{className:"[&_#ContinueButton]:bg-product-dark hover:[&_#ContinueButton]:bg-product-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:s,customTranslation:a2||(a2=(0,nX.Z)(ox.Z,{id:"common.continue"})),dataTest:"ContinueButton",fullWidth:!0,hidePrice:!0,id:"ContinueButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:l,itinerary:r,itineraryRank:n,onClickSideEffect:v,onPrebookingContinue:m,onSignInBeforeBookingClick:p,responseContainsKayakItinerary:d,resultType:"detail",size:"normal"})))),footer:C?null:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"footer mb-[10px]"},void 0,L&&(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:(0,n2.Z)("flex justify-between items-end")},void 0,(0,nX.Z)("p",{className:"text-product-darker mb-300 text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.guarantee",values:{companyName:"Kiwi.com"}})),(0,nX.Z)(ft,{price:P})),(0,nX.Z)(fi,{referencePrice:E,hasKiwiBasicBookingOption:N})]}),(0,nX.Z)("div",{className:(0,n2.Z)("flex",L||N?"items-end justify-between":"justify-end")},void 0,(L||N)&&(a3||(a3=(0,nX.Z)("p",{className:"text-product-darker mt-200 text-small leading-small"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.footer.total_price"})))),(0,nX.Z)(si.Z,{className:"text-heading-title2 font-bold leading-heading-title2",maxSize:99},void 0,S)),k&&(0,nX.Z)("div",{className:"flex justify-end -mt-100"},void 0,(0,nX.Z)(vX,{passengersCount:x}))),(0,nX.Z)("div",{className:"[&_#ContinueButton]:bg-product-dark hover:[&_#ContinueButton]:bg-product-dark-hover"},void 0,(0,nX.Z)(v$,{bookingOption:s,customTranslation:a4||(a4=(0,nX.Z)(ox.Z,{id:"common.continue"})),dataTest:"ContinueButton",fullWidth:!0,hidePrice:!0,id:"ContinueButton",isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:l,itinerary:r,itineraryRank:n,onClickSideEffect:v,onPrebookingContinue:m,onSignInBeforeBookingClick:p,responseContainsKayakItinerary:d,resultType:"detail",size:"normal"}))]})}),Z&&(0,nX.Z)(p2,{content:D,dataTest:"InfoModalKCG",displayGuaranteeLogo:!0,imgAlignment:N?"right":void 0,imgSrc:N?"https://images.kiwi.com/search/prebooking/perks-modal-header.png":"https://images.kiwi.com/search/prebooking/modal-guarantee.png",helpArticleURL:_,learnMoreCTA:a5||(a5=(0,nX.Z)(ox.Z,{id:"search.prebooking.guarantee.learn_more.cta"})),onCloseModal:K,onMaybeOpenHelpArticle:w})]})},fr=e=>{var t,i,a;let{carouselItemIndex:l,hasSomeBenefits:r,isKiwiGuaranteeAvailable:n,isTier1Search:o,itinerary:s,itineraryRank:d,kiwiBasicBookingOption:u,kiwiBookingOption:c,responseContainsKayakItinerary:v,numOfBookingOptions:m,onClickSideEffect:p,onPrebookingContinue:f,onSignInBeforeBookingClick:g,onPriceLockClick:h}=e,Z=(0,n4.v9)(da.CR),{shouldShowFarelock:b,farelock:y}=vu(c,u$(s)),k=pY({bookingOption:c,passengers:Z.adults}),x=vB(s),_=(null===(t=s.travelHack)||void 0===t?void 0:t.isVirtualInterlining)===!0,w=(0,n3.useCallback)(()=>n?(0,nX.Z)(fl,{carouselItemIndex:l,kiwiBasicBookingOption:u,isTier1Search:o,itinerary:s,itineraryRank:d,kiwiBookingOption:c,responseContainsKayakItinerary:v,type:_?"VI":"nonVI",numOfBookingOptions:m,onClickSideEffect:p,onPrebookingContinue:f,onSignInBeforeBookingClick:g}):r?(0,nX.Z)(p8,{carouselItemIndex:l,hasKiwiBasicBookingOption:null!==u,isTier1Search:o,itinerary:s,itineraryRank:d,responseContainsKayakItinerary:v,kiwiBookingOption:c,type:_?"VI":"nonVI",numOfBookingOptions:m,onClickSideEffect:p,onPrebookingContinue:f,onSignInBeforeBookingClick:g}):i||(i=(0,nX.Z)(pq,{bookingOption:c,carouselItemIndex:l,isTier1Search:o,itineraryRank:d,itinerary:s,numOfBookingOptions:m,responseContainsKayakItinerary:v,onClickSideEffect:p,onPrebookingContinue:f,onSignInBeforeBookingClick:g})),[l,r,n,o,_,s,d,u,c,m,p,f,g,v]);return(0,nX.Z)("div",{className:"flex flex-col first:[&>*]:flex-grow"},void 0,(0,nX.Z)(w,{}),b&&(null==y?void 0:null===(a=y.price)||void 0===a?void 0:a.roundedFormattedValue)&&k&&(0,nX.Z)(p1,{href:k,farelockPriceFormatted:y.price.roundedFormattedValue,shouldUseChoiceTileRedesign:x,onFarelockClick:h}))},fn=e=>{let{carouselRef:t,itinerary:i,onClickSideEffect:a,onSignInBeforeBookingClick:l,responseContainsKayakItinerary:r,shouldApplySimplifiedSummaryUI:n,benefitsData:o,isTier1Search:s,itineraryRank:d,handlePricelockClick:u,handleContinue:c,isHeaderSuppressed:v,shouldShowSwipeAndCompareDescription:m,shouldPlaceBookingOptionsAboveItinerarySummary:p}=e,{formatMessage:f}=(0,dU.Z)(),{kiwiBookingOption:g,kiwiBasicBookingOption:h,externalBookingOptions:Z,numOfBookingOptions:b}=(0,ue.gr)(i),{hasSomeBenefits:y,isKiwiGuaranteeAvailable:k,isKiwiGuaranteeIncluded:x}=o,_=k||null!==h,{shouldShowFarelock:w}=vu(g,u$(i)),C=null!==g&&null===h&&null===Z,S=vB(i),N=b>1,T=(()=>{let e=[];return null!==g&&e.push(g),null!==h&&e.push(h),null!==Z&&e.push(...Z),e})();return n?null:(0,ow.jsx)(ow.Fragment,{children:(0,nX.Z)("div",{id:"PrebookingBookingOptions",className:(0,n2.Z)("mb-[var(--orbit-modal-footer-height)] border-0 border-y-card bg-cloud-light p-600 px-400 pb-400 pt-400 lm:mb-0 lm:px-800","[&_.orbit-modal-header-container]:!mb-0 [&_.orbit-modal-header-container]:!p-0",(S&&C||!m)&&"lm:pb-600",(!p&&y||k||x)&&"tb:pt-600",(!p&&!N||C)&&"pt-600",!p&&N&&"tb:!pt-400",p&&!N&&"lm:pt-400",v&&"border-t-0")},void 0,N&&(0,nX.Z)("div",{className:(0,n2.Z)(m&&"mb-400",p&&"lm:hidden")},void 0,(0,nX.Z)(p_.default,{as:"h1",type:"title1",spaceAfter:m?"none":_?"large":"medium"},void 0,C?a9||(a9=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.title_preview"})):a6||(a6=(0,ow.jsx)(ow.Fragment,{children:(0,nX.Z)("div",{},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.title"}))}))),m&&(a7||(a7=(0,nX.Z)("p",{className:"text-ink-light"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.options.description"}))))),(0,nX.Z)(p6,{carouselRef:t,initialActiveIndex:0,shouldShowBadgeOnTiles:_},void 0,T.map((e,t)=>{var n,o;return(null===(n=e.itineraryProvider)||void 0===n?void 0:n.code)===d4.zT?{component:(0,nX.Z)(fr,{carouselItemIndex:t,hasSomeBenefits:y,isKiwiGuaranteeAvailable:k,isTier1Search:s,itinerary:i,itineraryRank:d,kiwiBasicBookingOption:h,kiwiBookingOption:e,responseContainsKayakItinerary:r,numOfBookingOptions:b,onClickSideEffect:a,onPrebookingContinue:c,onPriceLockClick:u,onSignInBeforeBookingClick:l}),carouselDotAriaLabel:f({id:"search.prebooking.options.carousel.swipe_cta"})}:(null===(o=e.itineraryProvider)||void 0===o?void 0:o.code)===d4.bZ?{component:(0,nX.Z)(p4,{carouselItemIndex:t,isKiwiGuaranteeAvailable:k,isTier1Search:s,itinerary:i,itineraryRank:d,kiwiBasicBookingOption:e,responseContainsKayakItinerary:r,onClickSideEffect:a,onPrebookingContinue:c,onPriceLockClick:u,onSignInBeforeBookingClick:l}),carouselDotAriaLabel:f({id:"search.prebooking.options.carousel.swipe_cta"})}:{component:(0,nX.Z)("div",{className:"flex flex-col first:[&>*]:flex-grow"},void 0,(0,nX.Z)(pq,{badge:k?"airline":void 0,bookingOption:e,carouselItemIndex:t,numOfBookingOptions:b,itinerary:i,itineraryRank:d,isKiwiGuaranteeAvailable:k,isTier1Search:s,responseContainsKayakItinerary:r,onClickSideEffect:a,onPrebookingContinue:c,onSignInBeforeBookingClick:l},e.bookingUrl),w&&(a8||(a8=(0,nX.Z)(pJ,{})))),carouselDotAriaLabel:f({id:"search.prebooking.options.carousel.swipe_cta"})}})))})};var fo=i("55688"),fs=i("48248");let fd=e=>{let t=vB(e),{isSmallOrMediumMobile:i}=(0,oo.Z)();return!t||i},fu=e=>{var t;let{itinerary:i,shouldApplySimplifiedSummaryUI:a}=e,l=fd(i),r=(0,ui.sH)(ui.Dq.RYANAIR_PARTNERSHIP),n=(0,ui.sH)(ui.Dq.RYANAIR_PARTNERSHIP_VI),o="on"===(0,d3.useTest)("RYANAIR_VERIFIED"),{company_name:s}=(0,fo.useBrand)(),{url:d,maybeOpenHelp:u}=null!==(t=i.travelHack)&&void 0!==t&&t.isVirtualInterlining?n:r,c=(0,n3.useCallback)(e=>{let{children:t}=e;return l?(0,nX.Z)("a",{href:d,rel:"noreferrer",target:"_blank",onClick:u,className:"not-last:mb-600"},void 0,t):t},[d,l,u]);return(0,nX.Z)(c,{},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex flex-col rounded-300 bg-card shadow-fixed not-last:mb-600",l&&"transition-shadow duration-fast ease-in-out hover:shadow-level2"),"data-test":"ryanair-exclusive-offer-itinerary"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("p-400 pt-300",!a&&"tb:px-600 tb:pt-600")},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("mb-[10px] flex justify-between",o?"flex-col tb:flex-row tb:items-center":"items-center")},void 0,(0,nX.Z)(p_.default,{type:"title3",as:"h3"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.title",values:{companyName:s}})),o?(0,nX.Z)("div",{className:"order-first mb-150 flex shrink-0 items-center text-[#093591] tb:order-none tb:mb-0 tb:ms-400"},void 0,le||(le=(0,nX.Z)("img",{src:"/images/logos/ryanair/ryanair-verified-xl.svg",width:"32",height:"24",alt:"","aria-hidden":"true"})),lt||(lt=(0,nX.Z)("span",{className:"translate-y-50 text-small font-normal leading-small ltr:-ml-100 rtl:mr-100"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.badges.ryanair_verified"})))):(0,nX.Z)("div",{className:"ms-400 flex items-start"},void 0,(0,nX.Z)("div",{className:"rounded-[10px] border-2 border-solid border-white p-50 shadow-level1"},void 0,(0,nX.Z)(fs.default,{carriers:[{code:"kiwicom",name:"Kiwi.com"}],rounded:!1,size:"large"})),(0,nX.Z)("div",{className:"-ms-400 mt-400 rounded-[10px] border-2 border-solid border-white bg-[#182753] p-50 shadow-level1 lm:ms-[-10px] lm:mt-0"},void 0,(0,nX.Z)(fs.default,{carriers:[{code:"FR",name:"Ryanair"}],rounded:!1,size:"large"})))),li||(li=(0,nX.Z)("p",{className:"leading-normal text-ink-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.disclaimer_virtual_interlining"})))),l?(0,nX.Z)("div",{className:(0,n2.Z)("flex items-center justify-between border-0 border-t-card h-1200 py-400 pe-300 ps-400 font-medium leading-normal tb:pe-400",a?"tb:ps-400":"tb:ps-600")},void 0,la||(la=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.learn_more"})),ll||(ll=(0,nX.Z)(o6.default,{className:"-my-50 tb:my-0",size:"medium",reverseOnRtl:!0}))):(0,nX.Z)("div",{className:(0,n2.Z)("border-0 border-t-card h-1200 py-400 pe-300 leading-normal tb:pe-400 [&>a]:flex [&>a]:w-full [&>a]:justify-between [&>a_svg]:-my-50",a?"ps-300":"ps-400 tb:ps-600")},void 0,(0,nX.Z)(dC.default,{type:"secondary",noUnderline:!0,external:!0,href:d,onClick:u,iconRight:lr||(lr=(0,nX.Z)(o6.default,{size:"medium"}))},void 0,ln||(ln=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.learn_more"}))))))};var fc=i("90661");let fv=e=>{let{children:t,isCardClickable:i,helpArticleUrl:a,maybeOpenHelp:l}=e;return i?(0,nX.Z)("a",{href:a,rel:"noreferrer",target:"_blank",onClick:l},void 0,t):t},fm=e=>{var t;let{itinerary:i,shouldApplySimplifiedSummaryUI:a,isMobile:l}=e,r=fd(i),{url:n,maybeOpenHelp:o}=(0,ui.sH)(ui.Dq.CONNECTION_PROTECTION);return null!==(t=i.travelHack)&&void 0!==t&&t.isVirtualInterlining?(0,nX.Z)(fv,{isCardClickable:r,helpArticleUrl:n,maybeOpenHelp:o},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("mb-600 flex flex-col rounded-300 bg-card shadow-fixed",r&&"transition-shadow duration-fast ease-in-out hover:shadow-level2"),"data-test":"ConnectionProtectionBanner"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("p-400 pt-300",!a&&"tb:px-600 tb:pt-600")},void 0,(0,nX.Z)("div",{className:"flex items-center justify-between"},void 0,(0,nX.Z)("div",{},void 0,lo||(lo=(0,nX.Z)(p_.default,{type:"title3",as:"h3"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.connection_protection.title"}))),!l&&(ls||(ls=(0,nX.Z)("p",{className:"pt-200 leading-normal text-ink-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.connection_protection.description"}))))),ld||(ld=(0,nX.Z)(fc.default,{color:"success",className:"h-[72px] w-auto"}))),l&&(lu||(lu=(0,nX.Z)("p",{className:"mt-200 leading-normal text-ink-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.connection_protection.description"}))))),r?(0,nX.Z)("div",{className:(0,n2.Z)("flex items-center justify-between border-0 border-t-card h-1200 py-400 pe-300 ps-400 font-medium leading-normal tb:pe-400",a?"tb:ps-400":"tb:ps-600")},void 0,lc||(lc=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.learn_more"})),lv||(lv=(0,nX.Z)(o6.default,{className:"-my-50 tb:my-0",size:"medium",reverseOnRtl:!0}))):(0,nX.Z)("div",{className:(0,n2.Z)("border-0 border-t-card py-400 pe-300 leading-normal h-1200 tb:pe-400 [&>a]:flex [&>a]:w-full [&>a]:justify-between [&>a_svg]:-my-50",a?"ps-300":"ps-400 tb:ps-600")},void 0,(0,nX.Z)(dC.default,{type:"secondary",noUnderline:!0,external:!0,href:n,onClick:o,iconRight:lm||(lm=(0,nX.Z)(o6.default,{size:"medium"}))},void 0,lp||(lp=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.learn_more"})))))):null},fp=e=>t=>{if("Enter"===t.key||" "===t.key)e(t)};var ff=i("92429");let fg=e=>{let{badge:t,label:i}=e;return(0,nX.Z)("li",{className:"flex safe-space-x-200"},void 0,t,(0,nX.Z)("p",{className:"mt-50"},void 0,i))},fh=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p;let{sectorSegment:f,hasDepartureFromDifferentAirport:g,isReturningToDifferentAirport:h}=e,Z=null===(t=f.segment)||void 0===t?void 0:null===(i=t.source)||void 0===i?void 0:null===(a=i.station)||void 0===a?void 0:a.code,b=null===(l=f.segment)||void 0===l?void 0:null===(r=l.source)||void 0===r?void 0:null===(n=r.station)||void 0===n?void 0:null===(o=n.city)||void 0===o?void 0:o.name,y=null===(s=f.segment)||void 0===s?void 0:null===(d=s.destination)||void 0===d?void 0:null===(u=d.station)||void 0===u?void 0:u.code,k=null===(c=f.segment)||void 0===c?void 0:null===(v=c.destination)||void 0===v?void 0:null===(m=v.station)||void 0===m?void 0:null===(p=m.city)||void 0===p?void 0:p.name;return g&&h?(0,nX.Z)(fg,{badge:lf||(lf=(0,nX.Z)(ff.default,{type:"warningSubtle",icon:(0,nX.Z)(mh.default,{color:"warning"})})),label:(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.departing_returning_different",values:{city:b,iataFrom:Z,iataTo:y}})}):h?(0,nX.Z)(fg,{badge:lg||(lg=(0,nX.Z)(ff.default,{type:"warningSubtle",icon:(0,nX.Z)(mh.default,{color:"warning"})})),label:(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.returning_different",values:{city:null!=k?k:"",iata:null!=y?y:""}})}):g?(0,nX.Z)(fg,{badge:lh||(lh=(0,nX.Z)(ff.default,{type:"warningSubtle",icon:(0,nX.Z)(mh.default,{color:"warning"})})),label:(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.departing_different",values:{city:null!=b?b:"",iata:null!=Z?Z:""}})}):null},fZ=e=>{var t,i,a,l,r,n,o,s,d,u,c;let{sectorSegment:v,prevSectorSegment:m}=e,{segment:p,layover:f}=v;if(!f)return null;let g=(null!==(t=f.duration)&&void 0!==t?t:0)*1e3;return(0,ut.BI)(m,v)?(0,nX.Z)(fg,{badge:lZ||(lZ=(0,nX.Z)(ff.default,{icon:(0,nX.Z)(m9.default,{color:"secondary"})})),label:(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.technical_stop_city",values:{duration:(0,nX.Z)(mU.Z,{value:g}),city:null==p?void 0:null===(o=p.source)||void 0===o?void 0:null===(s=o.station)||void 0===s?void 0:null===(d=s.city)||void 0===d?void 0:d.name,iataCode:null==p?void 0:null===(u=p.source)||void 0===u?void 0:null===(c=u.station)||void 0===c?void 0:c.code}})},null==p?void 0:p.id):(0,nX.Z)(fg,{badge:lb||(lb=(0,nX.Z)(ff.default,{icon:(0,nX.Z)(m5.default,{color:"secondary"})})),label:(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.layover_city",values:{duration:(0,nX.Z)(mU.Z,{value:g}),city:null==p?void 0:null===(i=p.source)||void 0===i?void 0:null===(a=i.station)||void 0===a?void 0:null===(l=a.city)||void 0===l?void 0:l.name,iataCode:null==p?void 0:null===(r=p.source)||void 0===r?void 0:null===(n=r.station)||void 0===n?void 0:n.code}})},null==p?void 0:p.id)},fb=e=>{let{travelHack:t}=e;switch(t.type){case"hiddenDestination":return(0,nX.Z)(fg,{badge:ly||(ly=(0,nX.Z)(ff.default,{type:"warningSubtle",icon:(0,nX.Z)(dQ.default,{color:"warning"})})),label:(0,ow.jsxs)(ow.Fragment,{children:[lk||(lk=(0,nX.Z)("strong",{className:"font-medium text-orange-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.hidden_city.title"})))," ",(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.hidden_city.description",values:{city:t.value}})]})});case"virtualInterlining":return lx||(lx=(0,nX.Z)(fg,{badge:(0,nX.Z)(ff.default,{type:"warningSubtle",icon:(0,nX.Z)(m6.default,{color:"warning"})}),label:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("strong",{className:"font-medium text-orange-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.self_transfer.title"}))," ",(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.self_transfer.description"})]})}));case"throwawayTicket":return l_||(l_=(0,nX.Z)(fg,{badge:(0,nX.Z)(ff.default,{type:"infoSubtle",icon:(0,nX.Z)(pT.default,{color:"info"})}),label:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("strong",{className:"font-medium text-blue-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.throwaway_ticketing.title"}))," ",(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.throwaway_ticketing.description"})]})}));default:return null}},fy=e=>{let t=(0,vp.vt)(e),i=(0,vp.ft)(e),a=(0,vp._i)(e);return null!=t?{type:"hiddenDestination",value:t}:i?{type:"virtualInterlining"}:a?{type:"throwawayTicket"}:null},fk=e=>{var t,i,a,l,r,n;let{sector:o,prevSector:s,nextSector:d,isReturningToDifferentAirport:u}=e,c=(0,vp.TH)(o),v=(0,vp.x9)(o),m=(0,vp.FL)(o),p=(0,vp.ov)(o),f=fy(o),g=null!=f,{sectorSegments:h}=o,Z=(0,vp.x9)(s),b=md({sectorSegments:h,prevSectorArrival:Z,nextSectorDeparture:(0,vp.TH)(d),isReturningToDifferentAirport:u}),y=b.filter(e=>null==e?void 0:e.hasLayover).length>1,k=b.some(e=>null==e?void 0:e.hasDepartureFromDifferentAirport)||b.some(e=>null==e?void 0:e.isReturningToDifferentAirport),x=y&&k;return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"px-400 py-300 tb:pt-300"},void 0,(0,nX.Z)(pg,{departure:null!==(t=null==c?void 0:null===(i=c.station)||void 0===i?void 0:null===(a=i.city)||void 0===a?void 0:a.name)&&void 0!==t?t:"",arrival:null!==(l=null==v?void 0:null===(r=v.station)||void 0===r?void 0:null===(n=r.city)||void 0===n?void 0:n.name)&&void 0!==l?l:"",className:"mb-100 text-extra-large leading-large"}),(0,nX.Z)("p",{className:"text-small font-medium leading-small"},void 0,m.map(e=>e.name).join(", ")),(0,nX.Z)("ul",{className:"space-y-200 pt-400 leading-normal"},void 0,0===p&&(lw||(lw=(0,nX.Z)(fg,{badge:(0,nX.Z)(ff.default,{type:"infoSubtle",icon:(0,nX.Z)(ml.default,{color:"info"})}),label:(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.direct_flight"})}))),null==h?void 0:h.map((e,t)=>{var i,a,l,r;if(!e)return null;let n=h[t-1],o=b[t],s=x&&((null==o?void 0:o.hasLayover)===!0||(null==o?void 0:o.hasDepartureFromDifferentAirport)===!0||(null==o?void 0:o.isReturningToDifferentAirport)===!0)&&(!o.isLast||g);return(0,nX.Z)(n3.Fragment,{},null===(i=e.segment)||void 0===i?void 0:i.id,(0,nX.Z)(fZ,{sectorSegment:e,prevSectorSegment:n},null===(a=e.segment)||void 0===a?void 0:a.id),(0,nX.Z)(fh,{sectorSegment:e,hasDepartureFromDifferentAirport:null!==(l=null==o?void 0:o.hasDepartureFromDifferentAirport)&&void 0!==l&&l,isReturningToDifferentAirport:null!==(r=null==o?void 0:o.isReturningToDifferentAirport)&&void 0!==r&&r}),s&&(lC||(lC=(0,nX.Z)(uk.default,{}))))}),g&&(0,nX.Z)(fb,{travelHack:f}))),lS||(lS=(0,nX.Z)(uk.default,{}))]})},fx=e=>{let{itinerary:t,onClick:i}=e,a=fp(i),l=(0,ue.gd)(t),r=(0,ue.ad)(t),n=!(0,ue.dY)(t),o=fd(t);return(0,nX.Z)("div",{className:(0,n2.Z)("rounded-300 shadow-fixed not-last:mb-200",o&&"transition-shadow duration-fast ease-in-out hover:shadow-level2"),role:o?"button":void 0,tabIndex:o?0:void 0,"data-test":"ItineraryTripPreviewCard",onClick:o?i:void 0,onKeyUp:o?a:void 0},void 0,l.map((e,t)=>{var i,a;if(!e)return null;let o=null!==(i=l[t-1])&&void 0!==i?i:null,s=null!==(a=l[t+1])&&void 0!==a?a:null;return(0,nX.Z)(fk,{sector:e,prevSector:o,nextSector:s,isReturningToDifferentAirport:r&&1===t&&n},e.id)}),o?lN||(lN=(0,nX.Z)("div",{className:"flex items-center justify-between py-[14px] h-1200 pe-300 ps-400 font-medium leading-normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.show_details"}),(0,nX.Z)(o6.default,{className:"-my-50 tb:my-0",size:"medium",reverseOnRtl:!0}))):(0,nX.Z)("div",{className:"pe-300 ps-400 tb:pe-400 py-[14px] h-1200 [&>a]:flex [&>a]:w-full [&>a]:justify-between"},void 0,(0,nX.Z)(dC.default,{type:"secondary",noUnderline:!0,onClick:i,iconRight:lT||(lT=(0,nX.Z)(o6.default,{size:"medium",reverseOnRtl:!0}))},void 0,lI||(lI=(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.show_details"})))))},f_=e=>{let{farelock:t,farelockUrl:i,onPriceLockClick:a}=e,{isMobile:l}=(0,oo.Z)(),r=(0,n3.useCallback)(e=>{let{children:t}=e;return l?t:(0,nX.Z)("a",{href:i,onClick:a,className:"not-last:mb-600"},void 0,t)},[]);return(0,nX.Z)(r,{},void 0,(0,nX.Z)("div",{className:"flex flex-col justify-between tb:h-[60px] rounded-300 bg-gradient-to-b from-[#F1F8FF] to-white-normal shadow-fixed duration-fast ease-in-out hover:shadow-level2 tb:flex-row tb:bg-gradient-to-r not-last:mb-600"},void 0,lR||(lR=(0,nX.Z)("div",{className:"flex flex-row-reverse items-center justify-between p-100 ps-400 tb:px-0 lm:py-200 pe-0 tb:flex-row"},void 0,(0,nX.Z)("div",{className:"ps-400 w-[96px]"},void 0,(0,nX.Z)("img",{src:"/images/illust/pricelock.svg",alt:"price lock illustration"})),(0,nX.Z)("div",{className:"flex flex-col"},void 0,(0,nX.Z)("p",{className:"text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.price_lock.need_more_time_to_decide"})),(0,nX.Z)("p",{className:"text-small text-secondary-foreground font-normal leading-small text-start"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.price_lock.lock_price_72h"}))))),l?(0,ow.jsxs)(ow.Fragment,{children:[lA||(lA=(0,nX.Z)(uk.default,{})),(0,nX.Z)("div",{className:"p-400 pt-300"},void 0,(0,nX.Z)(dB.default,{type:"secondary",size:"normal",fullWidth:!0,href:i},void 0,(0,nX.Z)(ox.Z,{id:"search.result.farelock.button_text",values:{price:t.price.roundedFormattedValue}})))]}):(0,nX.Z)("div",{className:"flex items-center pe-300"},void 0,(0,nX.Z)("div",{className:"me-200 text-extra-large font-bold leading-extra-large"},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,t.price.amount)),lF||(lF=(0,nX.Z)(o6.default,{className:"-my-50 tb:my-0",size:"medium",reverseOnRtl:!0})))))},fw=e=>{let{itinerary:t,isShareURLLoading:i,shareUrl:a,onOpenShareSheet:l}=e,r=(0,os.SK)(),n=(0,n3.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),r(cN,{...(0,sD.j1)(t),shareUrl:a,resultType:"result card"}),l()},[l,r]);return(0,nX.Z)("button",{className:"w-full",onClick:n,disabled:i,"data-test":"ItineraryShareButton",type:"button"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex cursor-pointer items-center justify-between rounded-300 bg-card pe-400 py-100 font-bold shadow-fixed h-[60px]","transition-shadow duration-fast ease-in-out hover:shadow-level2")},void 0,lD||(lD=(0,nX.Z)("div",{className:"flex items-center"},void 0,(0,nX.Z)("div",{className:"ps-500 pe-300 w-[96px]"},void 0,(0,nX.Z)("img",{src:"/images/illust/share.svg",alt:"share"})),(0,nX.Z)("div",{className:"flex flex-col"},void 0,(0,nX.Z)("p",{className:"text-large font-medium leading-large"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.share.title"})),(0,nX.Z)("p",{className:"text-small text-secondary-foreground font-normal leading-small text-start"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.share.subtitle"}))))),lP||(lP=(0,nX.Z)("div",{className:"flex items-center","data-test":"ShareButton"},void 0,(0,nX.Z)(pV.default,{}),(0,nX.Z)("p",{className:"text-normal font-medium leading-normal ms-200"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.button.journey_action.share"}))))))},fC=e=>{let{itinerary:t,onItineraryPreviewClick:i,itineraryRank:a,isRyanairPartnership:l,shouldApplySimplifiedSummaryUI:r,adultPassengersCount:n,passengers:o,benefitsData:s,handlePricelockClick:d,shouldPlaceBookingOptionsAboveItinerarySummary:u,hasModalFooter:c=!1,isShareURLLoading:v,shareUrl:m,onOpenShareSheet:p}=e,f="on"===(0,d3.useTest)("CONNECTION_PROTECTION_FR_VI"),{kiwiBookingOption:g}=(0,ue.gr)(t),{hasSomeBenefits:h,isKiwiGuaranteeAvailable:Z}=s,{shouldShowFarelock:b,farelock:y}=vu(g,l),k=pY({bookingOption:g,passengers:n}),x=vB(t),{isSmallOrMediumMobile:_}=(0,oo.Z)(),w=!_&&x,C=(0,n3.useMemo)(()=>"ItineraryOneWay"===t.__typename?0===(0,vp.ov)(t.sector):"ItineraryReturn"===t.__typename&&0===(0,vp.ov)(t.outbound)&&0===(0,vp.ov)(t.inbound),[]);return(0,ow.jsx)(ow.Fragment,{children:(0,nX.Z)("div",{className:(0,n2.Z)("box-border w-full bg-white-normal px-400 pb-600 pt-400 lm:px-800",(h||Z)&&"pt-600",u&&"border-b border-solid border-b-elevation-flat-border-color bg-white-normal px-400 pb-600 pt-400 last-of-type:border-b-0 lm:rounded-modal",r&&"last:mb-[var(--orbit-modal-footer-height)] lm:pt-600",c?"lm:pb-100":"lm:pb-600")},void 0,(0,nX.Z)("div",{},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex flex-col",r&&"flex-col-reverse")},void 0,r&&!_&&(0,nX.Z)(fw,{itinerary:t,isShareURLLoading:v,shareUrl:m,onOpenShareSheet:p}),r&&b&&k&&(0,nX.Z)(f_,{farelock:y,farelockUrl:k,onPriceLockClick:d}),f&&l&&(0,nX.Z)(fm,{itinerary:t,shouldApplySimplifiedSummaryUI:r,isMobile:_}),l&&(0,nX.Z)(fu,{itinerary:t,shouldApplySimplifiedSummaryUI:r}),(0,nX.Z)("div",{className:"not-last:mb-600 not-first:mb-600"},void 0,(!r||_)&&(_||w)&&(_||u)&&(0,nX.Z)("div",{className:(0,n2.Z)("mb-400 flex items-center")},void 0,lE||(lE=(0,nX.Z)(p_.default,{type:"title1",as:"h1"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.title_preview"})))),C?(0,nX.Z)("div",{"data-test":"ItineraryTripPreviewDetail"},void 0,(0,nX.Z)(pb,{itinerary:t,passengers:o,itineraryRank:a,noSpaceAfter:!0})):(0,nX.Z)(fx,{itinerary:t,onClick:i})))))})},fS=e=>{let{carouselRef:t,data:i,itinerary:a,onClickSideEffect:l,onClose:r,onItineraryPreviewClick:n,onSignInBeforeBookingClick:o,selectedOption:s,responseContainsKayakItinerary:d,isTier1Search:u,itineraryRank:c,isShareURLLoading:v,shareUrl:m,onOpenShareSheet:p,showCustomHeader:f,shouldShowChooseBookingOption:g,isRyanairPartnership:h}=e,Z=(0,os.SK)(),b=(0,sA.s)(),y=(0,n4.v9)(da.D6),{isMobile:k,isSmallOrMediumMobile:x,isTabletOrDesktop:_}=(0,oo.Z)(),w=(0,d3.useFeature)("REDIRECT_FEEDBACK_SURVEY"),C=(0,ue.cK)(a),{hasSomeBenefits:S,isKiwiGuaranteeAvailable:N}=C,{kiwiBookingOption:T,kiwiBasicBookingOption:I,externalBookingOptions:R,numOfBookingOptions:A}=(0,ue.gr)(a),F=null!==T&&null===I&&null===R,D=null===T&&null===I&&(null==R?void 0:R.length)===1,P=vB(a),E=F&&!S&&!N,{totalPrice:L,hasMultiplePassengers:B,passengersCount:K}=cW(a),O=!x,M=A>1&&k||A>2&&_,j=!1,z=(0,n3.useCallback)(e=>{var t,i;if(!!w&&(null==e?void 0:null===(t=e.itineraryProvider)||void 0===t?void 0:t.code)!==d4.zT&&(null==e?void 0:null===(i=e.itineraryProvider)||void 0===i?void 0:i.code)!==d4.bZ)setTimeout(()=>{b("redirectFeedback",{isTier1Search:u,itinerary:a,itineraryRank:c})},1e3)},[w,u,a,c,b]),V=(0,n3.useCallback)(()=>{var e,t,i;let a=document.getElementById("PrebookingBookingOptions"),l=document.querySelector("#PrebookingModal .orbit-modal-wrapper-content");if(x)null==l||l.scrollTo({behavior:"smooth",top:(null!==(e=null==a?void 0:a.getBoundingClientRect().top)&&void 0!==e?e:0)+l.scrollTop-56});else{let e=document.getElementById("PrebookingModal");null==e||e.scrollTo({behavior:"smooth",top:(null!==(t=null==a?void 0:a.getBoundingClientRect().top)&&void 0!==t?t:0)+(null!==(i=null==a?void 0:a.getBoundingClientRect().height)&&void 0!==i?i:0)/2+e.scrollTop-e.getBoundingClientRect().height/2-26})}},[x]),$=(0,n3.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;z(null!=e?e:s)},[z,s]),U=(0,n3.useCallback)(()=>{Z(vr.r7,(0,vd.be)({isTier1Search:u,itinerary:a,itineraryRank:c,searchForm:y}))},[u,a,c,y,Z]);return(0,nX.Z)("div",{className:"lm:rounded-200"},void 0,f&&(0,nX.Z)(pO,{data:i,shareButton:(0,nX.Z)(pU,{shareUrl:m,isShareURLLoading:v,itinerary:a,onOpenShareSheet:p,resultType:"result card"}),handleBackButtonClick:r}),O&&(0,nX.Z)("div",{className:"[&>div]:!mb-0 [&_h2]:leading-[inherit]"},void 0,lK||(lK=(0,nX.Z)(uQ.ModalHeader,{title:(0,nX.Z)(p_.default,{as:"h2",type:"title0",spaceAfter:"none"},void 0,(0,nX.Z)(ox.Z,{id:"search.prebooking.itinerary.title_preview"}))}))),(0,nX.Z)("div",{className:"flex flex-col"},void 0,!1,(0,nX.Z)(fC,{itinerary:a,onItineraryPreviewClick:n,isRyanairPartnership:h,handlePricelockClick:U,benefitsData:C,shouldApplySimplifiedSummaryUI:E,adultPassengersCount:y.passengers.adults,isShareURLLoading:v,shareUrl:m,onOpenShareSheet:p,passengers:y.passengers,itineraryRank:c,shouldPlaceBookingOptionsAboveItinerarySummary:!1,hasModalFooter:!P}),(0,nX.Z)(fn,{carouselRef:t,handlePricelockClick:U,isTier1Search:u,itinerary:a,itineraryRank:c,onClickSideEffect:l,onSignInBeforeBookingClick:o,responseContainsKayakItinerary:d,shouldApplySimplifiedSummaryUI:E,benefitsData:C,handleContinue:$,isHeaderSuppressed:j,shouldShowSwipeAndCompareDescription:M,shouldPlaceBookingOptionsAboveItinerarySummary:!1})),(S||N)&&(0,nX.Z)("div",{className:(0,n2.Z)("px-400 lm:p-800 lm:pb-0 lm:pt-50","py-600 lm:pt-600")},void 0,!x&&(0,nX.Z)("div",{className:N?"mb-800":""},void 0,(0,nX.Z)(fw,{itinerary:a,isShareURLLoading:v,shareUrl:m,onOpenShareSheet:p})),N&&(lO||(lO=(0,nX.Z)(pz,{})))),!x&&!(S||N)&&!E&&(0,nX.Z)("div",{className:"px-800 pt-600 "},void 0,(0,nX.Z)(fw,{itinerary:a,isShareURLLoading:v,shareUrl:m,onOpenShareSheet:p})),(!P||g)&&(0,nX.Z)(uQ.ModalFooter,{},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("w-full lm:flex",E?"flex items-center justify-between lm:justify-end":"lm:justify-between")},void 0,g&&!E?(0,nX.Z)(dB.default,{onClick:V,fullWidth:!0},void 0,lM||(lM=(0,nX.Z)(ox.Z,{id:"search.prebooking.options.choose.cta"}))):(0,ow.jsxs)(ow.Fragment,{children:[E&&(0,nX.Z)("div",{className:"me-400 text-extra-large font-bold leading-normal lm:text-end"},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,L),B&&(0,nX.Z)(vX,{passengersCount:K})),(0,nX.Z)(v$,{bookingOption:s,customTranslation:lj||(lj=(0,nX.Z)(ox.Z,{id:"common.continue"})),dataTest:"ContinueButton",fullWidth:!E,hidePrice:!0,isItineraryResult:!0,isPrebookingRedirect:!0,isTier1Search:u,itinerary:a,itineraryRank:c,onClickSideEffect:l,onPrebookingContinue:$,onSignInBeforeBookingClick:o,responseContainsKayakItinerary:d,resultType:"detail",size:"normal"})]}))))},fN=()=>{let{isSmallOrMediumMobile:e}=(0,oo.Z)(),[t,i]=(0,n3.useState)("prebooking"),a="itinerary"===t;return{isItineraryView:a,isPrebookingView:"prebooking"===t,shouldShowItineraryFooter:e,showItinerary:()=>i("itinerary"),showPrebooking:()=>i("prebooking"),hasCloseButton:!a}},fT=e=>{var t;let{data:i,itinerary:a,passengers:l,responseContainsKayakItinerary:r,isShareURLLoading:n,shareUrl:o,onOpenShareSheet:s,isTier1Search:d,itineraryRank:u,extendedTrackingMetadata:c,onClickSideEffect:v,onClose:m,onSignInBeforeBookingClick:p}=e,{formatMessage:f}=(0,dU.Z)(),{ref:g,entry:h,observer:Z}=(0,de.default)({threshold:.5}),[b,y]=(0,n3.useState)(!1),k=(0,v0.Z)(),x=(0,os.SK)(),_=(0,n4.v9)(da.D6),{isItineraryView:w,isPrebookingView:C,shouldShowItineraryFooter:S,showItinerary:N,showPrebooking:T,hasCloseButton:I}=fN(),R=vB(a),A=(0,ue.Y3)(a),F=R?null:null!==(t=A[0])&&void 0!==t?t:null,{isSmallOrMediumMobile:D}=(0,oo.Z)(),P=C&&D,E=u$(a),L=(0,ue.kg)(a)||(0,ue.ad)(a),B=v2({itinerary:a,itineraryRank:u,isTier1Search:d});!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="on"===(0,d3.useTest)("BOOKING_PREFETCH");(0,n3.useEffect)(()=>{if(!!t&&(!v1||!!e))v1=!0,(async()=>{try{var e;let t=await fetch("/api/booking/static-assets/").then(e=>e.json());null===(e=t.booking)||void 0===e||e.forEach(e=>{let t=e.startsWith("https://")?`https://${e.slice(8).split("/").map(encodeURIComponent).join("/")}`:e.split("/").map(encodeURIComponent).join("/");if(!function(e){try{return e.startsWith("https://static.kiwi.com/")||e.startsWith("https://images.kiwi.com/")||e.startsWith("/")}catch(e){return!1}}(t))return;let i=document.createElement("link");i.rel="prefetch",i.href=t,document.head.appendChild(i)})}catch(e){}})().catch(()=>null)},[t,e])}();let K=(0,n3.useCallback)(()=>{x(vr.YV,{isPageUnload:!0,...(0,vd.be)({isTier1Search:d,itinerary:a,itineraryRank:u,searchForm:_})})},[d,a,u,_,x]);return(0,n3.useEffect)(()=>{let e=(0,vd.be)({isTier1Search:d,itinerary:a,itineraryRank:u,searchForm:_,extendedTrackingMetadata:c});return null!==k&&L&&x(vr.Iu,{isEligible:!!a.isAirBaggageBundleEligible,...e}),B(),x(vr.g_,{...e}),window.addEventListener("beforeunload",K),()=>{x(vr.YV,(0,vd.be)({isTier1Search:d,itinerary:a,itineraryRank:u,searchForm:_})),window.removeEventListener("beforeunload",K),null==Z||Z.disconnect()}},[]),(0,n3.useEffect)(()=>{var e;null!=h&&h.isIntersecting?y(!1):(null!==(e=null==h?void 0:h.boundingClientRect.top)&&void 0!==e?e:0)>0&&y(!0)},[h,null==h?void 0:h.isIntersecting,null==h?void 0:h.target,Z]),(0,nX.Z)(uJ.default,{},void 0,(0,nX.Z)(uQ.default,{id:"PrebookingModal",onClose:m,labelClose:f({id:"orbit.button_close"}),hasCloseButton:I,disableAnimation:!0,isMobileFullPage:C,fixedFooter:!R||w||b,size:"normal",dataTest:"PrebookingModal",mobileHeader:!P},void 0,C&&(0,nX.Z)(fS,{carouselRef:g,data:i,itinerary:a,onItineraryPreviewClick:N,onClose:m,selectedOption:F,isShareURLLoading:n,shareUrl:o,onOpenShareSheet:s,responseContainsKayakItinerary:r,isTier1Search:d,itineraryRank:u,onClickSideEffect:v,onSignInBeforeBookingClick:p,showCustomHeader:P,shouldShowChooseBookingOption:b,isRyanairPartnership:E}),w&&(0,nX.Z)(pD,{isTier1Search:d,itinerary:a,itineraryRank:u,passengers:l,shouldShowFooter:S,onBackButtonClick:T})))},fI=e=>{var t,i,a;let{farelock:l,farelockEur:r,fullWidth:n,farelockUrl:o,passengers:s,isTier1Search:d,itinerary:u,isMobile:c,track:v,category:m,size:p}=e,f=(0,n4.v9)(s0.Oy),g=(0,n4.v9)(sz.Mq),h=(0,cO.useIsLoggedIn)(),Z=null==r?void 0:null===(t=r.price)||void 0===t?void 0:t.amount,b=null==l?void 0:null===(i=l.price)||void 0===i?void 0:i.amount;(0,n3.useEffect)(()=>{var e;v(cV,{itineraryId:u.id,travellersCount:s,provider:null===(e=u.provider)||void 0===e?void 0:e.code,category:m,isMobile:c,isLoggedIn:h})},[]);let y=(0,n3.useCallback)(e=>{var t,i,a;e.stopPropagation(),v(c$,{itineraryId:u.id,travellersCount:s,provider:null===(t=u.provider)||void 0===t?void 0:t.code,category:m,isMobile:c,isLoggedIn:h,tierMarketing:d?1:0});let l={VI:null!==(i=null===(a=u.travelHack)||void 0===a?void 0:a.isVirtualInterlining)&&void 0!==i&&i,price:Number((0,ue.nX)(u)),priceInCurrency:Number((0,ue.i$)(u)),farelockPrice:Z,farelockPriceInCurrency:b,...(0,cE._)(f)};s2.Z.track("search","farelockClick",l)},[m,Z,b,c,d,u,s,f,v]);return(0,nX.Z)("div",{onClick:y},void 0,(0,nX.Z)(dB.default,{dataTest:"FarelockButton",href:g||(0,cM.isSafeToLeave)()?o:"#",type:"primarySubtle",size:p,fullWidth:n,rel:"nofollow"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.farelock.button_text",values:{price:null==l?void 0:null===(a=l.price)||void 0===a?void 0:a.roundedFormattedValue}})))},fR=e=>{let{farelock:t,farelockEur:i,kiwiBookingOption:a,isTier1Search:l,itinerary:r,passengers:n,track:o,fullWidth:s=!0,size:d="normal"}=e,u=(0,n4.v9)(sL.DD),{isMobile:c}=(0,oo.Z)(),v="3_days",m=pY({bookingOption:a,passengers:n.adults,category:v});return u&&a&&t&&i&&m?(0,nX.Z)(fI,{farelock:t,farelockEur:i,farelockUrl:m,fullWidth:s,passengers:n.adults,track:o,isTier1Search:l,itinerary:r,isMobile:c,category:v,size:d}):null},fA=e=>{let{className:t=""}=e,i="M5.168.03a.494.494 0 0 0-.34 0L.312 1.688a.474.474 0 0 0-.314.444v4.815c0 1.27 1.265 2.424 2.423 3.416a12.715 12.715 0 0 0 2.301 1.557l.043.022.011.005.004.002s.002.001.218-.422l-.217.423a.495.495 0 0 0 .433 0l-.216-.423.216.423h.002l.004-.002.012-.006.042-.022.152-.08a12.715 12.715 0 0 0 2.148-1.476c1.159-.993 2.424-2.148 2.424-3.417V2.132a.474.474 0 0 0-.314-.444L5.168.03Z";return(0,nX.Z)("svg",{className:t,width:"10",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-test":"GuaranteeIcon"},void 0,(0,nX.Z)("path",{d:i,fill:"#007A69"}),(0,nX.Z)("path",{d:i,fill:"url(#a)",fillOpacity:".1"}),lz||(lz=(0,nX.Z)("defs",{},void 0,(0,nX.Z)("linearGradient",{id:"a",x1:".159",y1:"4.737",x2:"9.837",y2:"4.737",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopOpacity:"0"}),(0,nX.Z)("stop",{offset:"1"})))))},fF=e=>{let{label:t}=e;return(0,nX.Z)("strong",{className:"text-small font-medium text-product-dark"},void 0,lV||(lV=(0,nX.Z)(fA,{className:"me-100 inline -translate-y-px"})),t)},fD=e=>{let{className:t="",price:i}=e;return(0,nX.Z)("strong",{className:`text-extra-large font-bold leading-extra-large text-product-dark ${t}`,"data-test":"GuaranteeSurcharge"},void 0,i)},fP=e=>{let{guaranteeFee:t}=e;return(0,nX.Z)("p",{className:"-mx-400 -mt-300 mb-200 flex items-center justify-between gap-400 border-b-card border-dashed bg-guarantee-section bg-clip-padding px-400 py-200 leading-small lm:mx-0 lm:mb-300 lm:mt-0 lm:flex-col-reverse lm:gap-0 lm:border-0 lm:bg-none lm:p-0"},void 0,l$||(l$=(0,nX.Z)(fF,{label:(0,nX.Z)(ox.Z,{id:"search.result.guarantee_available"})})),(null==t?void 0:t.roundedAmount)!=null&&(0,nX.Z)(fD,{className:"text-end lm:-mb-100 lm:block lm:text-center",price:(0,nX.Z)(ox.Z,{id:"search.result.guarantee_price",values:{price:(0,nX.Z)(si.Z,{maxSize:99},void 0,t.roundedAmount)}})}))},fE=e=>{let{baggageBreakdownBadge:t,passengersCount:i,priceBeforeDiscount:a,price:l}=e,{hasMultiplePassengers:r}=cH();return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:"-mt-150 mb-100"},void 0,t),(0,nX.Z)("div",{className:"-mx-400 -mb-400 flex items-center justify-between gap-400 border-t-card border-dashed bg-guarantee-section bg-clip-padding px-400 pb-300 pt-200 leading-small text-product-dark"},void 0,lU||(lU=(0,nX.Z)(fF,{label:(0,nX.Z)(ox.Z,{id:"search.result.guarantee_included"})})),(0,nX.Z)("div",{className:"text-end"},void 0,(0,nX.Z)("div",{"data-test":"ResultCardPrice"},void 0,null!==a&&(0,nX.Z)("s",{className:(0,n2.Z)("leading-normal text-ink-light lm:text-small lm:leading-small")},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,a)),(0,nX.Z)("div",{className:"whitespace-nowrap text-heading-title2 font-heading-title2 leading-large"},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,l))),r&&(0,nX.Z)(vX,{passengersCount:i})))]})};var fL=i("46408"),fB=i.n(fL),fK=i("5048"),fO=i("81978"),fM=i("80052"),fj=i("94379"),fz=i("17716"),fV=i("14892"),f$=i("1460"),fU=i("64476");let fG=e=>{let{place:t}=e,i=(null==t?void 0:t.type)!==d8.bV.AIRPORT;return t?(0,nX.Z)("span",{className:"overflow-hidden text-ellipsis"},void 0,!i&&(0,nX.Z)("span",{className:"inline lm:hidden"},void 0,t.code),(0,nX.Z)("span",{className:(0,n2.Z)(i?"inline":"hidden lm:inline")},void 0,(0,sa.zF)(t))):null},fH=e=>{let{airlines:t}=e,i=t.slice(0,4).map(e=>{var t,i;return{code:null!==(t=e.code)&&void 0!==t?t:"",name:null!==(i=e.name)&&void 0!==i?i:"",type:"airline"}});return(0,nX.Z)("div",{className:"me-200 mm:me-300 mm:ms-100"},void 0,(0,nX.Z)(fs.default,{carriers:i}))},fW=e=>{let{children:t,airline:i=!1,...a}=e;return(0,ow.jsx)("div",{className:(0,n2.Z)("relative max-w-[calc(100%/3)] whitespace-nowrap pt-600 not-last:me-400 mm:not-last:me-600",i&&"flex"),...a,children:t})},fq=e=>{switch(e){case 0:return lG||(lG=(0,nX.Z)(fV.default,{}));case 1:return lH||(lH=(0,nX.Z)(f$.default,{}));default:return lW||(lW=(0,nX.Z)(fU.default,{}))}},fQ=e=>{var t;let{sector:i}=e,a=vp.FL(i),l=a.map(e=>e.name).join(", "),r=fq(vp.ov(i)),n=vp.TH(i),o=vp.x9(i),s=(0,sa.sG)(null==n?void 0:n.localTime),d=(0,sa.sG)(null==o?void 0:o.localTime);return(0,nX.Z)("div",{className:"relative flex w-full pb-600"},void 0,(0,nX.Z)(fW,{airline:!0,"data-test":"TripInfoField-airlineField"},void 0,(0,nX.Z)("div",{},void 0,(0,nX.Z)(fH,{airlines:a})),(0,nX.Z)("div",{className:"hidden overflow-hidden text-ellipsis whitespace-nowrap text-secondary-foreground mm:block","data-test":"AirlineNames"},void 0,l)),(0,nX.Z)(fW,{},void 0,(0,nX.Z)("div",{className:"mb-100 flex items-center overflow-hidden text-ellipsis whitespace-nowrap font-medium"},void 0,(0,nX.Z)(ma,{value:s,formatKeys:"timeFormat"}),lq||(lq=(0,nX.Z)(fz.default,{size:"small"})),(0,nX.Z)(ma,{value:d,formatKeys:"timeFormat"})),(0,nX.Z)(ok.default,{size:"small"},void 0,(0,nX.Z)(ma,{value:s,formatKeys:"dateFormat"}))),(0,nX.Z)(fW,{},void 0,(0,nX.Z)(fj.default,{},void 0,(0,nX.Z)("div",{className:"flex items-center","data-test":"TripInfoField-flight-duration"},void 0,(0,nX.Z)(mU.Z,{value:(null!==(t=i.duration)&&void 0!==t?t:0)*1e3})),(0,nX.Z)("div",{className:"flex max-w-full items-center pt-100 text-small text-secondary-foreground lm:max-w-[calc(100vw-405px)] [&>*]:me-100"},void 0,(0,nX.Z)(fG,{place:null==n?void 0:n.station}),r,(0,nX.Z)(fG,{place:null==o?void 0:o.station})))))},fJ=e=>{let{handleCancel:t,handleConfirm:i,sector:a}=e,{formatMessage:l}=(0,dU.Z)();return(0,nX.Z)(uJ.default,{},void 0,(0,nX.Z)(uQ.default,{onClose:t,dataTest:"LockSectorModal",labelClose:l({id:"orbit.button_close"})},void 0,(0,nX.Z)(uQ.ModalSection,{},void 0,lQ||(lQ=(0,nX.Z)(p_.default,{as:"h2",type:"title2"},void 0,(0,nX.Z)(ox.Z,{id:"search.results.lock_confirm_title"}))),lJ||(lJ=(0,nX.Z)(ok.default,{},void 0,(0,nX.Z)(ox.Z,{id:"search.results.lock_confirm_text"}))),(0,nX.Z)(fQ,{sector:a}),(0,nX.Z)(dB.default,{fullWidth:!0,onClick:i},void 0,lY||(lY=(0,nX.Z)(ox.Z,{id:"search.results.update_results"}))))))};var fY=i("78291");let fX=function(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i?null!=e?e:"":null!==(t=null==e?void 0:e.split("~")[0])&&void 0!==t?t:""},f0=(0,fM.Z)(e=>{let{sector:t,sectorIndex:i,setFilter:a}=e,l=(0,os.SK)(),{isOpened:r,open:n,close:o}=(0,uy.S)(),s=(0,n4.v9)(s0.Oy),d=(0,oW.iJ)(s),u=d===oW.xd.multicity,c=d===oW.xd.return||u,v=(0,n4.v9)(u5.Hu),m=(0,n4.v9)(e=>(0,fY.rh)(e).get("lockedSectors")),p=0===i?lX||(lX=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.lock_info_departure"})):l0||(l0=(0,nX.Z)(ox.Z,{id:"search.results.tooltips.lock_info_return"})),f=m.isSectorLocked(fX(t.id,u))||r,g=(0,n3.useCallback)(()=>{l(oU.jI,{...(0,sD.y_)(t),type:"toggleLock"}),a("lockedSectors",m.toggleSector(fX(t.id,u)))},[l,t,a,m,u]),h=(0,n3.useCallback)(e=>{e.stopPropagation(),v&&!m.isSet()?(n(),l(oU.jI,{...(0,sD.y_)(t),type:"showModal"}),window.history.pushState({},"","#sectorLockModal")):g()},[v,m,t,n,g,l]),Z=(0,n3.useCallback)(e=>{e.stopPropagation(),o(),g()},[o,g]),b=(0,n3.useCallback)(e=>{e.stopPropagation(),o(),l(oU.jI,{...(0,sD.y_)(t),type:"modalCancel"}),v&&window.history.back()},[o,t,l]);return c?(0,nX.Z)(ug,{content:p,name:"lock segment"},void 0,(0,nX.Z)("div",{className:"-mr-150 -mt-150"},void 0,(0,nX.Z)(uh.default,{iconLeft:f?l1||(l1=(0,nX.Z)(fK.default,{className:"!h-500 !w-500 text-blue-normal"})):l2||(l2=(0,nX.Z)(fO.default,{color:"secondary",className:"!h-500 !w-500"})),onClick:h,type:"secondary",title:"Lock sector",size:"small",dataTest:"LockButton"})),r&&(0,nX.Z)(fJ,{handleCancel:b,handleConfirm:Z,sector:t})):null}),f1=e=>{let{sector:t}=e,i=vp.FL(t),a=i.length>3,l=a?i.slice(0,2):i,r=a?n3.Fragment:ug;return(0,ow.jsxs)(ow.Fragment,{children:[l.map(e=>{let{code:t,name:i}=e;return t&&null!=i&&(0,nX.Z)("div",{className:"m-0 me-100 rounded-150 border border-solid border-cloud-light bg-white-normal not-first:-ms-300 [&_img]:rounded-150"},t,(0,nX.Z)(r,{content:i,name:"carrier"},void 0,(0,nX.Z)(fs.default,{dataTest:"ResultCardCarrierLogo",size:"large",carriers:[{code:t,name:i}]})))}),a&&(0,nX.Z)("div",{className:"m-0 -ms-300 me-100 flex w-[26px] items-center justify-center rounded-150 bg-cloud-light text-small font-medium leading-small"},"group-carriers","+",i.length-3+1)]})},f2=e=>{let{children:t,isDifferentStationHovered:i=!1}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("flex-grow overflow-hidden text-ellipsis whitespace-nowrap text-large font-normal text-ink-dark",i&&"!text-orange-normal"),"data-test":"stationName"},void 0,t)},f3=e=>{var t,i,a,l;let{stop:r,isReturn:n,shouldHideCityName:o,isDepartingFromDifferentStation:s=!1,isReturningToDifferentStation:d=!1,isDifferentDepartureHovered:u=!1,isDifferentArrivalHovered:c=!1,onMouseOver:v,content:m}=e,p=n&&(s||d),f=p&&(s&&u||d&&c),g=(0,n3.useCallback)(()=>{var e,t,i;if((null==r?void 0:null===(e=r.station)||void 0===e?void 0:e.type)===d8.bV.AIRPORT){let e=`${r.station.code}`;return(0,nX.Z)(f2,{isDifferentStationHovered:f},void 0,e)}return(0,nX.Z)(f2,{isDifferentStationHovered:f},void 0,null==r?void 0:null===(t=r.station)||void 0===t?void 0:null===(i=t.city)||void 0===i?void 0:i.name)},[f,null==r?void 0:null===(t=r.station)||void 0===t?void 0:null===(i=t.city)||void 0===i?void 0:i.name,null==r?void 0:null===(a=r.station)||void 0===a?void 0:a.code,null==r?void 0:null===(l=r.station)||void 0===l?void 0:l.type]);return(0,nX.Z)("div",{"data-test":p?"DifferentAirportStation":"ResultCardStopPlace",className:(0,n2.Z)("w-full whitespace-nowrap lm:flex",o&&"flex")},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex w-full min-w-0 items-center lm:mt-0",o?"font-medium":"mt-50 text-secondary-foreground",p&&"border-0 border-b border-dashed",f&&"!text-orange-normal"),onTouchStart:p?d$()(v,null,!0,s):of.Z,onTouchEnd:p?d$()(v,null,!1,s):of.Z,onMouseEnter:p?d$()(v,null,!0,s):of.Z,onMouseLeave:p?d$()(v,null,!1,s):of.Z},void 0,(0,nX.Z)(ug,{name:"different departure/arrival station",content:m,isEnabled:!1,isEnabledOnMobile:!0},void 0,(0,nX.Z)(g,{}))))},f4=e=>{let{children:t,...i}=e;return(0,ow.jsx)("div",{"data-test":"TripTimestamp",className:"font-medium leading-text",...i,children:t})},f5=(e,t,i)=>{if(null!=i){let a=(0,vP.WU)(i,"E, dd.LL",{locale:e});if(t>1)return(0,nX.Z)(ox.Z,{id:"search.result.next_day_arrival_multi_with_date",values:{days:t,date:a}});if(t>0)return(0,nX.Z)(ox.Z,{id:"search.result.next_day_arrival_with_date",values:{date:a}})}return l3||(l3=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.alert.arriving_different_day.flight_only"}))},f9=e=>{let{differentDayArrival:t,time:i}=e,{locale:a}=(0,n3.useContext)(me.ZP);if(0===t)return null;let l=t>0?`+${t}`:t;return(0,nX.Z)(ug,{content:f5(a,t,i),name:"next day arrival",isBlock:!1,isEnabledOnMobile:!0},void 0,(0,nX.Z)("div",{className:"flex border-0 border-b border-dashed border-ink-normal text-extra-large font-bold leading-extra-large"},void 0,i&&(0,nX.Z)(f4,{},void 0,(0,nX.Z)(ma,{formatKeys:"timeFormat",value:i})),(0,nX.Z)("sup",{className:"-top-50 ps-px text-small font-medium leading-normal text-ink-normal"},void 0,l)))},f6=()=>l4||(l4=(0,nX.Z)("hr",{className:"mb-200 mt-0 border-0 border-t-card border-dashed"})),f7=(0,o7.defineMessages)({direct:{id:"result.direct"},stop:{id:"result.stop.with_cities"},stopChangeAirport:{id:"search.result.stop.with_cities.change_airport"},stops:{id:"result.stops.with_cities"},stopsChangeAirport:{id:"search.result.stops.with_cities.change_airport"}}),f8=(e,t)=>{let i=!!(null==t?void 0:t.isDifferentStation);return e?1===e&&i?f7.stopChangeAirport:1===e?f7.stop:e>1&&i?f7.stopsChangeAirport:f7.stops:f7.direct},ge=e=>e?e.type===d8.bV.AIRPORT&&null!=e.code?`${e.name} (${e.code})`:e.name:null,gt=(e,t,i)=>{var a,l,r,n,o,s,d,u,c,v,m,p,f;if(!(null!=e&&null!==(a=e.layover)&&void 0!==a&&a.duration))return null;let g=i[t-1],h=1e3*e.layover.duration,Z=t===i.length-1,b=(null==g?void 0:null===(l=g.segment)||void 0===l?void 0:null===(r=l.destination)||void 0===r?void 0:null===(n=r.station)||void 0===n?void 0:n.id)!==(null===(o=e.segment)||void 0===o?void 0:null===(s=o.source)||void 0===s?void 0:null===(d=s.station)||void 0===d?void 0:d.id);return(0,nX.Z)(n3.Fragment,{},t,ut.BI(g,e)?(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.info.technical_stop.title",values:{time:(0,nX.Z)(mU.Z,{value:h})}}):(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.layover",values:{time:(0,nX.Z)(mU.Z,{value:h})}})," ∙ ",b?(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.self_transfer.layover",values:{fromStationName:ge(null==g?void 0:null===(u=g.segment)||void 0===u?void 0:null===(c=u.destination)||void 0===c?void 0:c.station),toStationName:ge(null===(v=e.segment)||void 0===v?void 0:null===(m=v.source)||void 0===m?void 0:m.station)}}):ge(null===(p=e.segment)||void 0===p?void 0:null===(f=p.source)||void 0===f?void 0:f.station),!Z&&(l5||(l5=(0,nX.Z)("div",{className:"my-100 border-0 border-b border-solid border-elevation-flat-border-color opacity-[0.15]"}))))},gi=(e,t)=>e===d8.bV.AIRPORT&&t===d8.bV.AIRPORT?"airport":"place",ga=e=>{let{sector:t}=e,{sectorSegments:i}=t,a=null==i?void 0:i.map((e,t)=>{var a,l,r,n,o,s,d,u,c,v,m,p;let f=i[t-1],g=f?(null===(a=f.segment)||void 0===a?void 0:null===(l=a.destination)||void 0===l?void 0:null===(r=l.station)||void 0===r?void 0:r.id)!==(null==e?void 0:null===(n=e.segment)||void 0===n?void 0:null===(o=n.source)||void 0===o?void 0:null===(s=o.station)||void 0===s?void 0:s.id):null;return{isDifferentStation:g,type:f?gi(null===(d=f.segment)||void 0===d?void 0:null===(u=d.destination)||void 0===u?void 0:null===(c=u.station)||void 0===c?void 0:c.type,null==e?void 0:null===(v=e.segment)||void 0===v?void 0:null===(m=v.source)||void 0===m?void 0:null===(p=m.station)||void 0===p?void 0:p.type):null}}),l=vp.ov(t),r=l>0,n=i?i.map((e,t)=>gt(e,t,i)).filter(Boolean):null,o=null==i?void 0:i.map(e=>{var t,i,a,l;return null==e?void 0:null===(t=e.segment)||void 0===t?void 0:null===(i=t.source)||void 0===i?void 0:null===(a=i.station)||void 0===a?void 0:null===(l=a.city)||void 0===l?void 0:l.name}).slice(1),s=null==a?void 0:a.find(e=>e.isDifferentStation);return(0,nX.Z)(ug,{content:n,placement:"bottom",name:s?"stops change station":"stops",isEnabled:r},void 0,(0,nX.Z)("p",{"data-test":`StopCountBadge-${l}`,className:(0,n2.Z)("text-center text-small font-medium text-ink-dark",r&&"truncate font-normal text-ink-normal tb:underline tb:decoration-ink-light tb:decoration-dotted tb:underline-offset-1")},void 0,(0,ow.jsx)(ox.Z,{...f8(l,s),values:{stopCount:l,stopoverCities:null==o?void 0:o.join(", ")}})))},gl=(e,t)=>e===d8.bV.AIRPORT&&t===d8.bV.AIRPORT?l9||(l9=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.self_transfer.warning.different_airports"},"different_airports")):l6||(l6=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.self_transfer.warning.different_places"},"different_places")),gr=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x,_,w;let{itinerary:C,highlightSingleSector:S,unhighlightSingleSector:N,isReturn:T}=e,[I,R]=(0,n3.useState)(!1),[A,F]=(0,n3.useState)(!1),{origin:D,destination:P,outboundDate:E,inboundDate:L}=(0,n4.v9)(s0.Oy),{isMobileOrTablet:B,isMobile:K}=(0,oo.Z)(),O=ue.gd(C),M=ue.tT(C),j=ut.th(vm()(M),fB()(M)),z=ut.th(vm()(null!==(t=null===(i=fB()(O))||void 0===i?void 0:i.sectorSegments)&&void 0!==t?t:[]),fB()(null!==(a=null===(l=vm()(O))||void 0===l?void 0:l.sectorSegments)&&void 0!==a?a:[])),V=null===(r=fB()(M))||void 0===r?void 0:null===(n=r.segment)||void 0===n?void 0:null===(o=n.source)||void 0===o?void 0:null===(s=o.station)||void 0===s?void 0:s.type,$=null===(d=vm()(M))||void 0===d?void 0:null===(u=d.segment)||void 0===u?void 0:null===(c=u.destination)||void 0===c?void 0:null===(v=c.station)||void 0===v?void 0:v.type,U=null===(m=vm()(null!==(h=null===(Z=fB()(O))||void 0===Z?void 0:Z.sectorSegments)&&void 0!==h?h:[]))||void 0===m?void 0:null===(p=m.segment)||void 0===p?void 0:null===(f=p.destination)||void 0===f?void 0:null===(g=f.station)||void 0===g?void 0:g.type,G=null===(b=fB()(null!==(_=null===(w=vm()(O))||void 0===w?void 0:w.sectorSegments)&&void 0!==_?_:[]))||void 0===b?void 0:null===(y=b.segment)||void 0===y?void 0:null===(k=y.source)||void 0===k?void 0:null===(x=k.station)||void 0===x?void 0:x.type,H=(0,dy.Gg)(D)&&(0,dy.Gg)(P),W=(0,oH.Ls)(E),q=(0,oH.Ls)(L),Q=T?W&&q:W,J=(0,n3.useCallback)((e,t)=>{t?R(e):F(e)},[]);return(0,ow.jsx)(ow.Fragment,{children:O.map((e,t)=>{var i,a,l,r,n,o,s,d,u,c,v,m,p,f,g;if(!e)return null;let h=0===t,Z=vp.TH(e),b=vp.x9(e),y=(0,sa.sG)(null==Z?void 0:Z.localTime),k=(0,sa.sG)(null==b?void 0:b.localTime),x=ue.Mb(C,t),_=(0,mC.pD)((null!==(i=null==x?void 0:x.duration)&&void 0!==i?i:0)*6e4),w=(0,ua.we)(y,k),R=!h&&z,F=!!h&&j,D=!!h&&z,P=!h&&j,E=h?gl($,V):gl(U,G),L=h?gl(U,G):gl($,V),O=e=>{var t,i,a,l;return`${null==e?void 0:null===(t=e.station)||void 0===t?void 0:null===(i=t.city)||void 0===i?void 0:i.name}, ${null==e?void 0:null===(a=e.station)||void 0===a?void 0:a.name} (${null==e?void 0:null===(l=e.station)||void 0===l?void 0:l.code})`},M=(null==x?void 0:x.nightsCount)===1?(0,nX.Z)(ox.Z,{id:"result.night_in_destination",values:{place:null!==(a=null==x?void 0:null===(l=x.arrival)||void 0===l?void 0:null===(r=l.city)||void 0===r?void 0:r.name)&&void 0!==a?a:""}}):(0,nX.Z)(ox.Z,{id:"result.nights_in_destination",values:{nights:null!==(n=null==x?void 0:x.nightsCount)&&void 0!==n?n:0,place:null!==(o=null==x?void 0:null===(s=x.arrival)||void 0===s?void 0:null===(d=s.city)||void 0===d?void 0:d.name)&&void 0!==o?o:""}});return(0,nX.Z)("div",{"data-test":"ResultCardSectorWrapper",className:"flex flex-grow flex-col justify-center",onMouseEnter:S&&d$()(S,null,e,t),onMouseLeave:N},e.id,(0,nX.Z)("div",{className:"px-400 py-300 de:p-300"},void 0,(0,nX.Z)("div",{className:"mb-50 flex justify-between"},void 0,(0,nX.Z)("div",{className:"flex"},void 0,!Q&&(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("p",{"data-test":"ResultCardSectorDepartureDate",className:"mb-100 text-small text-secondary-foreground"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:y})),T&&(l7||(l7=(0,nX.Z)("div",{className:"flex text-ink-normal"},void 0,(0,nX.Z)("span",{className:"mx-200 text-[6px] leading-normal"},void 0,"•"))))]}),T&&(0,nX.Z)("p",{className:"text-small text-ink-normal"},void 0,h?l8||(l8=(0,nX.Z)(ox.Z,{id:"search.results.result_card.direction.outbound"})):re||(re=(0,nX.Z)(ox.Z,{id:"search.results.result_card.direction.inbound"})))),(0,nX.Z)(f0,{sector:e,sectorIndex:t})),(0,nX.Z)("div",{className:"flex flex-col"},void 0,(0,nX.Z)("div",{className:"flex w-full items-center justify-between"},void 0,(0,nX.Z)("span",{className:"max-w-[25%]"},void 0,(0,nX.Z)(f4,{className:"text-extra-large font-medium leading-extra-large"},void 0,(0,nX.Z)(ma,{formatKeys:"timeFormat",value:y}))),rt||(rt=(0,nX.Z)("div",{className:"flex flex-1"},void 0,(0,nX.Z)("hr",{className:"mx-200 h-50 flex-grow border-none bg-cloud-normal max-[375px]:mx-100"}))),(0,nX.Z)("div",{className:"flex flex-wrap items-center justify-center gap-y-100"},void 0,(0,nX.Z)("div",{className:"flex me-100"},void 0,(0,nX.Z)(dG.default,{type:"neutral"},void 0,(0,nX.Z)(mU.Z,{value:vp.g9(e)}))),(0,nX.Z)("div",{className:"flex"},void 0,(0,nX.Z)(f1,{sector:e}))),ri||(ri=(0,nX.Z)("div",{className:"flex flex-1"},void 0,(0,nX.Z)("hr",{className:"mx-200 h-50 flex-grow border-none bg-cloud-normal max-[375px]:mx-100"}))),(0,nX.Z)("span",{className:"max-w-[25%]"},void 0,(0,ow.jsxs)(ow.Fragment,{children:[!w&&(0,nX.Z)(f4,{className:"text-extra-large font-medium leading-extra-large"},void 0,(0,nX.Z)(ma,{formatKeys:"timeFormat",value:k})),(0,nX.Z)(f9,{time:k,differentDayArrival:w})]}))),(0,nX.Z)("div",{className:"w-full items-center grid grid-cols-[1fr_auto_1fr] gap-400 pb-100 pt-100"},void 0,(0,nX.Z)("div",{},void 0,(0,nX.Z)(uf.default,{placement:"bottom",size:"medium",stopPropagation:B,enabled:!K||T&&(R||F),content:[!K&&O(Z),(R||F)&&T&&[E]].map((e,t)=>(0,nX.Z)("div",{},`TooltipContent-${t}`,(R||F)&&T&&e&&"• ",e))},void 0,(0,nX.Z)("div",{className:"flex w-full"},void 0,(0,nX.Z)(f3,{stop:Z,shouldHideCityName:H,isReturn:T,isDepartingFromDifferentStation:R,isReturningToDifferentStation:F,isDifferentDepartureHovered:I,isDifferentArrivalHovered:A,onMouseOver:J}),T&&(R||F)&&(ra||(ra=(0,nX.Z)("div",{className:"flex items-center ltr:pl-100 rtl:pr-100"},void 0,(0,nX.Z)(mh.default,{size:"small",color:"warning"}))))))),(0,nX.Z)(ga,{sector:e}),(0,nX.Z)("div",{className:"text-end"},void 0,(0,nX.Z)(uf.default,{placement:"bottom",size:"medium",stopPropagation:B,enabled:!K||T&&(D||P),content:[!K&&O(b),(D||P)&&T&&[L]].map((e,t)=>(0,nX.Z)("div",{},`TooltipContent-${t}`,(D||P)&&T&&e&&"• ",e))},void 0,(0,nX.Z)("div",{className:"flex w-full justify-end"},void 0,T&&(D||P)&&(rl||(rl=(0,nX.Z)("div",{className:"flex items-center ltr:pr-100 rtl:pl-100"},void 0,(0,nX.Z)(mh.default,{size:"small",color:"warning"})))),(0,nX.Z)(f3,{stop:b,shouldHideCityName:H,isReturn:T,isDepartingFromDifferentStation:D,isReturningToDifferentStation:P,isDifferentDepartureHovered:I,isDifferentArrivalHovered:A,onMouseOver:J}))))))),x&&(0,nX.Z)("div",{className:(0,n2.Z)("relative",!Q&&"mt-300")},void 0,Q?rr||(rr=(0,nX.Z)(f6,{})):(0,ow.jsxs)(ow.Fragment,{children:[rn||(rn=(0,nX.Z)(f6,{})),(0,nX.Z)("div",{className:"absolute -top-full left-1/2 flex w-full -translate-x-1/2 -translate-y-50 justify-center text-small font-medium"},void 0,(0,nX.Z)("div",{className:"rounded-full border-card border-solid bg-white-normal px-200 py-50 leading-small"},void 0,(null!==(u=x.nightsCount)&&void 0!==u?u:0)<1?(0,nX.Z)("div",{className:"flex safe-space-x-100"},void 0,_<2?(0,nX.Z)(ox.Z,{id:"result.hours_in_destination.one",values:{place:null!==(c=null==x?void 0:null===(v=x.arrival)||void 0===v?void 0:null===(m=v.city)||void 0===m?void 0:m.name)&&void 0!==c?c:""}}):(0,nX.Z)(ox.Z,{id:"result.hours_in_destination.multiple",values:{hours:_,place:null!==(p=null==x?void 0:null===(f=x.arrival)||void 0===f?void 0:null===(g=f.city)||void 0===g?void 0:g.name)&&void 0!==p?p:""}})):M))]})))})})},gn=e=>{let{seatsLeft:t}=e;return 1===t?ro||(ro=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.seat_left_label"})):(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.seats_left_label",values:{numOfSeats:t}})},go=e=>{let{seatsLeft:t}=e;return(0,nX.Z)(ug,{name:"scarcity badge",content:rs||(rs=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.scarcity_disclaimer"}))},void 0,(0,nX.Z)(ok.default,{size:"small",as:"span",align:"center"},void 0,(0,nX.Z)(gn,{seatsLeft:t})))},gs=e=>{let{seatsLeft:t,isCardExpanded:i}=e;return(0,nX.Z)(ug,{name:"scarcity badge",content:rd||(rd=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.scarcity_disclaimer"})),isEnabledOnMobile:!0},void 0,(0,nX.Z)("span",{className:(0,n2.Z)("relative flex w-full justify-end rounded-200 border-0 border-t border-dashed border-cloud-normal bg-cloud-light px-400 py-300 shadow-result-card transition-shadow duration-fast group-hover/result-card:shadow-result-card-active",i&&"shadow-result-card-active")},void 0,(0,nX.Z)(ok.default,{size:"small",as:"span"},void 0,(0,nX.Z)(gn,{seatsLeft:t}))))},gd=e=>{let{itinerary:t,shareUrl:i,isShareURLLoading:a,onOpenShareSheet:l,resultType:r}=e,n=(0,os.SK)(),{formatMessage:o}=(0,dU.Z)(),[s,d]=(0,n3.useState)(!1),[u,c]=(0,n3.useState)(!1),v=(0,n4.v9)(u5.P1),m=(0,n3.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),!a)n(cN,{...(0,sD.j1)(t),shareUrl:i,resultType:r}),d(!s),l()},[a,n,t,i,r,s,l]),p=(0,n3.useMemo)(()=>v?ru||(ru=(0,nX.Z)(p$.default,{className:"!block",size:"small"})):u?rc||(rc=(0,nX.Z)(dt.default,{className:"!block -translate-x-px",size:"small"})):rv||(rv=(0,nX.Z)(pV.default,{className:"!block -translate-x-px",size:"small"})),[u,v]);return(0,nX.Z)(uf.default,{content:rm||(rm=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.button.journey_action.share"})),placement:"top",tabIndex:"-1",labelClose:o({id:"orbit.button_close"}),block:!0},void 0,(0,nX.Z)("button",{type:"button",className:(0,n2.Z)("flex h-800 w-800 items-center justify-center rounded-full bg-white-normal shadow-level3",a&&"cursor-default"),onClick:m,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},"data-test":"ResultCardShareButton"},void 0,p))};var gu=i("99510");let gc=e=>{let{isScarcityItinerary:t=!1,threshold:i=1}=e,{isScarcityEligibilityReported:a,setIsScarcityEligibilityReported:l}=(0,n3.useContext)(gu.m),r=(0,os.SK)(),{ref:n,entry:o,observer:s}=(0,de.default)({threshold:i});return(0,n3.useEffect)(()=>{if(a&&s){s.disconnect();return}if(!!o)1===o.intersectionRatio&&t&&(l(!0),r(oU.K9),null==s||s.disconnect())},[o,a,l,t,r,s]),{ref:n}},gv="ResultCardWrapper",gm=(e,t,i)=>{if(("Enter"===i.key||" "===i.key)&&i.target.dataset.test===e)t(),i.preventDefault()},gp=(0,n3.memo)(e=>{var t,i,a,l,r,n,o,s,d;let{data:u,itinerary:c,passengers:v,toggleScrollToTopButton:m,setHighlightedDebounced:p,unsetHighlightedDebounced:f,setSingleSectorHighlightedDebounced:g,storeRef:h,itineraryRank:Z,onItemVisible:b,index:y,onOpenDetail:k,onCloseDetail:x,onClosePrebooking:_,isExpanded:w,saveResultID:C,getCardRef:S,isSharedItinerary:N=!1,responseContainsKayakItinerary:T,isTier1Search:I,extendedTrackingMetadata:R}=e,A=(0,n4.I0)(),F=(0,n4.v9)(da.$T),D=(0,n4.v9)(sz.Zv),P=(0,n3.useContext)(uc),[E,L]=(0,n3.useState)(!1),{isSmallOrMediumMobile:B,isMobile:K}=(0,oo.Z)(),O=(0,os.SK)(),{postMessage:M}=(0,cn.U)(),{travelHackByPrio:j}=cL(c),{formatMessage:z}=(0,dU.Z)(),{onOpenModal:V,onCloseModal:$}=(0,cO.useAuth)(),U=(0,cO.useIsLoggedIn)(),{isDebugModeOn:G}=(0,ot.Z)(),{isCustomShareSheetOpen:H,handleOpenShareSheet:W,handleOpenNativeShareSheet:q,handleCloseCustomShareSheet:Q,shareURL:J,isShareURLLoading:Y,shareQuote:X,trackShare:ee,isNativeShareSupported:et}=cF(c),ei=(0,cq.Z)(),ea=(0,d3.useFeature)("SCARCITY_MOBILE"),el=(0,cJ.Z)(),er=cY(),{totalPrice:en,passengersCount:eo,shouldShowDiscount:es,totalPriceBeforeDiscount:ed,hasMultiplePassengers:eu}=cW(c),ec=ue.ad(c),ev=ue.kg(c),em=ec||ev,{kiwiBookingOption:ep,kiwiBasicBookingOption:ef,externalBookingOptions:eg}=ue.gr(c),eh=!!(null!==ep&&ei),eZ=null!=ep?ep:null==eg?void 0:eg[0],eb=u$(c),{isFarelockEligible:ey,shouldShowFarelock:ek,farelock:ex,farelockEur:e_}=vu(ep,eb),{shouldShowFarelock:ew}=vu(ef,eb),eC=null!==(t=null===(i=c.lastAvailable)||void 0===i?void 0:i.seatsLeft)&&void 0!==t?t:0,{isKiwiGuaranteeAvailable:eS,isKiwiGuaranteeIncluded:eN,guaranteeFee:eT}=(0,ue.cK)(c),eI=em&&eN,eR=em&&eS&&!eN,eA=(null==eg?void 0:eg[0])!=null&&c1(eg[0])&&!eb,eF=cK({itinerary:c,travelHackByPrio:j,promotedAirportData:P,shouldShowRyanairPartnership:eb}),{showResultCardBadges:eD}=eF,eP=!B||eD,eE=(0,c2.o)(eC),eL=!B&&eE,eB=B&&ea&&eE,{ref:eK}=cP({index:y,dispatch:A,onItemVisible:b}),{ref:eO}=gc({isScarcityItinerary:eB||eL}),eM=(0,n3.useCallback)(()=>{p&&p(c)},[p,c]),ej=(0,n3.useCallback)(()=>{f&&f()},[f]),ez=(0,n3.useCallback)(()=>{L(!E),O(cj)},[E]);(0,n3.useEffect)(()=>{if(ey){var e;O(cz,{itineraryId:c.id,travellersCount:v.adults,provider:null===(e=c.provider)||void 0===e?void 0:e.code,isMobile:K,isLoggedIn:U,isSearchWithBags:!(0,cQ.s5)(F)})}},[]);let eV=(0,n3.useCallback)((e,t)=>{e.preventDefault(),x();let i=vz(null==eZ?void 0:eZ.trackingPixel);D?V({initialScreen:"requiredLogin",onContinueAsGuest:async()=>{null!==i&&(cX.Z.track(cU,i),O(cU,i)),er(),!(0,cM.isSafeToLeave)()&&await (0,c0.jp)(),window.location.href=t,$()},onContinueToSignIn:async()=>{null!==i&&(cX.Z.track(cU,i),O(cU,i)),!(0,cM.isSafeToLeave)()&&await (0,c0.jp)(),await M({message:"sign-in-before-booking",url:`https://www.kiwi.com${t}`}),$()}}):V({initialScreen:"requiredLogin",onContinueAsGuest:async()=>{null!==i&&(cX.Z.track(cU,i),O(cU,i)),er(),!(0,cM.isSafeToLeave)()&&await (0,c0.jp)(),(0,n9.D9)(sN._L,"true"),C(c.id),window.location.href=t},onSignInFulfill:async()=>{null!==i&&(cX.Z.track(cU,i),O(cU,i)),el("search_results"),!(0,cM.isSafeToLeave)()&&await (0,c0.jp)(),(0,n9.D9)(sN._L,"true"),C(c.id),window.location.href=t}})},[null==eZ?void 0:eZ.trackingPixel,D,c.id,x,$,V,M,el,er,C,O]),e$=(0,n3.useCallback)(()=>{k(c,Z),m(!1),O(oU.nj,{trace:(0,sD.Xp)(c),rank:Z,tierMarketing:I?1:0}),s2.Z.track("viewDetails","click",(0,cE.Z)(c,v))},[k,c,Z,m,O,I,v]);return(0,nX.Z)(vi,{},void 0,(0,ow.jsxs)(ow.Fragment,{children:[H&&(0,nX.Z)(ci,{handleCloseShareSheet:Q,handleOpenNativeShareSheet:q,trackShare:ee,shareQuote:X,shareURL:J,isNativeShareSupported:et}),w&&(0,nX.Z)(fT,{data:u,itinerary:c,passengers:v,onClose:_,responseContainsKayakItinerary:T,isTier1Search:I,itineraryRank:Z,extendedTrackingMetadata:R,isShareURLLoading:Y,shareUrl:(0,c3.j4)(),onOpenShareSheet:W,onClickSideEffect:C,onSignInBeforeBookingClick:eh?eV:null}),(0,ow.jsxs)("div",{ref:e=>{null==h||h(e),null==S||S(e)},"data-test":gv,className:"group/result-card relative cursor-pointer leading-normal",role:"button",tabIndex:0,"aria-label":z({id:"search.result.itinerary_detail.button.get_detail"}),"aria-expanded":w,onMouseEnter:eM,onMouseLeave:ej,onClick:d$()(e$,null,!1),onKeyDown:d$()(gm,null,gv,e$),children:[N&&(rp||(rp=(0,nX.Z)(di,{}))),(0,ow.jsxs)("div",{ref:eO,children:[(0,ow.jsxs)("div",{"data-test":null!==(a=c.legacyId)&&void 0!==a?a:"",className:(0,n2.Z)("relative lm:flex"),ref:eK,children:[(0,nX.Z)("div",{className:(0,n2.Z)("relative overflow-hidden rounded-200 bg-card shadow-result-card transition-shadow duration-fast group-hover/result-card:shadow-result-card-active lm:w-[65%]",w&&"shadow-result-card-active")},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("absolute bottom-0 z-default h-200 w-full bg-card safe-end-0 lm:top-0 lm:h-full lm:w-300")}),(0,nX.Z)("div",{className:"relative z-default flex h-full flex-col"},void 0,(0,nX.Z)(vG,{itinerary:c,handleExpandContent:ez}),(0,nX.Z)(gr,{itinerary:c,highlightSingleSector:g,unhighlightSingleSector:eM,isReturn:ec}),eP&&(0,nX.Z)(uV,{resultCardBadgesData:eF,travelHack:j,shouldShowBaggageBreakdown:!B,shouldShowRyanairPartnership:eb,hasProminentGuarantee:eR||eI}))),(0,nX.Z)("div",{className:(0,n2.Z)("relative flex flex-col overflow-hidden rounded-200 border-0 border-t-card border-dashed bg-card px-400 py-300 shadow-result-card transition-shadow duration-fast group-hover/result-card:shadow-result-card-active","lm:flex-1 lm:border-0 lm:border-s-card lm:pb-300 lm:pe-300 lm:pt-400",w&&"shadow-result-card-active")},void 0,G&&(0,nX.Z)(vq,{data:u,itinerary:c,render:e=>(0,nX.Z)(vY,{data:e})}),eL&&(0,nX.Z)("div",{className:"mb-200 hidden lm:flex lm:justify-center"},void 0,(0,nX.Z)(go,{seatsLeft:eC})),(0,nX.Z)("div",{className:"lm:mb-300 lm:flex lm:flex-auto lm:flex-col lm:justify-center lm:text-center"},void 0,eR&&(0,nX.Z)(fP,{guaranteeFee:eT}),eI&&B&&(0,nX.Z)(fE,{baggageBreakdownBadge:(0,nX.Z)(uB,{resultCardBadgesData:eF}),passengersCount:eo,priceBeforeDiscount:es?ed:null,price:en}),(!eI||!B)&&(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("div",{className:(0,n2.Z)(B&&"flex w-full items-end justify-between")},void 0,B&&(0,nX.Z)(uB,{resultCardBadgesData:eF}),(0,nX.Z)("div",{className:(0,n2.Z)("mb-50 flex w-full items-baseline justify-between gap-400 lm:mb-0 lm:flex-col-reverse lm:items-center lm:gap-0",B&&"flex-col-reverse !items-end !justify-start !gap-0 text-end",eI&&"!-mb-100 text-product-dark"),"data-test":"ResultCardPrice"},void 0,(0,nX.Z)("div",{className:"whitespace-nowrap text-heading-title2 font-heading-title2 leading-[22px]"},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,en)),es&&(0,nX.Z)("s",{className:(0,n2.Z)("leading-normal text-ink-light lm:text-small lm:leading-small")},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,ed))),eI&&(rf||(rf=(0,nX.Z)(fF,{label:(0,nX.Z)(ox.Z,{id:"search.result.guarantee_included"})})))),(0,nX.Z)("div",{className:"flex w-full flex-row-reverse justify-between gap-400 lm:flex-col lm:items-center lm:gap-0"},void 0,eu&&(0,nX.Z)(vX,{passengersCount:eo}),eA&&B&&(0,nX.Z)("p",{className:"me-auto text-small leading-small text-ink-light lm:mt-50"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.booking_options.info.book_on",values:{site:null!==(l=null===(r=eg[0])||void 0===r?void 0:null===(n=r.itineraryProvider)||void 0===n?void 0:n.name)&&void 0!==l?l:""}})))]})),!B&&(0,nX.Z)("div",{className:(0,n2.Z)("flex flex-col gap-200")},void 0,eA&&(0,nX.Z)("p",{className:"mb-100 text-center text-small leading-small text-ink-light"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.booking_options.info.book_on",values:{site:null!==(o=null===(s=eg[0])||void 0===s?void 0:null===(d=s.itineraryProvider)||void 0===d?void 0:d.name)&&void 0!==o?o:""}})),ek&&!ew&&(0,nX.Z)(fR,{kiwiBookingOption:ep,isTier1Search:I,itinerary:c,farelock:ex,farelockEur:e_,passengers:v,size:"small",track:O}),(0,nX.Z)(vU,{itinerary:c,bookingOption:eZ,onShowDetail:e$,fullWidth:!0,hidePrice:!0,isItineraryResult:!0,shouldStopPropagation:!0,type:"primary",dataTest:"BookingButton",resultType:"result card",itineraryRank:Z,responseContainsKayakItinerary:T,isTier1Search:I,onClickSideEffect:C,onSignInBeforeBookingClick:eh?eV:null}))),eB&&(0,nX.Z)(gs,{seatsLeft:eC,isCardExpanded:w})]}),(0,nX.Z)("div",{"data-test":"ResultCardPriceSectionActionButtons",className:"absolute top-0 z-default hidden -translate-y-1/4 translate-x-1/4 safe-end-0 lm:group-hover/result-card:block rtl:-translate-x-1/4"},void 0,(0,nX.Z)(gd,{shareUrl:(0,c3.j4)(),isShareURLLoading:Y,itinerary:c,onOpenShareSheet:W,resultType:"result card"}))]})]}),G&&E&&(0,nX.Z)(vq,{data:u,itinerary:c,render:e=>(0,nX.Z)(vJ,{formattedData:e})})]}))}),gf=(0,o7.defineMessage)({id:"result.book_flight_for"}),gg=(0,n3.memo)(e=>{var t;let{itinerary:i,bookingOption:a,size:l="small",hidePrice:r=!1,dataTest:n,resultType:o,itineraryRank:s,isTier1Search:d,onClickSideEffect:u}=e,c=(0,n4.v9)(da.D6),v=(0,n4.v9)(c8),m=(0,n4.v9)(sz.wH),{hasFlightDetail:p}=(0,n3.useContext)(vt),{firstPollRequestId:f}=(0,n4.v9)(s$.V6),{getConversionTime:g}=(0,va.Z)(),h=(0,os.SK)(),{bookingUrl:Z}=vM({bookingOption:a,isTier1Search:d,itinerary:i}),b=(0,n3.useCallback)(e=>{var t;if("mouseup"===e.type&&e.button>1||"keyup"===e.type&&"Enter"!==e.key)return;let l=g(f);h(oU.Sq,{...(0,sD.j1)(i),...(0,sD.LH)(null==a?void 0:a.itineraryProvider),...l&&{timeFromFirstResultsShown:l},quicketInfoAvailable:p,trace:(0,sD.Xp)(i),resultType:o,rank:s,tierMarketing:d?1:0}),vE(i,c,null==a?void 0:null===(t=a.itineraryProvider)||void 0===t?void 0:t.code,s),f&&(0,n9.D9)(c4.SEARCH_SESSION_ID,f),(0,n9.D9)(sN._L,"true"),u(i.id)},[null==a?void 0:a.itineraryProvider,g,p,d,i,s,u,o,c,f,h]),y=(0,n3.useCallback)(async e=>{e.stopPropagation(),!(0,cM.isSafeToLeave)()&&(await (0,c0.jp)(),window.location.href=Z)},[Z]),k=(0,n3.useCallback)(e=>{if(null!=a){let e=vz(a.trackingPixel);null!==e&&(cX.Z.track(cU,e),h(cU,e))}y(e)},[a,h,y]),x=r?v:gf;return(0,nX.Z)("div",{onMouseUp:b,onKeyUp:b},void 0,(0,nX.Z)(dB.default,{onClick:k,href:(0,cM.isSafeToLeave)()?Z:void 0,external:m,type:"primary",size:l,fullWidth:!0,dataTest:n,rel:"nofollow"},void 0,(0,nX.Z)("span",{},void 0,(0,ow.jsx)(ox.Z,{...x,values:{price:(0,nX.Z)(si.Z,{maxSize:99},void 0,null==a?void 0:null===(t=a.price)||void 0===t?void 0:t.amount)}}))))});var gh=i("84708");let gZ=e=>{let{children:t}=e;return(0,nX.Z)("div",{className:"-ms-200 flex h-full flex-col lm:ms-0"},void 0,t)},gb=e=>{let{children:t,className:i=""}=e;return(0,nX.Z)("div",{className:`flex items-center ${i}`},void 0,t)},gy=e=>{let{children:t,className:i=""}=e;return(0,nX.Z)("div",{className:`flex flex-grow items-center justify-between lm:-mx-400 lm:-my-200 ${i}`,"data-test":"ModalFooter"},void 0,t)},gk=e=>{let{children:t}=e;return(0,nX.Z)("span",{className:"leading-heading me-200"},void 0,t)},gx=e=>{let{children:t,isSticky:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("-mx-400 -mt-600 mb-600 flex items-center justify-center bg-orange-light px-400 py-100 text-small font-bold text-orange-normal lm:-mx-800 lm:-mt-800 lm:mb-800",i&&"sticky top-[52px] z-20 lm:top-300")},void 0,t)};var g_=i("32749");let gw=e=>{let{children:t,modalRef:i,scrollingElementRef:a,onClose:l}=e,r=(0,n4.v9)(g_.G),{formatMessage:n}=(0,dU.Z)();return(0,nX.Z)(uJ.default,{},void 0,(0,ow.jsx)(uQ.default,{onClose:l,disableAnimation:!0,fixedFooter:!0,size:"small",ref:i,scrollingElementRef:a,dataTest:"ResultCardModal",lockScrolling:!r,labelClose:n({id:"orbit.button_close"}),children:t}))};var gC=i("1073"),gS=i("63745"),gN=i("45593"),gT=i("47190");let gI="before:absolute before:w-100 before:bg-dots before:content-empty before:safe-start-150";var gR=i("2315");let gA="after:absolute after:w-100 after:bg-dots after:content-empty after:safe-start-150",gF=e=>{let{children:t}=e;return(0,nX.Z)("div",{className:"flex flex-wrap [&>*:nth-child(2n)]:w-[calc(100%-5.75em)] [&>*:nth-child(2n-1)]:w-[5.75em] [&>*:nth-child(2n-1)]:justify-center"},void 0,t)},gD=e=>{let{cityName:t,onTextLinkClick:i}=e;return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(gF,{},void 0,rg||(rg=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:`relative h-400 ${gA} after:h-full`})),(0,nX.Z)("span",{className:"relative flex rounded-100 bg-white-normal py-200 shadow-level1"},void 0,(0,nX.Z)(gF,{},void 0,rh||(rh=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,rZ||(rZ=(0,nX.Z)(gR.default,{color:"secondary",size:"small"})),(0,nX.Z)("div",{className:"space-y-100"},void 0,(0,nX.Z)(ok.default,{size:"small"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_destination_title",values:{station:t}})),(0,nX.Z)(dC.default,{size:"small",onClick:null!=i?i:void 0},void 0,rb||(rb=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_destination.more_information"})))))))]})};var gP=i("82530");let gE="bookingcom",gL=e=>{let{sector:t,variables:i,linkUrl:a,itineraryRank:l}=e,r=(0,os.SK)(),n=mH(i);(0,n3.useEffect)(()=>{r(oU.Cg,{...(0,sD.y_)(t),type:gE,rank:l})},[l,t,r]);let o=(0,n3.useCallback)(e=>{e.stopPropagation(),r(mf,{...(0,sD.y_)(t),type:gE,rank:l})},[r,t,l]);return(0,nX.Z)(dC.default,{href:a,onClick:o,type:"secondary",size:"small",external:!0},void 0,null!=n&&(0,nX.Z)("span",{className:"flex items-center whitespace-pre-wrap"},"priceMessage",(0,nX.Z)(ox.Z,{id:"search.result.rooms_price_from",values:{price:(0,nX.Z)(si.Z,{},void 0,Number.parseInt(n,10)),logo:ry||(ry=(0,nX.Z)("img",{className:"ms-100 w-[80px] translate-y-px",src:"/images/logos/bookingcom/logo.svg",alt:"booking.com logo"}))}})),null==n&&(rk||(rk=(0,nX.Z)(n3.Fragment,{},"generalMessage",(0,nX.Z)(ox.Z,{id:"result.check_accomodation_prices"}),(0,nX.Z)("img",{className:"ms-100 w-[80px] translate-y-px",src:"/images/logos/bookingcom/logo.svg",alt:"booking.com logo"},"logo")))))},gB=e=>{var t,i,a,l,r,n;let{sector:o,stopover:s,nextSector:d,accommodationParams:u,itineraryRank:c}=e,{nightsCount:v}=null!=s?s:{},m=null===(t=vm()(null!==(a=o.sectorSegments)&&void 0!==a?a:[]))||void 0===t?void 0:null===(i=t.segment)||void 0===i?void 0:i.destination,p=null===(l=fB()(null!==(n=d.sectorSegments)&&void 0!==n?n:[]))||void 0===l?void 0:null===(r=l.segment)||void 0===r?void 0:r.source,f=(0,n4.v9)(mq)(m,p),g=mW(f);if(!v)return null;let h=u&&m&&p&&m2(u,m,p,v);return(0,ow.jsxs)(ow.Fragment,{children:[rx||(rx=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:"relative flex items-center pb-300 safe-space-x-200"},void 0,r_||(r_=(0,nX.Z)(gP.default,{size:"small"})),(0,nX.Z)(ok.default,{size:"small",weight:"bold",as:"span"},void 0,1===v?rw||(rw=(0,nX.Z)(ox.Z,{id:"result.night_in_destination_short"})):(0,nX.Z)(ox.Z,{id:"result.nights_in_destination_short",values:{nights:v}}))),null!=h&&f&&(0,ow.jsxs)(ow.Fragment,{children:[rC||(rC=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:"relative flex items-center pb-300 safe-space-x-200"},void 0,rS||(rS=(0,nX.Z)(pe.default,{size:"small",color:"secondary"})),(0,nX.Z)(o4.Z,{onError:g},void 0,(0,nX.Z)(n3.Suspense,{fallback:rN||(rN=(0,nX.Z)(se.default,{width:100,height:12}))},void 0,(0,nX.Z)(gL,{sector:o,variables:f,linkUrl:h,itineraryRank:c}))))]})]})},gK=e=>{let{children:t}=e;return(0,nX.Z)("h4",{className:"m-0 text-small font-medium leading-small"},void 0,t)};var gO=i("20773"),gM=i("35775"),gj=i("24591");let gz="before:absolute before:w-50 before:content-empty before:bg-cloud-normal before:safe-start-[7px]",gV=e=>{let{type:t,children:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("flex max-w-[170px] leading-text mm:max-w-fit","warning"===t?"text-warning-foreground":"text-secondary-foreground")},void 0,i)},g$=e=>{let{isFirst:t=!1,children:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("relative flex items-center py-100 before:top-0 before:h-1/2 after:bottom-0 after:h-1/2 [&_svg]:z-10 [&_svg]:me-200",t?`${gI} after:absolute after:w-50 after:content-empty after:bg-cloud-normal after:safe-start-[7px]`:`${gz} ${gA}`)},void 0,i)},gU=e=>{let{isFirst:t=!1,children:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("relative flex items-center bg-orange-light py-100 ps-200",t&&"rounded-tl-100")},void 0,i)},gG=e=>{let{isFirst:t=!1,children:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("relative flex items-center bg-orange-light py-100 pe-300 ps-600 before:top-0 before:h-full",t?`${gI} before:bg-orange-dots`:`${gz} before:bg-red-light-hover`)},void 0,i)},gH=e=>{var t;let{sectorSegment:i}=e,a=null==i?void 0:null===(t=i.segment)||void 0===t?void 0:t.cabinClass;return a?(0,ow.jsxs)(ow.Fragment,{children:[rT||(rT=(0,nX.Z)("div",{className:"bg-blue-light"})),(0,nX.Z)("div",{className:`relative flex items-center bg-blue-light px-600 py-100 ${gz} before:h-full before:!bg-blue-light-hover`},void 0,(0,nX.Z)(ok.default,{type:"info",size:"small"},void 0,(0,ow.jsx)(ox.Z,{...sZ.v5[a]})))]}):null},gW=e=>{let{children:t}=e;return(0,nX.Z)("h4",{className:"mb-300 mt-400 text-small font-medium leading-small"},void 0,t)},gq=e=>{let{icon:t,text:i,value:a,dataTest:l,className:r=""}=e;return(0,nX.Z)("li",{"data-test":l,className:`mb-200 flex w-full items-center text-small leading-small text-secondary-foreground ${r}`},void 0,t,(0,nX.Z)("div",{className:"ms-200 text-secondary-foreground"},void 0,i),a&&(0,nX.Z)("div",{className:"ms-auto"},void 0,a))};gq.defaultProps={dataTest:""};let gQ={YES:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.yes"}),NO:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.no"}),BYOD:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.audio_video.byod"}),PAID:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.audio_video.paid"})},gJ=e=>{switch(e){case"AC":case"AC_DC":case"AC_USB":case"DC":case"DC_USB":case"USB":return e;case"NO":return rR||(rR=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.no"}));default:return null}},gY=(e,t)=>(null==e?void 0:e.value)!=null&&e.unit&&(0,nX.Z)(gq,{icon:rA||(rA=(0,nX.Z)(mA.default,{size:"small"})),text:t,value:`${e.value} ${e.unit.toLowerCase()}`}),gX=e=>{let{data:t,setHasFlightDetail:a}=e,l=(0,st.useFragment)(void 0!==rI?rI:rI=i(97966),t),r=gJ(null==l?void 0:l.powerAvailable);return(0,n3.useEffect)(()=>{a(!0)},[]),(0,ow.jsxs)(ow.Fragment,{children:[rF||(rF=(0,nX.Z)(gW,{},void 0,(0,nX.Z)("span",{className:"me-100"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.seating_info.title"})))),(0,nX.Z)("ul",{},void 0,gY(null==l?void 0:l.pitch,rD||(rD=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.seat_pitch"}))),(null==l?void 0:l.width)&&gY(l.width,rP||(rP=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.seat_width"}))),(null==l?void 0:l.recline)&&gY(l.recline,rE||(rE=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.seat_recline"}))),(null==l?void 0:l.audioVideoAvailable)&&null!=gQ[l.audioVideoAvailable]&&(0,nX.Z)(gq,{icon:rL||(rL=(0,nX.Z)(mT.default,{size:"small"})),text:rB||(rB=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.audio_video"})),value:gQ[l.audioVideoAvailable]}),null!=r&&(0,nX.Z)(gq,{icon:rK||(rK=(0,nX.Z)(mR.default,{size:"small"})),text:rO||(rO=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.inseat_power"})),value:r}),(null==l?void 0:l.hasWifi)!==null&&(0,nX.Z)(gq,{icon:rM||(rM=(0,nX.Z)(mF.default,{size:"small"})),text:rj||(rj=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.label.wifi"})),value:null!=l&&l.hasWifi?rz||(rz=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.yes"})):rV||(rV=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.no"}))}))]})},g0=void 0!==r$?r$:r$=i(51951),g1=(0,n3.memo)(e=>{let{sectorSegment:t,itineraryRank:a}=e,l=(0,os.SK)(),r=(0,n4.v9)(e=>(0,da.D6)(e).cabinClass),{setHasFlightDetail:n}=(0,n3.useContext)(vt),{segment:o}=t,s=(0,n3.useMemo)(()=>{var e,t,i,a,l,n,s,d,u,c,v;return{carrier:null!==(e=null==o?void 0:null===(t=o.carrier)||void 0===t?void 0:t.code)&&void 0!==e?e:"",code:null!==(i=null==o?void 0:o.code)&&void 0!==i?i:"",outboundDepartureDate:null!==(a=null==o?void 0:null===(l=o.source)||void 0===l?void 0:l.localTime)&&void 0!==a?a:"",source:null!==(n=null==o?void 0:null===(s=o.source)||void 0===s?void 0:null===(d=s.station)||void 0===d?void 0:d.code)&&void 0!==n?n:"",destination:null!==(u=null==o?void 0:null===(c=o.destination)||void 0===c?void 0:null===(v=c.station)||void 0===v?void 0:v.code)&&void 0!==u?u:"",cabinClass:r.type}},[o,r]),{seatInfo:d}=(0,st.useLazyLoadQuery)(g0,s);(null==d?void 0:d.error)!=null&&console.error("[FlightDetail] query error",d.error);let u=(0,st.readInlineData)(void 0!==rU?rU:rU=i(81079),null!=d?d:null);return(l(mm,{...(0,sD.u5)(t),quicketInfo:u,rank:a}),null===d)?null:(0,nX.Z)(gX,{data:null!=d?d:null,setHasFlightDetail:n})}),g2=e=>{var t;let{carrier:i,size:a}=e;return i&&i.code?(0,nX.Z)(fs.default,{carriers:[{code:i.code,name:null!==(t=i.name)&&void 0!==t?t:"",type:"airline"}],size:a}):null},g3=()=>rG||(rG=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(gW,{},void 0,(0,nX.Z)("span",{className:"me-100"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.seating_info.title"})),(0,nX.Z)(n8.default,{type:"inlineLoader",loading:!0})),(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.flight_details.loading_seating_info"})]})),g4={[d8.J1.FLIGHT]:(0,o7.defineMessages)({carrier:{id:"search.result.itinerary_detail.label.airline"},number:{id:"search.result.itinerary_detail.label.flight_number"}})},g5=e=>{var t,i,a,l,r,n;let{sectorSegment:o,id:s,itineraryRank:d}=e,u=(0,os.SK)();(0,n3.useEffect)(()=>()=>{u(mp,{rank:d})},[d,u]);let{segment:c}=o,v=null!==(t=null==c?void 0:c.type)&&void 0!==t?t:d8.J1.FLIGHT,m=g4[v],p=v===d8.J1.FLIGHT?ut.Vk(o):null;return(0,nX.Z)("div",{className:"ps-600",id:s},void 0,rH||(rH=(0,nX.Z)(gW,{},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.connection_info.title"}))),(0,nX.Z)("ul",{},void 0,(null==c?void 0:null===(i=c.carrier)||void 0===i?void 0:i.code)&&(null==c?void 0:null===(a=c.carrier)||void 0===a?void 0:a.code)!=="WN"&&(0,nX.Z)(gq,{icon:(0,nX.Z)(g2,{carrier:c.carrier,size:"small"}),text:(0,ow.jsx)(ox.Z,{...m.carrier}),value:null!==(l=c.carrier.name)&&void 0!==l?l:"",dataTest:"itineraryLogo"}),(null==c?void 0:c.operatingCarrier)&&(null==c?void 0:c.operatingCarrier.name)!==(null==c?void 0:null===(r=c.carrier)||void 0===r?void 0:r.name)&&(null==c?void 0:c.operatingCarrier.code)!=="WN"&&(0,nX.Z)(gq,{icon:(0,nX.Z)(g2,{carrier:c.operatingCarrier,size:"small"}),text:rW||(rW=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.operating_airline"})),value:null!==(n=c.operatingCarrier.name)&&void 0!==n?n:"",dataTest:"itineraryOperatingLogo"}),p&&(0,nX.Z)(gq,{icon:rq||(rq=(0,nX.Z)(mI.default,{size:"small"})),dataTest:"itineraryFlightNumber",text:(0,ow.jsx)(ox.Z,{...m.number}),value:p})),v===d8.J1.FLIGHT&&(0,nX.Z)(o4.Z,{},void 0,(0,nX.Z)(n3.Suspense,{fallback:rQ||(rQ=(0,nX.Z)(g3,{}))},void 0,(0,nX.Z)(g1,{sectorSegment:o,itineraryRank:d}))))},g9=e=>{let{children:t}=e;return(0,nX.Z)("div",{className:"relative flex items-center whitespace-nowrap py-100 ps-200 text-center"},void 0,t)},g6={[d8.J1.FLIGHT]:(0,nX.Z)(gO.default,{size:"small"}),"":null},g7=(e,t)=>{if(!e)return{name:null,code:null};let{code:i=null,name:a=null,type:l}=e;return l===d8.bV.AIRPORT||t?{name:a,code:i}:{name:a,code:null}},g8=(e,t)=>e>1?(0,nX.Z)(ox.Z,{id:"search.result.next_day_arrival_multi",values:{days:e}}):e>0?rJ||(rJ=(0,nX.Z)(ox.Z,{id:"search.result.next_day_arrival"})):t?rY||(rY=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.alert.arriving_different_day.flight_only"})):rX||(rX=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.alert.arriving_next_day.bus_train"})),he=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x,_,w;let{sectorSegment:C,prevSectorSegment:S,forcedDepartureAirport:N,forcedArrivalAirport:T,itineraryRank:I}=e,{formatMessage:R}=(0,dU.Z)(),[A,F]=(0,n3.useState)(!1),{segment:D,arrivalDifferent:P,departureDifferent:E}=C,L=null!==(t=null==D?void 0:D.id)&&void 0!==t?t:"",B=`segment-detail-${L}`,K=(0,sa.sG)(null==D?void 0:null===(i=D.source)||void 0===i?void 0:i.localTime),O=(0,sa.sG)(null==D?void 0:null===(a=D.destination)||void 0===a?void 0:a.localTime),M=(0,sa.sG)(null==S?void 0:null===(l=S.segment)||void 0===l?void 0:null===(r=l.destination)||void 0===r?void 0:r.localTime),j=(null==D?void 0:D.type)===d8.J1.FLIGHT,z=g8((0,ua.we)(K,O),j),{name:V,code:$}=g7(null!=N?N:null==D?void 0:null===(n=D.source)||void 0===n?void 0:n.station,!!N),{name:U,code:G}=g7(null!=T?T:null==D?void 0:null===(o=D.destination)||void 0===o?void 0:o.station,!!T),H=(0,n3.useCallback)(()=>{F(!A)},[A]);return(0,nX.Z)("div",{className:"rounded-100 bg-white-normal shadow-level1"},L,(0,nX.Z)(gF,{},void 0,M&&K&&!(0,ua.KC)(K,M)&&(0,nX.Z)(n3.Fragment,{},"sectorAlertDeparture",(0,nX.Z)(gU,{isFirst:!0},void 0,(0,nX.Z)(ok.default,{type:"warning",size:"small",align:"center"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:K}))),(0,nX.Z)(gG,{isFirst:!0},void 0,(0,nX.Z)(ok.default,{as:"span",type:"warning",size:"small",align:"center"},void 0,j?r0||(r0=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.alert.departing_next_day.flight_only"})):r1||(r1=(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.alert.departing_next_day.bus_train"}))))),(0,nX.Z)(g9,{},void 0,(0,nX.Z)("strong",{className:"font-medium leading-small"},void 0,(0,nX.Z)(ma,{formatKeys:"timeFormat",value:K}))),(0,nX.Z)(g$,{isFirst:!0},void 0,(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,r2||(r2=(0,nX.Z)(v9.default,{size:"small",color:"secondary"})),(0,nX.Z)("div",{className:"space-y-50"},void 0,(0,nX.Z)(gK,{},void 0,null==D?void 0:null===(s=D.source)||void 0===s?void 0:null===(d=s.station)||void 0===d?void 0:null===(u=d.city)||void 0===u?void 0:u.name),(0,nX.Z)(gV,{type:E?"warning":"secondary"},void 0,V&&(0,nX.Z)("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap"},void 0,V),$&&(0,nX.Z)("div",{className:"ms-100"},void 0,"(",$,")"))))),(0,nX.Z)(gH,{sectorSegment:C}),(null==D?void 0:null===(c=D.carrier)||void 0===c?void 0:c.code)&&(0,nX.Z)("div",{className:(0,n2.Z)("relative flex items-start bg-cloud-light p-300 pe-100",!A&&"cursor-pointer"),onClick:A?void 0:H},void 0,(0,nX.Z)(fs.default,{size:"medium",carriers:[{code:null==D?void 0:null===(v=D.carrier)||void 0===v?void 0:v.code,name:null!==(m=null==D?void 0:null===(p=D.carrier)||void 0===p?void 0:p.name)&&void 0!==m?m:""}]})),(0,nX.Z)("div",{className:(0,n2.Z)(`relative bg-cloud-light py-300 pe-300 before:top-0 before:h-full ${gz} [&_svg]:z-10`,!A&&"cursor-pointer"),onClick:A?void 0:H},void 0,(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,g6[null!==(f=null==C?void 0:null===(g=C.segment)||void 0===g?void 0:g.type)&&void 0!==f?f:""],(0,nX.Z)("div",{className:"grow safe-space-x-100"},void 0,(null==D?void 0:null===(h=D.carrier)||void 0===h?void 0:h.code)&&(null==D?void 0:null===(Z=D.carrier)||void 0===Z?void 0:Z.code)!=="WN"&&(0,nX.Z)(dG.default,{type:"white"},void 0,null==D?void 0:null===(b=D.carrier)||void 0===b?void 0:b.name),(0,nX.Z)(dG.default,{type:"infoSubtle"},void 0,(0,nX.Z)(mU.Z,{value:(null!==(y=null==C?void 0:null===(k=C.segment)||void 0===k?void 0:k.duration)&&void 0!==y?y:0)*1e3}))),(0,nX.Z)("button",{type:"button",className:"-m-100 cursor-pointer rounded-100 bg-transparent p-100 hover:bg-button-secondary-background-hover focus:shadow-fixed","aria-expanded":A,"aria-controls":B,"aria-label":R(A?{id:"search.result.itinerary_detail.trip.hide_details"}:{id:"search.result.itinerary_detail.trip.show_details"}),onClick:H},void 0,A?r3||(r3=(0,nX.Z)(gM.default,{})):r4||(r4=(0,nX.Z)(gj.default,{})))),A&&(0,nX.Z)(g5,{sectorSegment:C,id:B,itineraryRank:I})),O&&K&&!(0,ua.KC)(O,K)&&(0,nX.Z)(n3.Fragment,{},"sectorAlertArrival",(0,nX.Z)(gU,{},void 0,(0,nX.Z)(ok.default,{type:"warning",size:"small",align:"center"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:O}))),(0,nX.Z)(gG,{},void 0,(0,nX.Z)(ok.default,{as:"span",type:"warning",size:"small"},void 0,z))),(0,nX.Z)(g9,{},void 0,(0,nX.Z)("strong",{className:"font-medium"},void 0,(0,nX.Z)(ma,{formatKeys:"timeFormat",value:O}))),(0,nX.Z)(g$,{},void 0,(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,r5||(r5=(0,nX.Z)(v9.default,{size:"small",color:"secondary"})),(0,nX.Z)("div",{className:"space-y-50"},void 0,(0,nX.Z)(gK,{},void 0,null==D?void 0:null===(x=D.destination)||void 0===x?void 0:null===(_=x.station)||void 0===_?void 0:null===(w=_.city)||void 0===w?void 0:w.name),(0,nX.Z)(gV,{type:P?"warning":"secondary"},void 0,U&&(0,nX.Z)("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap"},void 0,U),G&&(0,nX.Z)("div",{className:"ms-100"},void 0,"(",G,")")))))))};class ht extends n3.Component{componentDidMount(){let{callback:e}=this.props;e()}render(){let{children:e}=this.props;return e}}let hi=e=>e?72:59,ha=(0,o7.defineMessages)({differentAirports:{id:"search.result.itinerary_detail.self_transfer.warning.different_airports"},differentStations:{id:"search.result.itinerary_detail.self_transfer.warning.different_stations"},differentPlaces:{id:"search.result.itinerary_detail.self_transfer.warning.different_places"},departureFlightOnly:{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.departure_from_another_place.flight_only"},departureGround:{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.departure_from_another_place.ground_transport_related"},departureFlight:{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.departure_from_another_place.flight_related"},departureBusTrain:{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.departure_from_another_place.bus_train"},airport:{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.airport"},groundTransport:{id:"multi_modal.search.result.itinerary_detail.self_transfer.warning.ground_transport"}}),hl=e=>{let{departureType:t,arrivalType:i,isOWRT:a=!1}=e;if(a)return i===d8.bV.AIRPORT&&t===d8.bV.AIRPORT?ha.differentAirports:ha.differentPlaces;return i===d8.bV.AIRPORT?t===d8.bV.AIRPORT?ha.departureFlightOnly:ha.departureGround:t===d8.bV.AIRPORT?ha.departureFlight:ha.departureBusTrain},hr=function(e,t){var i,a,l,r,n,o,s,d,u,c;let v=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{type:m,code:p}=null!==(i=null===(a=vm()(null!==(n=null==e?void 0:e.sectorSegments)&&void 0!==n?n:[]))||void 0===a?void 0:null===(l=a.segment)||void 0===l?void 0:null===(r=l.destination)||void 0===r?void 0:r.station)&&void 0!==i?i:{},{type:f,code:g}=null!==(o=null===(s=fB()(null!==(c=null==t?void 0:t.sectorSegments)&&void 0!==c?c:[]))||void 0===s?void 0:null===(d=s.segment)||void 0===d?void 0:null===(u=d.source)||void 0===u?void 0:u.station)&&void 0!==o?o:{};return p===g?null:f&&m?hl({departureType:f,arrivalType:m,isOWRT:v}):null},hn=e=>e?ha.airport:ha.groundTransport,ho=e=>{let{text:t,icon:i,isDifferentStation:a=!1,isOWRT:l=!1,type:r,onClick:n,href:o}=e,s=null!=n||null!=o;return(0,nX.Z)("li",{"data-test":"ItineraryLayoverInfoItem",className:(0,n2.Z)("text-small text-secondary-foreground [&>ul>li>div]:-ms-100 [&>ul>li>div_svg]:bg-inherit",a&&l&&"m-100",n?"[&_strong]:font-medium":"[&_strong]:font-normal")},void 0,(0,nX.Z)(gC.default,{},void 0,(0,nX.Z)(gC.BadgeListItem,{type:r,icon:i},void 0,(0,nX.Z)("div",{className:"ms-50 ps-0"},void 0,s?(0,nX.Z)(dC.default,{type:"secondary",href:o,external:null!=o,onClick:n},void 0,t):t))))},hs=e=>{var t,i,a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z,b,y,k,x,_;let{sectorSegment:w,prevSectorSegment:C,itinerary:S,itineraryRank:N,accommodationParams:T,isOWRT:I=!1}=e,R=(0,os.SK)(),A=(0,n4.v9)(sL.pR),F=(0,n3.useContext)(uc),{segment:D,layover:P}=w,E=(null!==(t=null==P?void 0:P.duration)&&void 0!==t?t:0)*1e3,L=null==C?void 0:null===(i=C.segment)||void 0===i?void 0:i.destination,B=null==D?void 0:D.source,K=(0,n3.useMemo)(()=>{if(!T||E<=d8.OL||!L||!B)return null;let e=(0,sa.sG)(L.localTime),t=(0,sa.sG)(B.localTime);return e&&t&&!(0,ua.KC)(e,t)?m2(T,L,B,1):null},[T,E,L,B]),O=ut.ft(w),M=ut.th(C,w),{url:j,maybeOpenHelp:z}=(0,ui.sH)(ui.Dq.SELF_TRANSFER),V=(0,n3.useCallback)(e=>{R(mg,{rank:N}),z(e)},[N,z,R]),{url:$,maybeOpenHelp:U}=(0,ui.sH)(null==F?void 0:F.promotedAirport.article);return ut.BI(C,w)?(0,nX.Z)("ul",{},void 0,(0,nX.Z)(ho,{text:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)("h4",{className:"m-0 text-small font-medium"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.info.technical_stop.title",values:{time:(0,nX.Z)(mU.Z,{value:E})}})),r9||(r9=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.info.technical_stop.description"}))]}),icon:r6||(r6=(0,nX.Z)(m9.default,{size:"small"})),type:M&&I?"warning":"neutral"})):(0,nX.Z)("ul",{},void 0,(0,nX.Z)(ho,{icon:r7||(r7=(0,nX.Z)(m5.default,{size:"small"})),isDifferentStation:M,isOWRT:I,type:M&&I?"warning":"neutral",text:(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(ox.Z,{id:"multi_modal.search.result.itinerary_detail.layover",values:{time:(0,nX.Z)(mU.Z,{value:E})}}),K&&(0,nX.Z)(ht,{callback:()=>{R(oU.DM,(0,sD.j1)(S))}},void 0," ",(0,nX.Z)(dC.default,{type:"secondary",external:!0,href:K,onClick:()=>{R(oU.mT,(0,sD.j1)(S))}},void 0,r8||(r8=(0,nX.Z)("div",{className:"flex items-center text-small underline"},void 0,(0,nX.Z)(ox.Z,{id:"result.check_accomodation_prices"}))),ne||(ne=(0,nX.Z)(pe.default,{color:"primary",size:"small"})),nt||(nt=(0,nX.Z)("img",{className:"ms-100 w-[80px] translate-y-px",src:"/images/logos/bookingcom/logo.svg",alt:"booking.com logo"}))))]})}),!!(null==P?void 0:P.isBaggageRecheck)&&!M&&!!ue.tI(null===(a=S.bagsInfo)||void 0===a?void 0:a.checkedBagTiers).length&&(0,nX.Z)(ho,{text:ni||(ni=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.bags_recheck"})),icon:na||(na=(0,nX.Z)(dH.default,{size:"small"})),isDifferentStation:M,isOWRT:I,type:M&&I?"warning":"neutral"}),O&&(0,nX.Z)(ho,{text:I?(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.self_transfer.warning",values:{stationName:`${null==D?void 0:null===(l=D.source)||void 0===l?void 0:null===(r=l.station)||void 0===r?void 0:r.name} (${null==D?void 0:null===(n=D.source)||void 0===n?void 0:null===(o=n.station)||void 0===o?void 0:o.code})`,ref:e=>(0,nX.Z)("strong",{},void 0,e)}}):(0,ow.jsx)(ox.Z,{...hn(ut.oS(C,w)),values:{airport:null!==(s=null==D?void 0:null===(d=D.source)||void 0===d?void 0:null===(u=d.station)||void 0===u?void 0:u.code)&&void 0!==s?s:"",ref:e=>(0,nX.Z)("strong",{},void 0,e)}}),icon:nl||(nl=(0,nX.Z)(m6.default,{size:"small"})),href:A?j:void 0,onClick:A?V:void 0,isDifferentStation:M,isOWRT:I,type:M&&I?"warning":"neutral"}),!!(null==P?void 0:P.isBaggageRecheck)&&M&&!!ue.tI(null==S?void 0:null===(c=S.bagsInfo)||void 0===c?void 0:c.checkedBagTiers).length&&(0,nX.Z)(ho,{text:nr||(nr=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.bags_recheck"})),icon:nn||(nn=(0,nX.Z)(dH.default,{size:"small"})),isDifferentStation:M,isOWRT:I,type:I?"warning":"neutral"}),!M&&(null==F?void 0:null===(v=F.segmentIds)||void 0===v?void 0:v.includes(null!==(m=null==D?void 0:D.id)&&void 0!==m?m:""))&&(0,nX.Z)(ho,{text:(0,nX.Z)(ox.Z,{id:"search.result.promoted_airport.stopover",values:{name:F.promotedAirport.name}}),icon:no||(no=(0,nX.Z)(uj.default,{size:"small"})),href:A?$:void 0,onClick:A?U:void 0,isDifferentStation:M,isOWRT:I,type:M&&I?"warning":"neutral"}),M&&!I&&(null==C?void 0:null===(p=C.segment)||void 0===p?void 0:null===(f=p.destination)||void 0===f?void 0:null===(g=f.station)||void 0===g?void 0:g.code)!==(null==D?void 0:null===(h=D.source)||void 0===h?void 0:null===(Z=h.station)||void 0===Z?void 0:Z.code)&&(0,nX.Z)(ho,{text:(0,nX.Z)("span",{},void 0,(0,nX.Z)(ok.default,{type:"warning",size:"small",as:"span"},void 0,(0,ow.jsx)(ox.Z,{...hl({arrivalType:null==C?void 0:null===(b=C.segment)||void 0===b?void 0:null===(y=b.destination)||void 0===y?void 0:null===(k=y.station)||void 0===k?void 0:k.type,departureType:null==D?void 0:null===(x=D.source)||void 0===x?void 0:null===(_=x.station)||void 0===_?void 0:_.type})}))),icon:ns||(ns=(0,nX.Z)(gS.default,{color:"warning",size:"small",dataTest:"Alert"})),isDifferentStation:M,isOWRT:I,type:"warning"}))},hd=()=>(0,ow.jsxs)(ow.Fragment,{children:[nd||(nd=(0,nX.Z)("div",{className:"flex flex-wrap rounded-100 border border-solid border-blue-light-hover bg-blue-light p-300 ps-0 [&>*:nth-child(2n)]:w-[calc(100%-5.75em)] [&>*:nth-child(2n-1)]:w-[5.75em] [&>*:nth-child(2n-1)]:justify-center"},void 0,(0,nX.Z)("div",{className:"m-auto text-center"},void 0,(0,nX.Z)(mI.default,{color:"info"})),(0,nX.Z)("div",{className:"pt-100 font-bold text-blue-darker"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.info.short_transfer"})))),(0,nX.Z)(gF,{},void 0,nu||(nu=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:`relative h-400 ${gA} after:h-full`}))]}),hu=e=>{let{sectorSegment:t,prevSectorSegment:i,itinerary:a,itineraryRank:l,accommodationParams:r,isOWRT:n}=e,{layover:o}=t;if(!o)return null;let s=ut.th(i,t);return(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(gF,{},void 0,nc||(nc=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:`relative py-300 pe-300 before:top-0 before:h-full ${gI} [&_svg]:z-10 [&_svg]:bg-cloud-light`},void 0,(0,nX.Z)(hs,{sectorSegment:t,prevSectorSegment:i,itinerary:a,itineraryRank:l,accommodationParams:r,isOWRT:n}))),s&&o.isWalkingDistance&&(nv||(nv=(0,nX.Z)(hd,{})))]})},hc=(0,n3.memo)(e=>{let{hideLabel:t=!1,itinerary:i,shareUrl:a,isShareURLLoading:l,onOpenShareSheet:r}=e,n=(0,os.SK)(),{formatMessage:o}=(0,dU.Z)(),[s,d]=(0,n3.useState)(!1),u=o({id:"search.result.itinerary_detail.button.journey_action.share"}),{isSmallOrMediumMobile:c}=(0,oo.Z)(),v=(0,n4.v9)(u5.P1),m=(0,n3.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),n(cN,{...(0,sD.j1)(i),shareUrl:a,resultType:"detail"}),d(!s),r()},[n,i,a,s,r]),p=(0,n3.useMemo)(()=>{let e=c?"small":"medium";return v?(0,nX.Z)(p$.default,{size:e}):(0,nX.Z)(dt.default,{size:e})},[v,c]);return(0,nX.Z)(uf.default,{content:u,placement:"top",tabIndex:"-1",labelClose:o({id:"orbit.button_close"})},void 0,(0,nX.Z)(uh.default,{disabled:l,onClick:m,type:"secondary",size:c?"small":"normal",iconLeft:p,title:u,"data-test":"PopupShareButton"},void 0,c||t?null:u))}),hv=e=>{let{isOWRT:t=!1,children:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("relative flex items-center py-300 [&_svg]:relative [&_svg]:z-10 [&_svg]:bg-cloud-light",!t&&"[&_svg]:me-200",`${gI} before:top-0 before:h-full [&>ul]:-ms-100 [&>ul]:bg-transparent [&>ul_svg]:bg-inherit`)},void 0,i)},hm=e=>{var t,i,a,l,r,n,o,s,d,u,c;let{sector:v,nextSector:m,stopover:p,itinerary:f,sectorIndex:g,accommodationParams:h,differentDepartureMessage:Z,shouldScrollIntoView:b,shouldShowShareButtonAlongDestination:y=!1,itineraryRank:k,isOWRT:x=!1,differentDepartureOrArrivalMessage:_,handleOpenShareSheet:w,isShareURLLoading:C,onTextLinkClick:S}=e,N=(0,n3.useRef)(null);(0,n3.useEffect)(()=>{if(b&&N.current){var e;null==N||null===(e=N.current)||void 0===e||e.scrollIntoView()}},[b]);let{sectorSegments:T}=v;if(!T)return null;let I=null===(t=vm()(T))||void 0===t?void 0:t.segment;return(0,ow.jsxs)("div",{ref:N,"data-test":"TripPopupWrapper",children:[(0,nX.Z)("div",{className:"-mx-800 mb-400 flex items-center justify-between border-0 border-card border-b border-solid px-800 pb-400 pt-0"},void 0,(0,nX.Z)("h2",{className:(0,n2.Z)("text-heading-title3 font-heading-title3 leading-heading-title3",0===g?"mt-0":"mt-1000")},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.to_where.header",values:{place:null!==(i=null==I?void 0:null===(a=I.destination)||void 0===a?void 0:null===(l=a.station)||void 0===l?void 0:null===(r=l.city)||void 0===r?void 0:r.name)&&void 0!==i?i:""}})),y&&(0,nX.Z)(hc,{hideLabel:!0,itinerary:f,onOpenShareSheet:w,shareUrl:(0,c3.j4)(),isShareURLLoading:C})),(0,nX.Z)("section",{},void 0,(0,nX.Z)(gF,{},void 0,nm||(nm=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:`relative flex items-center pb-600 pe-300 before:top-1/2 before:h-1/2 ${gI} [&_svg]:me-200`},void 0,np||(np=(0,nX.Z)(gN.default,{size:"small"})),(0,nX.Z)("h3",{className:"m-0 text-small font-medium leading-small"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:(0,sa.sG)(null===(n=fB()(T))||void 0===n?void 0:null===(o=n.segment)||void 0===o?void 0:null===(s=o.source)||void 0===s?void 0:s.localTime)})))),(Z||_)&&(0,nX.Z)(gF,{},void 0,nf||(nf=(0,nX.Z)("div",{})),x?(0,nX.Z)(hv,{isOWRT:x},void 0,(0,nX.Z)(gC.default,{},void 0,(0,nX.Z)(gC.BadgeListItem,{type:"warning",icon:ng||(ng=(0,nX.Z)(mh.default,{color:"secondary",size:"small"}))},void 0,(0,nX.Z)(ok.default,{size:"small",as:"span",type:"secondary"},void 0,(0,ow.jsx)(ox.Z,{...null!=_?_:Z}))))):(0,nX.Z)(hv,{},void 0,nh||(nh=(0,nX.Z)("div",{className:"[&>svg]:border-0"},void 0,(0,nX.Z)(gS.default,{color:"warning",size:"small",dataTest:"Alert"}))),(0,nX.Z)(ok.default,{size:"small",as:"span",type:"warning"},void 0,(0,ow.jsx)(ox.Z,{...Z})))),T.map((e,t)=>{var i,a,l,r,n,o,s;if(!e)return null;let d=T[t-1];return(0,nX.Z)(n3.Fragment,{},null!==(i=null==e?void 0:null===(a=e.segment)||void 0===a?void 0:a.id)&&void 0!==i?i:t,(0,nX.Z)(hu,{sectorSegment:e,prevSectorSegment:d,itinerary:f,itineraryRank:k,accommodationParams:h,isOWRT:x}),(0,nX.Z)(he,{sectorSegment:e,prevSectorSegment:d,forcedDepartureAirport:ut.FD(d,e),forcedArrivalAirport:ut.FD(e,T[t+1]),itineraryRank:k}),(null==e?void 0:null===(l=e.segment)||void 0===l?void 0:l.hiddenDestination)&&(0,nX.Z)(gD,{cityName:null!==(r=null==e?void 0:null===(n=e.segment)||void 0===n?void 0:null===(o=n.hiddenDestination)||void 0===o?void 0:null===(s=o.city)||void 0===s?void 0:s.name)&&void 0!==r?r:"",onTextLinkClick:S}))}),(0,nX.Z)(gF,{},void 0,nZ||(nZ=(0,nX.Z)("div",{})),(0,nX.Z)("div",{className:`relative flex items-center pb-300 pt-600 before:top-0 before:h-1/2 ${gI} [&_svg]:z-10`},void 0,(0,nX.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,nb||(nb=(0,nX.Z)(gT.default,{size:"small",customColor:"#7f91a8"})),(0,nX.Z)("div",{className:"flex flex-col space-y-50"},void 0,ny||(ny=(0,nX.Z)(ok.default,{type:"secondary",size:"small",as:"span"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.arrive_at_destination"}))),(0,nX.Z)(gK,{},void 0,null==I?void 0:null===(d=I.destination)||void 0===d?void 0:null===(u=d.station)||void 0===u?void 0:null===(c=u.city)||void 0===c?void 0:c.name)))),m&&(0,nX.Z)(gB,{sector:v,stopover:p,nextSector:m,accommodationParams:h,itineraryRank:k})))]})},hp=e=>{let{isVirtualInterlining:t}=e,{company_name:i}=(0,fo.useBrand)(),a="on"===(0,d3.useTest)("RYANAIR_VERIFIED"),l=(0,ui.sH)(ui.Dq.RYANAIR_PARTNERSHIP),r=(0,ui.sH)(ui.Dq.RYANAIR_PARTNERSHIP_VI),{url:n,maybeOpenHelp:o}=t?r:l;return(0,nX.Z)("div",{className:"mt-600 flex flex-col rounded-200 border-0 border-t-card bg-card p-400 shadow-result-card","data-test":"ryanair-exclusive-offer-itinerary"},void 0,(0,nX.Z)("div",{className:(0,n2.Z)("flex min-h-[52px] justify-between",a&&"flex-col")},void 0,(0,nX.Z)(p_.default,{type:"title3",as:"h3",spaceAfter:"normal"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.title",values:{companyName:i}})),a?(0,nX.Z)("div",{className:"order-first mb-150 flex items-center text-[#093591]"},void 0,nk||(nk=(0,nX.Z)("img",{src:"/images/logos/ryanair/ryanair-verified-xl.svg",width:"42",height:"32",alt:"","aria-hidden":"true"})),nx||(nx=(0,nX.Z)("span",{className:"translate-y-50 text-small font-normal leading-small ltr:-ml-100 rtl:mr-100"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.badges.ryanair_verified"})))):(0,nX.Z)("div",{className:"relative mx-400"},void 0,(0,nX.Z)("div",{className:"rounded-[10px] border-2 border-solid border-white p-50 shadow-level1"},void 0,(0,nX.Z)(fs.default,{carriers:[{code:"kiwicom",name:"Kiwi.com"}],rounded:!1,size:"large"})),(0,nX.Z)("div",{className:"absolute left-400 top-400 rounded-[10px] border-2 border-solid border-white bg-[#182753] p-50 shadow-level1"},void 0,(0,nX.Z)(fs.default,{carriers:[{code:"FR",name:"Ryanair"}],rounded:!1,size:"large"})))),(0,nX.Z)("p",{className:"mb-200 text-ink-normal"},void 0,t?n_||(n_=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.disclaimer_virtual_interlining"})):nw||(nw=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.disclaimer"}))),(0,nX.Z)(dC.default,{external:!0,href:n,onClick:o},void 0,nC||(nC=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.ryanair_partnership.learn_more"}))))},hf=e=>{let{text:t}=e;return(0,nX.Z)("div",{className:"flex items-center text-ink-normal safe-space-x-100"},void 0,nS||(nS=(0,nX.Z)(mI.default,{color:"secondary"})),(0,nX.Z)("p",{},void 0,t))},hg=()=>nN||(nN=(0,nX.Z)(dG.default,{icon:(0,nX.Z)(dQ.default,{size:"small",customColor:"#00A991"})},void 0,(0,nX.Z)(ox.Z,{id:"result.itinerary.travel_hack_badge"}))),hh=()=>{let e=(0,os.SK)(),{formatMessage:t}=(0,dU.Z)(),i=(0,vO.Z)();(0,n3.useEffect)(()=>{e(mu)},[e]);let{url:a,maybeOpenHelp:l}=(0,ui.sH)(ui.Dq.HIDDEN_DESTINATIONS),r=(0,n3.useCallback)(t=>{e(mv),l(t)},[l,e]);return(0,ow.jsxs)(ow.Fragment,{children:[nT||(nT=(0,nX.Z)("div",{className:"mb-400"},void 0,(0,nX.Z)(hg,{}))),nI||(nI=(0,nX.Z)(p_.default,{spaceAfter:"largest",as:"h2",type:"title3"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.title"}))),nR||(nR=(0,nX.Z)(ok.default,{spaceAfter:"medium"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.message"}))),(0,nX.Z)(n7.default,{type:"warning",labelClose:t({id:"orbit.button_close"}),spaceAfter:"medium",dataTest:"Alert"},void 0,nA||(nA=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.warning"}))," ",(0,nX.Z)(dC.default,{href:a,external:!0,onClick:r},void 0,nF||(nF=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.warning.learn_more"})))),nD||(nD=(0,nX.Z)(p_.default,{spaceAfter:"largest",as:"h3",type:"title3"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.important_information"}))),(0,nX.Z)("div",{className:"space-y-400"},void 0,nP||(nP=(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(uC.default,{}),(0,nX.Z)("div",{className:"space-y-600"},void 0,(0,nX.Z)(p_.default,{spaceAfter:"small",as:"h4",type:"title4"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.personal_item.title"})),(0,nX.Z)(ok.default,{},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.personal_item.message"}))))),nE||(nE=(0,nX.Z)("div",{className:"flex safe-space-x-400"},void 0,(0,nX.Z)(pw.default,{}),(0,nX.Z)("div",{className:"space-y-600"},void 0,(0,nX.Z)(p_.default,{spaceAfter:"small",as:"h4",type:"title4"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.visa.title"})),(0,nX.Z)(ok.default,{},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.visa.message"}))))),(0,nX.Z)(hf,{text:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.hidden_city.risks",values:{a:e=>(0,nX.Z)(dC.default,{href:`/${i.id}/help/kiwi-com-travel-hacks-258/article/hidden-city-travel-hack-272/`,external:!0},void 0,e)}})}))]})},hZ=()=>{let e=(0,n3.useRef)(null),[t,i]=(0,n3.useState)(null),a=(0,n3.useCallback)(e=>{i(e)},[]),l=(0,n3.useCallback)(()=>{var t,i;return null!==(t=null===(i=e.current)||void 0===i?void 0:i.getScrollPosition())&&void 0!==t?t:0},[e]);return{modalRef:e,scrollingElementFn:a,scrollingElement:t,getModalScrollPosition:l}},hb=e=>{var t,i,a;let{itinerary:l,accommodationParams:r,isLargeMobile:n,itineraryRank:o,isTier1Search:s,onClose:d,handleOpenShareSheet:u,isShareURLLoading:c,onClickSideEffect:v,shouldShowRyanairPartnership:m}=e,p=(0,os.SK)(),f=(0,n4.v9)(sL.pR),[g,h]=(0,n3.useState)(!1),{modalRef:Z,scrollingElementFn:b,scrollingElement:y,getModalScrollPosition:k}=hZ(),x=(0,n3.useRef)(null),_=ue.hc(l),w=ue.KH(l),C=_||w,S=ue.s9(l);(0,n3.useEffect)(()=>{if(!y||!C)return()=>{};let e=(0,sH.P)(100,()=>{let e=hi(n);h(k()>e)});return y.style.scrollBehavior="smooth",y.addEventListener("scroll",e),()=>y.removeEventListener("scroll",e)},[n,C,y,k]);let{url:N,maybeOpenHelp:T}=(0,ui.sH)(ui.Dq.DISALLOWED_BAGS_ARTICLE),I=ue.gd(l),R=(0,n3.useCallback)(()=>{if(!x.current)return;let e=(0,gh.U)(["top"],x.current.getBoundingClientRect());if(!y)return;let t=n?0:32,i=k();Z.current&&Z.current.setScrollPosition(e+i-t)},[x,n,Z,y,k]),A=(0,n3.useCallback)(()=>{p(mc),R()},[p,R]),F=(0,n3.useCallback)(()=>{var e;return(0,nX.Z)("div",{className:"pe-400"},void 0,(0,nX.Z)(ok.default,{size:"large",weight:"bold",align:"right"},void 0,(0,nX.Z)(si.Z,{maxSize:99},void 0,null==l?void 0:null===(e=l.price)||void 0===e?void 0:e.amount)))},[null==l?void 0:null===(t=l.price)||void 0===t?void 0:t.amount]),D=(0,n3.useCallback)(()=>(0,nX.Z)(hc,{shareUrl:(0,c3.j4)(),isShareURLLoading:c,itinerary:l,onOpenShareSheet:u}),[u,c,l]),P=(0,n3.useCallback)(()=>(0,nX.Z)(gg,{itinerary:l,bookingOption:ue.Ay(l),size:"normal",hidePrice:!0,dataTest:"DetailBookingButton",resultType:"detail",onClickSideEffect:v,itineraryRank:o,isTier1Search:s}),[l,o,v]);return(0,nX.Z)(gw,{onClose:d,modalRef:Z,scrollingElementRef:b},void 0,nL||(nL=(0,nX.Z)(uQ.ModalHeader,{title:(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.title"})})),(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(uQ.ModalSection,{suppressed:!0},void 0,C&&(0,nX.Z)(gx,{isSticky:g},void 0,_?nB||(nB=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(gk,{},void 0,(0,nX.Z)(dW.default,{size:"small"})),(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.no_baggage"})]})):nK||(nK=(0,ow.jsxs)(ow.Fragment,{children:[(0,nX.Z)(gk,{},void 0,(0,nX.Z)(uw.default,{size:"small"})),(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.alerts.no_checked_bag"})]})),f&&(0,nX.Z)("a",{href:N,target:"_blank",rel:"noreferrer",className:"ms-200 inline-flex cursor-pointer p-100 text-small font-bold text-inherit underline",onClick:T},void 0,nO||(nO=(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.more_info"})),nM||(nM=(0,nX.Z)(ml.default,{size:"small",reverseOnRtl:!0})))),(0,nX.Z)("div",{className:"text-[14px]"},void 0,I.map((e,t)=>{let i=ue.Mb(l,t);return e&&(0,nX.Z)(hm,{sector:e,nextSector:I[t+1],stopover:i,itinerary:l,sectorIndex:t,accommodationParams:r,differentDepartureMessage:t>0?hr(I[t-1],e):null,itineraryRank:o,onTextLinkClick:A,handleOpenShareSheet:u,isShareURLLoading:c},e.id)})),m&&(0,nX.Z)(hp,{isVirtualInterlining:null!==(i=null===(a=l.travelHack)||void 0===a?void 0:a.isVirtualInterlining)&&void 0!==i&&i})),S&&(0,nX.Z)(uQ.ModalSection,{},void 0,(0,ow.jsx)(hh,{ref:x}))]}),(0,nX.Z)(uQ.ModalFooter,{flex:"auto"},void 0,(0,nX.Z)(gy,{},void 0,(0,nX.Z)(gZ,{},void 0,(0,nX.Z)(D,{})),(0,nX.Z)(gb,{},void 0,(0,nX.Z)(F,{}),(0,nX.Z)(P,{})))))};var hy=i("37753");let hk=e=>{let{children:t,className:i}=e;return(0,nX.Z)("div",{className:(0,n2.Z)("flex h-600 items-center justify-between px-300",i)},void 0,t)},hx=e=>{var t,i,a,l;let{itinerary:r,highlightSingleSector:n,unhighlightSingleSector:o}=e,s=ue.gd(r);return(0,nX.Z)("div",{className:"pb-200 pt-300"},void 0,(0,nX.Z)(hk,{},void 0,(0,nX.Z)("span",{},void 0,(0,nX.Z)(ox.Z,{id:"result.start_from",values:{city:(0,nX.Z)(ok.default,{weight:"bold",as:"span"},void 0,null!==(t=null===(i=ue.TH(r))||void 0===i?void 0:null===(a=i.station)||void 0===a?void 0:null===(l=a.city)||void 0===l?void 0:l.name)&&void 0!==t?t:"")}}))),s.map((e,t)=>{var i,a,l,d,u,c,v,m;let p=vp.TH(e),f=vp.x9(e),g=ue.Mb(r,t),h=t===s.length-1,Z=(0,sa.sG)(null==p?void 0:p.localTime);return(0,nX.Z)("div",{},null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",(0,nX.Z)("div",{className:"flex h-1000 items-center justify-between ps-300",onMouseEnter:n&&d$()(n,null,e,t),onMouseLeave:o},void 0,(0,nX.Z)("div",{className:"flex safe-space-x-200"},void 0,nj||(nj=(0,nX.Z)(hy.default,{size:"small",color:"secondary"})),(0,nX.Z)(ok.default,{size:"small",type:"secondary"},void 0,(0,nX.Z)(ma,{formatKeys:"dateFormat",value:Z}),"\xa0\xb7\xa0",(0,nX.Z)(ma,{formatKeys:"timeFormat",value:Z}))),(0,nX.Z)("div",{className:"flex items-center pe-100 safe-space-x-100"},void 0,(0,nX.Z)(dG.default,{type:"infoSubtle"},void 0,(0,nX.Z)(mU.Z,{value:vp.g9(e)})),(0,nX.Z)("div",{className:"flex w-800 justify-center"},void 0,(0,nX.Z)(fs.default,{size:"small",carriers:vp.FL(e).map(e=>{var t;return{code:e.code,name:null!==(t=e.name)&&void 0!==t?t:""}})})))),(0,nX.Z)(hk,{className:h?"":"bg-gradient-to-r from-white-normal to-cloud-light"},void 0,(0,nX.Z)("span",{},void 0,h?(0,nX.Z)(ox.Z,{id:"result.end_in",values:{city:(0,nX.Z)(ok.default,{weight:"bold",as:"span"},void 0,null!==(a=null==f?void 0:null===(l=f.station)||void 0===l?void 0:null===(d=l.city)||void 0===d?void 0:d.name)&&void 0!==a?a:"")}}):(0,nX.Z)(ok.default,{weight:"bold"},void 0,null!==(u=null==f?void 0:null===(c=f.station)||void 0===c?void 0:null===(v=c.city)||void 0===v?void 0:v.name)&&void 0!==u?u:"")),g&&(0,nX.Z)(ok.default,{},void 0,(0,nX.Z)(ox.Z,{id:"result.stay_in_destination",values:{nightsInDestination:null!==(m=g.nightsCount)&&void 0!==m?m:0}}))))}))},h_=e=>{let{itinerary:t,itineraryRank:i,isTier1Search:a,onClickSideEffect:l}=e;return(0,nX.Z)("div",{className:"flex border-0 border-t-card border-solid p-300 safe-space-x-200","data-test":"Journey-buttons"},void 0,nz||(nz=(0,nX.Z)("div",{className:"group-hover:[&_button]:bg-cloud-normal-hover","data-test":"Journey-toggle"},void 0,(0,nX.Z)(dB.default,{type:"secondary",iconLeft:(0,nX.Z)(gj.default,{}),size:"small"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.itinerary_detail.button.get_detail"})))),(0,nX.Z)("div",{className:"grow"},void 0,(0,nX.Z)(gg,{itinerary:t,bookingOption:ue.Ay(t),onClickSideEffect:l,dataTest:"BookingButton",resultType:"result card",itineraryRank:i,isTier1Search:a},"nomad-booking-button")))},hw=(0,n3.memo)(e=>{let{itinerary:t,passengers:i,isSharedItinerary:a=!1,isKiwiBranding:l,currency:r,language:n,setHighlightedDebounced:o,unsetHighlightedDebounced:s,setSingleSectorHighlightedDebounced:d,showBookOnKiwiMessage:u,itineraryRank:c,onItemVisible:v,index:m,onOpenDetail:p,onCloseDetail:f,saveResultID:g,getCardRef:h,isExpanded:Z,isTier1Search:b}=e,y=(0,ue.CV)(t),k=(0,n3.useContext)(uc),{formatMessage:x}=(0,dU.Z)(),_=(0,n4.I0)(),w=(0,os.SK)(),C=(0,n4.v9)(sL.$6),{isCustomShareSheetOpen:S,handleOpenShareSheet:N,handleOpenNativeShareSheet:T,handleCloseCustomShareSheet:I,shareURL:R,isShareURLLoading:A,shareQuote:F,trackShare:D,isNativeShareSupported:P}=cF(t),{isLargeMobile:E}=(0,dz.default)(),{isHiddenDestination:L}=cL(t),{ref:B}=cP({index:m,dispatch:_,onItemVisible:v}),K=cK({itinerary:t,travelHackByPrio:L?"hiddenDestination":null,promotedAirportData:k,isNomad:!0}),{showResultCardBadges:O}=K,M=u$(t),j=l?{passengers:i,currency:r,language:n}:null,z=(0,n3.useCallback)(()=>{o&&o(t)},[o,t]),V=(0,n3.useCallback)(()=>{s&&s()},[s]),$=(0,n3.useCallback)(()=>{p(t,c),w(oU.nj,{trace:(0,sD.Xp)(t),rank:c,tierMarketing:b?1:0}),s2.Z.track("viewDetails","click",(0,cE.Z)(t,i))},[p,t,c,w,b,i]),U=(0,n3.useCallback)(()=>{f(),w(oU.St)},[f,w]);return(0,ow.jsxs)(ow.Fragment,{children:[S&&(0,nX.Z)(ci,{handleCloseShareSheet:I,handleOpenNativeShareSheet:T,trackShare:D,shareQuote:F,shareURL:R,isNativeShareSupported:P}),Z&&(0,nX.Z)(hb,{itinerary:t,onClose:U,handleOpenShareSheet:N,isShareURLLoading:A,accommodationParams:j,onClickSideEffect:g,isLargeMobile:!!E,itineraryRank:c,isTier1Search:b,shouldShowRyanairPartnership:M}),(0,ow.jsxs)("div",{className:(0,n2.Z)("group mb-400 cursor-pointer rounded-100 bg-white-normal shadow-level1 transition-shadow duration-fast ease-in-out hover:shadow-level2",Z&&"shadow-level2"),"data-test":y,onMouseEnter:z,onMouseLeave:V,role:"button",tabIndex:-1,"aria-label":x({id:"search.result.itinerary_detail.button.get_detail"}),"aria-expanded":Z,onClick:$,onKeyDown:d$()(gm,null,y,$),ref:e=>{null==h||h(e),B(e)},children:[a&&(nV||(nV=(0,nX.Z)(dn,{}))),(0,nX.Z)(hx,{itinerary:t,highlightSingleSector:d,unhighlightSingleSector:z}),O&&(0,nX.Z)(uV,{resultCardBadgesData:K,travelHack:L?"hiddenDestination":null,isNomad:!0,shouldShowRyanairPartnership:M}),(0,nX.Z)(h_,{itinerary:t,itineraryRank:c,onClickSideEffect:g,isTier1Search:b}),u&&(0,nX.Z)("div",{className:"pb-300"},void 0,(0,nX.Z)(ok.default,{size:"small",align:"center",weight:"bold"},void 0,(0,nX.Z)(ox.Z,{id:"search.result.booking_options.info.book_on",values:{site:C}})))]})]})});var hC=i("51763"),hS=i("62859");let hN=e=>{let{data:t,searchForm:i,mode:a,isKiwiBranding:l,currency:r,language:n,itineraries:o,showNomadBookOnKiwiMessage:s,renderBuffer:d,renderCount:u,itinerariesMetadata:c,bannerSlot:v,openedResultId:m,resultCardConnectedProps:p,responseContainsKayakItinerary:f,isTier1Search:g,increaseRenderCount:h,getStoreNodeRef:Z,saveResultRef:b,onOpenDetail:y,onCloseDetail:k,onClosePrebooking:x}=e,_=(0,n9.St)(sN.Lx),{passengers:w}=i,{isMobileOrTablet:C}=(0,oo.Z)(),S=(0,n4.v9)((0,sF.gk)("prebooking")),N=(0,hS.W6)(c,a),T=(0,n3.useCallback)(e=>{"string"==typeof e&&(0,n9.D9)(sN.Lx,e)},[]),I=o.map((e,o)=>{var v,C;if(o>=u&&e.id!==m&&e.id!==_)return(0,nX.Z)(du,{index:o,searchForm:i,renderBuffer:d,renderCount:u,increaseRenderCount:h,mode:a},`itineraryPlaceholder-${o}`);let I=ue.CV(e),R=_===e.id;return"nomad"===a&&e.__typename===d8.P_.nomad?(0,nX.Z)(up.Provider,{itinerary:e},I,(0,ow.jsx)(hw,{index:o,itinerary:e,passengers:w,getCardRef:b(R),isKiwiBranding:l,currency:r,language:n,showBookOnKiwiMessage:s,itineraryRank:o,isExpanded:m===e.id,onOpenDetail:y,onCloseDetail:k,saveResultID:T,isTier1Search:g,onItemVisible:o===u-1?h:void 0,...p})):(0,nX.Z)(up.Provider,{itinerary:e},I,(0,ow.jsx)(gp,{data:null!==(v=null==t?void 0:null===(C=t.itineraries)||void 0===C?void 0:C.find(t=>(null==t?void 0:t.id)===e.id))&&void 0!==v?v:null,index:o,storeRef:Z(I),getCardRef:b(R),itinerary:e,passengers:w,itineraryRank:o,onItemVisible:o===u-1?h:void 0,isExpanded:S===e.shareId,onOpenDetail:y,onCloseDetail:k,onClosePrebooking:x,extendedTrackingMetadata:N?null==c?void 0:c.extendedTrackingMetadata:null,saveResultID:T,responseContainsKayakItinerary:f,isTier1Search:g,...p}))});if(I.length<3)return(0,nX.Z)("div",{className:"mb-400 space-y-400"},void 0,I);let R=(null==v?void 0:v.props.data.placement)==="results",A=(0,nX.Z)("div",{},"resultBanner",R&&v),F=dL()(dP()(3,A),C?o.length>5?dP()(6,(0,nX.Z)(dj,{isNomad:"nomad"===a},"FeedbackCard")):dF()((0,nX.Z)(dj,{isNomad:"nomad"===a},"FeedbackCard")):dR(),I.length>=10?dP()(11,(0,nX.Z)(hC.Z,{data:c},"travelTip")):dR())(I);return(0,nX.Z)("div",{className:"mb-400 space-y-400"},void 0,F)},hT=e=>{let{data:t,searchForm:i,mode:a,isKiwiBranding:l,currency:r,language:n,showNomadBookOnKiwiMessage:o,openedResultId:s,resultCardConnectedProps:d,isLoading:u,renderBuffer:c,renderCount:v,sharedItinerary:m,responseContainsKayakItinerary:p,isTier1Search:f,onOpenDetail:g,onCloseDetail:h,onClosePrebooking:Z,increaseRenderCount:b}=e,{passengers:y}=i,k=(0,n4.v9)((0,sF.gk)("sharedItineraryId")),x=(0,n4.v9)((0,sF.gk)("prebookingShared"));if(!m)return u?(0,nX.Z)("div",{className:"w-full px-50"},void 0,(0,nX.Z)(du,{index:-1,searchForm:i,renderBuffer:c,renderCount:v,increaseRenderCount:b,isSharedItinerary:!0,mode:a})):null;return"nomad"===a&&m.__typename===d8.P_.nomad?(0,nX.Z)(up.Provider,{itinerary:m},void 0,(0,ow.jsx)(hw,{index:-1,isSharedItinerary:!0,itinerary:m,passengers:y,isKiwiBranding:l,currency:r,language:n,showBookOnKiwiMessage:o,itineraryRank:0,isExpanded:s===m.id,onOpenDetail:g,onCloseDetail:h,saveResultID:of.Z,getCardRef:of.Z,isTier1Search:f,...d},"sharedItinerary")):(0,nX.Z)(up.Provider,{itinerary:m},void 0,(0,ow.jsx)(gp,{index:-1,isSharedItinerary:!0,data:t,itinerary:m,passengers:y,itineraryRank:0,isExpanded:s===m.id||"1"===x&&k===m.shareId,onOpenDetail:g,onCloseDetail:h,onClosePrebooking:Z,saveResultID:of.Z,responseContainsKayakItinerary:p,isTier1Search:f,...d},"sharedItinerary"))};var hI=i("5206"),hR=i.n(hI),hA=i("30275"),hF=i.n(hA),hD=i("26921"),hP=i.n(hD),hE=i("39280"),hL=i.n(hE),hB=i("20793"),hK=i.n(hB),hO=i("34226"),hM=i.n(hO),hj=i("52417"),hz=i.n(hj);let hV=16.666666666666668;class h${constructor(){(0,sG.Z)(this,"stopped",!1),(0,sG.Z)(this,"callback",()=>{})}stop(){this.stopped=!0}step(e){!this.stopped&&this.callback(e)}}let hU=e=>{let{count:t,scrollToFirstNew:i}=e;return(0,nX.Z)("button",{type:"button",className:(0,n2.Z)("fixed inset-x-0 top-[--form-height-mobile] z-10 w-full animate-[slide-down_0.5s] cursor-pointer bg-button-primary-background p-400 text-center text-white-normal opacity-80","hover:text-white-normal hover:opacity-100 active:bg-button-primary-background-active","de:top-[--form-height-desktop] ld:top-[--form-height-largeDesktop]"),onClick:i},void 0,(0,nX.Z)("b",{},void 0,n$||(n$=(0,nX.Z)(dg.default,{size:"small"}))," ",(0,nX.Z)(ox.Z,{id:"result.unseen_count",values:{count:t}})))},hG=(0,ck.Z)(100,e=>e.map(ue.CV));class hH extends n3.PureComponent{constructor(){super(...arguments),(0,sG.Z)(this,"state",{prevData:{},lastSeen:null,unseen:[],lastUrl:""}),(0,sG.Z)(this,"nodeRefs",{}),(0,sG.Z)(this,"nodeRefCapturers",{}),(0,sG.Z)(this,"scrollValueNode",null),(0,sG.Z)(this,"scrollNodeOffset",0),(0,sG.Z)(this,"autoScroll",!1),(0,sG.Z)(this,"cancelScrollNode",null),(0,sG.Z)(this,"handleResultsScroll",(0,sH.P)(500,e=>{let{itineraries:t,onScroll:i}=this.props,{unseen:a,lastSeen:l}=this.state;if(0===t.length||this.autoScroll)return;let r=hG(t),n=r.findIndex(e=>{var t;return(this===null||void 0===this?void 0:null===(t=this.nodeRefs)||void 0===t?void 0:t[e])&&this.nodeRefs[e].getBoundingClientRect().top>=this.scrollNodeOffset});if(n<=0){e&&i({countAbove:0,countBelow:r.length}),l&&this.setState({lastSeen:null,unseen:a.length>0?[]:a});return}let o=n<0?r.length-1:n,s=l?Math.max(0,r.indexOf(l)):0;if(s===o)return;e&&i({countAbove:o,countBelow:r.length-o});let d=Math.max(document.documentElement?document.documentElement.clientHeight:0,window.innerHeight),u=hz()(e=>!!this.nodeRefs[e]&&this.nodeRefs[e].getBoundingClientRect().bottom<=d,r);if(u<0){this.setState({lastSeen:null,unseen:a.length>0?[]:a});return}this.setState({lastSeen:r[o],unseen:hM()(a,r.slice(Math.min(o,s),Math.max(u+1,s)))})})),(0,sG.Z)(this,"getStoreNodeRef",e=>(!this.nodeRefCapturers[e]&&(this.nodeRefCapturers[e]=t=>this.captureNodeRef(e,t)),this.nodeRefCapturers[e])),(0,sG.Z)(this,"getUnseenAbove",()=>{let{lastSeen:e,unseen:t}=this.state,{itineraries:i}=this.props;return e&&0!==t.length?hK()((i,a)=>{let l=ue.CV(a);return l===e?hL()(i):t.includes(l)?i+1:i},0,i):0}),(0,sG.Z)(this,"resultsScrollCallback",()=>{this.handleResultsScroll(!0)}),(0,sG.Z)(this,"scrollTo",(e,t,i)=>{let{getScrollOffset:a}=this.props;this.cancelScrollNode&&this.cancelScrollNode(),this.autoScroll=!0,this.cancelScrollNode=this.scrollValueNode&&e&&function(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4?arguments[4]:void 0,r=t.offsetTop,n=t.offsetParent;for(;n&&n!==e&&n instanceof HTMLElement;)r+=n.offsetTop,n=n.offsetParent;return function(e,t,i,a){var l,r;let n=new h$;n.callback=t=>{e.scrollTop=t};let o=e.scrollTop,s=t-o;return(l=i,r=e=>n.step(o+s*e),new Promise(e=>{let t=Date.now(),i=setInterval(()=>{let e=(Date.now()-t)/(1e3*l);r(e*e*(3-2*e))},hV);setTimeout(()=>{clearInterval(i),e()},1e3*l)})).then(()=>{a&&a()}),()=>n.stop()}(e,r+a,i,l)}(this.scrollValueNode,e,t,-a(),()=>{this.autoScroll=!1,this.setState(i)})}),(0,sG.Z)(this,"scrollToFirstNew",()=>{let{itineraries:e}=this.props,{unseen:t}=this.state,i=hG(e).find(e=>t.includes(e)),a=i&&this.nodeRefs[i];if(!!a)this.scrollTo(a,1,{lastSeen:null,unseen:[]})}),(0,sG.Z)(this,"captureNodeRef",(e,t)=>{this.nodeRefs[e]=t})}static getDerivedStateFromProps(e,t){let{itineraries:i}=e,{unseen:a,prevData:l,lastUrl:r}=t;if(!i.length)return{prevData:n1()(l)?l:{},lastSeen:null,unseen:a.length>0?[]:a,lastUrl:""};let n="undefined"==typeof window?"":window.location.href,o=r!==n,s=i.reduce((e,t)=>{var i;let a=ue.Ay(t);return e[ue.CV(t)]=null==a?void 0:null===(i=a.itineraryProvider)||void 0===i?void 0:i.code,e},o?{}:{...l});if(o)return{prevData:s,lastSeen:null,unseen:a.length>0?[]:a,lastUrl:n};if(!sR()(l,s)){let e=hG(i),t=Object.keys(s).reduce((e,t)=>{let i=s[t];return l[t]&&l[t]===i?e:[...e,t]},[]);return{prevData:s,unseen:hP()(hF()(a,t),e),lastUrl:n}}return null}componentDidMount(){this.scrollValueNode=(0,sW.wy)(),this.scrollNodeOffset=this.scrollValueNode?this.scrollValueNode.getBoundingClientRect().top:0,window.addEventListener("touchmove",this.resultsScrollCallback,!1),window.addEventListener("scroll",this.resultsScrollCallback,!1)}componentDidUpdate(){this.handleResultsScroll(!1)}componentWillUnmount(){window.removeEventListener("touchmove",this.resultsScrollCallback),window.removeEventListener("scroll",this.resultsScrollCallback)}render(){let{unseen:e}=this.state,{itineraries:t,children:i,isMCNomad:a}=this.props,l=this.getUnseenAbove(),r=!a&&l>0?(0,nX.Z)(hU,{count:l,scrollToFirstNew:this.scrollToFirstNew},"banner"):null,n=i(this.getStoreNodeRef,e,r),o=hG(t);return this.nodeRefs=hR()(o,this.nodeRefs),this.nodeRefCapturers=hR()(o,this.nodeRefCapturers),n}}let hW=()=>nU||(nU=(0,nX.Z)("svg",{fill:"none",viewBox:"0 0 74 40",width:"74",height:"40",xmlns:"http://www.w3.org/2000/svg"},void 0,(0,nX.Z)("path",{d:"m50.9 33.9h18.75c0.5799 0 1.05 0.4701 1.05 1.05s-0.4701 1.05-1.05 1.05h-18.75v-2.1z",fill:"url(#m)"}),(0,nX.Z)("rect",{x:"48.5",y:"10.199",width:"22.2",height:"23.7",rx:"2.1",fill:"url(#i)"}),(0,nX.Z)("rect",{x:"65.6",y:"10.199",width:"5.1",height:"23.7",rx:"2.1",fill:"url(#h)"}),(0,nX.Z)("rect",{x:"68.9",y:"12.9",width:".6",height:"18.3",rx:".3",fill:"#252A31",opacity:".5"}),(0,nX.Z)("rect",{x:"66.8",y:"12.9",width:".6",height:"18.3",rx:".3",fill:"#252A31",opacity:".5"}),(0,nX.Z)("rect",{x:"50.9",y:"11.4",width:"12.9",height:".9",rx:".45",fill:"#252A31",opacity:".5"}),(0,nX.Z)("path",{d:"m51.8 33.301h10.764v0.3c0 0.3 0.3364 0.3 0.3364 0.3h-10.42c-0.2123 0-0.4081-0.1147-0.512-0.3l-0.1682-0.3z",fill:"#4F5E71"}),(0,nX.Z)("rect",{x:"47.9",y:"15",width:"14.7",height:"16.2",rx:"2.4",fill:"url(#g)"}),(0,nX.Z)("path",{d:"m50.3 15.3c-1.1598 0-2.1 0.9402-2.1 2.1v12c0 0.497 0.4029 0.9 0.9 0.9h11.1c0.4971 0 0.9-0.403 0.9-0.9v-12c0-1.1598-0.9402-2.1-2.1-2.1h-8.6999z",fill:"#4F5E71",stroke:"#697D95",strokeWidth:".6"}),(0,nX.Z)("rect",{x:"60.8",y:"19.801",width:"1.8",height:".6",fill:"#252A31",opacity:".5"}),(0,nX.Z)("path",{d:"m59.9 20.963 0.1-0.5625h0.4001l0.1 0.5625v0.6562c0 0.1554-0.1343 0.2813-0.3001 0.2813-0.1657 0-0.3-0.1259-0.3-0.2813v-0.6562zm0.3001 0.6375c0.0828 0 0.15-0.0672 0.15-0.15 0-0.0829-0.0672-0.15-0.15-0.15s-0.15 0.0671-0.15 0.15c0 0.0828 0.0672 0.15 0.15 0.15z",clipRule:"evenodd",fill:"#fff",fillRule:"evenodd"}),(0,nX.Z)("rect",{x:"52.1",y:"17.699",width:"5.1",height:".3",rx:".15",fill:"#252A31",opacity:".5"}),(0,nX.Z)("rect",{x:"48.5",y:"19.801",width:"12.3",height:".6",fill:"#252A31",opacity:".5"}),(0,nX.Z)("circle",{cx:"54.35",cy:"34.95",r:"1.05",fill:"#41505B"}),(0,nX.Z)("rect",{x:"53.9",y:"33.9",width:".6",height:"2.1",rx:".10577",fill:"#41505B"}),(0,nX.Z)("circle",{cx:"54.05",cy:"34.95",r:"1.05",fill:"#576470"}),(0,nX.Z)("circle",{cx:"57.35",cy:"34.95",r:"1.05",fill:"#41505B"}),(0,nX.Z)("rect",{x:"56.9",y:"33.9",width:".6",height:"2.1",rx:".10577",fill:"#41505B"}),(0,nX.Z)("circle",{cx:"57.05",cy:"34.95",r:"1.05",fill:"#576470"}),(0,nX.Z)("circle",{cx:"64.85",cy:"34.95",r:"1.05",fill:"#41505B"}),(0,nX.Z)("rect",{x:"64.4",y:"33.9",width:".6",height:"2.1",rx:".10577",fill:"#41505B"}),(0,nX.Z)("circle",{cx:"64.55",cy:"34.95",r:"1.05",fill:"#576470"}),(0,nX.Z)("g",{filter:"url(#q)"},void 0,(0,nX.Z)("rect",{x:"55.7",y:"6.5996",width:"1.2",height:"3.6",fill:"#BDC8E2"})),(0,nX.Z)("g",{filter:"url(#p)"},void 0,(0,nX.Z)("rect",{x:"62.9",y:"6.5996",width:"1.2",height:"3.6",fill:"#BDC8E2"})),(0,nX.Z)("path",{d:"m55.4 4.1996c0-0.12427 0.0378-0.23971 0.1025-0.33547 0.029-0.04291 0.0634-0.08187 0.1022-0.1159 0.1056-0.09254 0.2439-0.14863 0.3953-0.14863h7.8c0.2071 0 0.3897 0.10493 0.4975 0.26453 0.0593 0.08778 0.096 0.1921 0.1017 0.30458 5e-4 0.01024 8e-4 0.02054 8e-4 0.03091v3.3c0 0.16568-0.1343 0.3-0.3 0.3h-1.2c-0.1657 0-0.3-0.13432-0.3-0.3v-2.1h-5.4v2.1c0 0.16569-0.1343 0.3-0.3 0.3h-1.2c-0.1657 0-0.3-0.13431-0.3-0.3v-3.3z",clipRule:"evenodd",fill:"#6C7F93",fillRule:"evenodd"}),(0,nX.Z)("path",{d:"m56.3 5.7004c0-0.16568 0.1343-0.3 0.3-0.3h0.6v2.1c0 0.16568-0.1343 0.3-0.3 0.3h-0.6v-2.1z",fill:"#54687A"}),(0,nX.Z)("path",{d:"m63.5 3.8996c0-0.16569 0.1343-0.3 0.3-0.3 0.3314 0 0.6 0.26863 0.6 0.6v3.3c0 0.16569-0.1343 0.3-0.3 0.3h-0.6v-3.9z",fill:"#54687A"}),(0,nX.Z)("path",{d:"m23 33.9h18.75c0.5799 0 1.05 0.4701 1.05 1.05s-0.4701 1.05-1.05 1.05h-18.75v-2.1z",fill:"url(#f)"}),(0,nX.Z)("path",{d:"m23.9 16.2c0-1.1598 0.9402-2.1 2.1-2.1h15c0.9941 0 1.8 0.8059 1.8 1.8v15.9c0 1.1598-0.9402 2.1-2.1 2.1h-14.7c-1.1598 0-2.1-0.9402-2.1-2.1v-15.6z",fill:"url(#e)"}),(0,nX.Z)("rect",{x:"39.5",y:"14.1",width:"3.3",height:"19.8",rx:"1.65",fill:"url(#d)"}),(0,nX.Z)("rect",{x:"41",y:"16.199",width:".6",height:"15.6",rx:".3",fill:"#F18B45"}),(0,nX.Z)("rect",{x:"25.4",y:"15.301",width:"11.4",height:".9",rx:".42308",fill:"#F18B45"}),(0,nX.Z)("path",{d:"m26.6 33.301h9.6v0.3c0 0.3 0.3 0.3 0.3 0.3h-9.6l-0.3-0.6z",fill:"#AE5700",opacity:".5"}),(0,nX.Z)("rect",{x:"23.9",y:"20.1",width:"12.3",height:"11.4",rx:"2.1",fill:"url(#c)"}),(0,nX.Z)("path",{d:"m26 20.399c-1.1598 0-2.1 0.9402-2.1 2.1v7.2c0 0.4971 0.4029 0.9 0.9 0.9h9.6c0.497 0 0.9-0.4029 0.9-0.9v-7.2c0-1.1598-0.9402-2.1-2.1-2.1h-7.2z",fill:"#F09032",stroke:"#F9B587",strokeWidth:".6"}),(0,nX.Z)("rect",{x:"35",y:"22.801",width:"1.2",height:".6",fill:"#AE5700",opacity:".5"}),(0,nX.Z)("path",{d:"m33.8 23.963 0.1-0.5625h0.4001l0.1 0.5625v0.6562c0 0.1554-0.1343 0.2813-0.3 0.2813s-0.3001-0.1259-0.3001-0.2813v-0.6562zm0.3001 0.6375c0.0829 0 0.15-0.0672 0.15-0.15 0-0.0829-0.0671-0.15-0.15-0.15-0.0828 0-0.15 0.0671-0.15 0.15 0 0.0828 0.0672 0.15 0.15 0.15z",clipRule:"evenodd",fill:"#fff",fillRule:"evenodd"}),(0,nX.Z)("rect",{x:"25.1",y:"21.6",width:"8.1",height:".3",rx:".15",fill:"#F9B587",opacity:".8"}),(0,nX.Z)("rect",{x:"24.2",y:"22.801",width:"10.8",height:".6",fill:"#AE5700",opacity:".5"}),(0,nX.Z)("circle",{cx:"27.95",cy:"34.95",r:"1.05",fill:"#41505B"}),(0,nX.Z)("rect",{x:"27.5",y:"33.9",width:".6",height:"2.1",rx:".10577",fill:"#41505B"}),(0,nX.Z)("circle",{cx:"27.65",cy:"34.95",r:"1.05",fill:"#576470"}),(0,nX.Z)("circle",{cx:"30.95",cy:"34.95",r:"1.05",fill:"#41505B"}),(0,nX.Z)("rect",{x:"30.5",y:"33.9",width:".6",height:"2.1",rx:".10577",fill:"#41505B"}),(0,nX.Z)("circle",{cx:"30.65",cy:"34.95",r:"1.05",fill:"#576470"}),(0,nX.Z)("circle",{cx:"37.85",cy:"34.95",r:"1.05",fill:"#41505B"}),(0,nX.Z)("rect",{x:"37.4",y:"33.9",width:".6",height:"2.1",rx:".10577",fill:"#41505B"}),(0,nX.Z)("circle",{cx:"37.55",cy:"34.95",r:"1.05",fill:"#576470"}),(0,nX.Z)("g",{filter:"url(#o)"},void 0,(0,nX.Z)("rect",{x:"29",y:"10.799",width:"1.2",height:"3.3",fill:"#BDC8E2"})),(0,nX.Z)("g",{filter:"url(#n)"},void 0,(0,nX.Z)("rect",{x:"36.2",y:"10.799",width:"1.2",height:"3.3",fill:"#BDC8E2"})),(0,nX.Z)("path",{d:"m28.7 7.1996c0-0.12427 0.0378-0.23971 0.1025-0.33547 0.029-0.04291 0.0634-0.08187 0.1022-0.1159 0.1056-0.09254 0.2439-0.14863 0.3953-0.14863h7.8c0.1657 0 0.3157 0.06716 0.4242 0.17573 0.1026 0.10261 0.1683 0.24219 0.1752 0.39705 4e-4 0.00903 6e-4 0.0181 6e-4 0.02723v3.3c0 0.1657-0.1343 0.3-0.3 0.3h-1.2c-0.1657 0-0.3-0.1343-0.3-0.3v-2.1h-5.4v2.1c0 0.1657-0.1343 0.3-0.3 0.3h-1.2c-0.1657 0-0.3-0.1343-0.3-0.3v-3.3z",clipRule:"evenodd",fill:"#6C7F93",fillRule:"evenodd"}),(0,nX.Z)("path",{d:"m29.6 8.7004c0-0.16568 0.1343-0.3 0.3-0.3h0.6v2.1c0 0.1657-0.1343 0.3-0.3 0.3h-0.6v-2.1z",fill:"#54687A"}),(0,nX.Z)("path",{d:"m36.8 6.8996c0-0.16569 0.1343-0.3 0.3-0.3 0.3314 0 0.6 0.26863 0.6 0.6v3.3c0 0.1657-0.1343 0.3-0.3 0.3h-0.6v-3.9z",fill:"#54687A"}),(0,nX.Z)("path",{d:"m0 33.9h20.1c0 1.1598-0.9402 2.1-2.1 2.1h-18v-2.1z",fill:"url(#b)"}),(0,nX.Z)("path",{d:"m11.348 19.5c0.1008-0.5 0.3913-1.5 1.174-1.5h0.9782c0.6166 0 0.9783 0.4286 0.9783 0.8571v0.6429h-0.5868c-0.0099-0.0372-0.0168-0.0828-0.0245-0.1335-0.0428-0.2832-0.1093-0.7236-0.856-0.7236-0.794 0-0.922 0.4034-1.0119 0.6862-0.0208 0.0656-0.0396 0.1248-0.0641 0.1709h-0.5872z",clipRule:"evenodd",fill:"url(#a)",fillRule:"evenodd"}),(0,nX.Z)("path",{d:"m4.5 29.987c0-0.3241 0.26279-0.5869 0.58696-0.5869h1.813v6.6c-1.3255 0-2.4-1.0745-2.4-2.4v-3.6131z",fill:"#129289"}),(0,nX.Z)("path",{d:"m12.9 19.5h1.9043c2.5934 0 4.6957 2.1023 4.6957 4.6956v5.5044h-6.6v-10.2z",fill:"url(#l)"}),(0,nX.Z)("path",{d:"m16.2 36h1.8521c1.2967 0 2.3478-1.0512 2.3478-2.3478v-3.8609c0-0.2161-0.1751-0.3913-0.3913-0.3913h-3.8086v6.6z",fill:"url(#k)"}),(0,nX.Z)("path",{d:"m10.8 19.8c-2.4853 0-4.5 2.0147-4.5 4.5v10.8c0 0.3313 0.26863 0.6 0.6 0.6h9.6c0.3313 0 0.6-0.2687 0.6-0.6v-10.8c0-2.4853-2.0147-4.5-4.5-4.5h-1.8z",fill:"#129289",stroke:"#1B9D91",strokeWidth:".6"}),(0,nX.Z)("path",{d:"m5.1001 29.1c0-1.6568 1.3431-3 3-3h5.4c1.3255 0 2.4 1.0745 2.4 2.4v5.7c0 0.6627-0.5373 1.2-1.2 1.2h-8.4c-0.66274 0-1.2-0.5373-1.2-1.2v-5.1z",fill:"url(#j)"}),(0,nX.Z)("path",{d:"m7.8 26.399c-1.3255 0-2.4 1.0745-2.4 2.4v5.1c0 0.3314 0.26863 0.6 0.6 0.6h7.8c0.4971 0 0.9-0.4029 0.9-0.9v-4.8c0-1.3255-1.0745-2.4-2.4-2.4h-4.5z",fill:"#129289",stroke:"#5EB8A9",strokeWidth:".6"}),(0,nX.Z)("rect",{x:"7.2",y:"27.6",width:"5.4",height:".3",rx:".15",fill:"#249B91"}),(0,nX.Z)("rect",{x:"5.7",y:"28.5",width:"9.3",height:".6",fill:"#0D7265"}),(0,nX.Z)("path",{d:"m12.9 29.687 0.0978-0.587h0.3913l0.0978 0.587v0.6847c0 0.1621-0.1314 0.2935-0.2935 0.2935-0.162 0-0.2934-0.1314-0.2934-0.2935v-0.6847zm0.2935 0.7826c0.081 0 0.1467-0.0657 0.1467-0.1468 0-0.081-0.0657-0.1467-0.1467-0.1467-0.0811 0-0.1468 0.0657-0.1468 0.1467 0 0.0811 0.0657 0.1468 0.1468 0.1468z",clipRule:"evenodd",fill:"#fff",fillRule:"evenodd"}),(0,nX.Z)("rect",{x:"15",y:"28.5",width:".9",height:".6",fill:"#07544A"}),(0,nX.Z)("rect",{x:"17.609",y:"30.326",width:"2.5435",height:".19565",rx:".097826",fill:"#064941"}),(0,nX.Z)("rect",{x:"18",y:"26.4",width:".9",height:"2.1",rx:".45",fill:"#07544A"}),(0,nX.Z)("path",{d:"m18 24.587v-0.587h0.6v1.2717c0 0.1621-0.1344 0.2935-0.3 0.2935-0.1657 0-0.3-0.1314-0.3-0.2935v-0.6847zm0.2997 0.7825c0.0828 0 0.15-0.0656 0.15-0.1467 0-0.081-0.0672-0.1467-0.15-0.1467s-0.15 0.0657-0.15 0.1467c0 0.0811 0.0672 0.1467 0.15 0.1467z",clipRule:"evenodd",fill:"#fff",fillRule:"evenodd"}),(0,nX.Z)("path",{d:"m18.6 24h-0.6c-0.3946-3.4688-2.7681-4.4082-4.2-4.5 3.4364 0 4.8 3 4.8 4.5z",fill:"#0B665A"}),(0,nX.Z)("defs",{},void 0,(0,nX.Z)("filter",{id:"q",x:"55.7",y:"6.5996",height:"3.5996",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,nX.Z)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,nX.Z)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,nX.Z)("feOffset",{dx:"-0.299999"}),(0,nX.Z)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,nX.Z)("feColorMatrix",{values:"0 0 0 0 0.611765 0 0 0 0 0.690196 0 0 0 0 0.815686 0 0 0 1 0"}),(0,nX.Z)("feBlend",{in2:"shape",result:"effect1_innerShadow_4624_63147"})),(0,nX.Z)("filter",{id:"p",x:"62.9",y:"6.5996",height:"3.5996",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,nX.Z)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,nX.Z)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,nX.Z)("feOffset",{dx:"-0.299999"}),(0,nX.Z)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,nX.Z)("feColorMatrix",{values:"0 0 0 0 0.611765 0 0 0 0 0.690196 0 0 0 0 0.815686 0 0 0 1 0"}),(0,nX.Z)("feBlend",{in2:"shape",result:"effect1_innerShadow_4624_63147"})),(0,nX.Z)("filter",{id:"o",x:"29",y:"10.799",height:"3.3008",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,nX.Z)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,nX.Z)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,nX.Z)("feOffset",{dx:"-0.299999"}),(0,nX.Z)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,nX.Z)("feColorMatrix",{values:"0 0 0 0 0.611765 0 0 0 0 0.690196 0 0 0 0 0.815686 0 0 0 1 0"}),(0,nX.Z)("feBlend",{in2:"shape",result:"effect1_innerShadow_4624_63147"})),(0,nX.Z)("filter",{id:"n",x:"36.2",y:"10.799",height:"3.3008",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,nX.Z)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,nX.Z)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,nX.Z)("feOffset",{dx:"-0.299999"}),(0,nX.Z)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,nX.Z)("feColorMatrix",{values:"0 0 0 0 0.611765 0 0 0 0 0.690196 0 0 0 0 0.815686 0 0 0 1 0"}),(0,nX.Z)("feBlend",{in2:"shape",result:"effect1_innerShadow_4624_63147"})),(0,nX.Z)("linearGradient",{id:"m",x1:"70.7",x2:"51.602",y1:"35.031",y2:"35.031",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#BAC7D5",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#D6DDE6",stopOpacity:"0",offset:"1"})),(0,nX.Z)("linearGradient",{id:"i",x1:"48.5",x2:"66.106",y1:"22.049",y2:"38.7",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#4F5E71",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#252A31",offset:"1"})),(0,nX.Z)("linearGradient",{id:"h",x1:"66.078",x2:"77.416",y1:"15.786",y2:"21.491",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#697D95",offset:".024468"}),(0,nX.Z)("stop",{stopColor:"#252A31",offset:"1"})),(0,nX.Z)("linearGradient",{id:"g",x1:"47.9",x2:"55.119",y1:"23.1",y2:"36.772",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#4F5E71",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#252A31",offset:"1"})),(0,nX.Z)("linearGradient",{id:"f",x1:"42.8",x2:"23.702",y1:"35.031",y2:"35.031",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#BAC7D5",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#D6DDE6",stopOpacity:"0",offset:"1"})),(0,nX.Z)("linearGradient",{id:"e",x1:"23.9",x2:"31.689",y1:"24",y2:"25.894",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#FABD54",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#F49849",offset:"1"})),(0,nX.Z)("linearGradient",{id:"d",x1:"39.809",x2:"47.791",y1:"18.767",y2:"21.877",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#FABD54",offset:".024468"}),(0,nX.Z)("stop",{stopColor:"#F49849",offset:"1"})),(0,nX.Z)("linearGradient",{id:"c",x1:"23.9",x2:"28.892",y1:"25.8",y2:"27.172",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#FCAA1C",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#E17B23",offset:"1"})),(0,nX.Z)("linearGradient",{id:"b",x1:"20.1",x2:".7122",y1:"35.031",y2:"35.031",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#BAC7D5",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#D6DDE6",stopOpacity:"0",offset:"1"})),(0,nX.Z)("linearGradient",{id:"a",x1:"12.913",x2:"12.913",y1:"18",y2:"19.5",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#0D7B6C",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#0C6C60",offset:"1"})),(0,nX.Z)("linearGradient",{id:"l",x1:"16.2",x2:"16.2",y1:"19.5",y2:"29.7",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#0D7B6C",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#0C6C60",offset:"1"})),(0,nX.Z)("linearGradient",{id:"k",x1:"19.1",x2:"19.1",y1:"32.4",y2:"36",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#07544A",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#0D7265",offset:"1"})),(0,nX.Z)("linearGradient",{id:"j",x1:"5.6787",x2:"14.758",y1:"27.746",y2:"31.977",gradientUnits:"userSpaceOnUse"},void 0,(0,nX.Z)("stop",{stopColor:"#07544A",offset:"0"}),(0,nX.Z)("stop",{stopColor:"#0D7265",offset:"1"}))))),hq=e=>{let{numberOfBags:t}=e,[i,a]=(0,n3.useState)(!0),l=(0,os.SK)(),r=(0,n4.v9)(da.CR),n=(0,n4.v9)(da.$T),o=(0,n4.v9)(da.D6),s=(0,u_.C)(),d=(0,n3.useCallback)(()=>{a(!1),l(oU.P,{bagsCount:t})},[l,t]),u=(0,n3.useCallback)(()=>{let e=cQ.w3("cabin",t,cQ.Ll(r,n));s(oW.fU(e,o)),l(oU.n2,{bagsCount:t}),(0,ux.createToast)((0,nX.Z)(ox.Z,{id:"search.results.prompt_to_search_with_bags.accepted",values:{numOfCabinBags:t,numOfCheckedBags:t}}))},[t,r,n,o,s,l]);return i?(0,nX.Z)("div",{className:"mb-400 flex items-center justify-between rounded-100 bg-white-normal py-300 pe-100 ps-300 shadow-level1 tb:py-400 tb:ps-600"},void 0,(0,nX.Z)("div",{className:"flex items-center"},void 0,nG||(nG=(0,nX.Z)("div",{className:"me-400 hidden tb:block"},void 0,(0,nX.Z)(hW,{}))),(0,nX.Z)(ok.default,{weight:"medium"},void 0,nH||(nH=(0,nX.Z)(ox.Z,{id:"search.results.prompt_to_search_with_bags.message"}))," ",(0,nX.Z)(dC.default,{onClick:u},void 0,nW||(nW=(0,nX.Z)(ox.Z,{id:"search.results.prompt_to_search_with_bags.cta"}))))),(0,nX.Z)(dB.default,{type:"white",title:"Close",iconLeft:nq||(nq=(0,nX.Z)(oF.default,{color:"secondary"})),onClick:d})):null};var hQ=i("38437"),hJ=i("22315"),hY=i("89850");let hX=(0,n3.memo)(e=>{let{hasMap:t,children:i}=e,a=(0,n4.I0)(),l=(0,n3.useMemo)(()=>(0,hJ.DE)(cD.Pj,a),[a]),r=(0,n3.useMemo)(()=>t?(0,hJ.DE)(hY.Jf,a):null,[t,a]),n=(0,n3.useMemo)(()=>t?(0,hJ.DE)(hY.TR,a):null,[t,a]),o=(0,n3.useMemo)(()=>t?(0,hJ.DE)(hY.O5,a):null,[t,a]);return i((0,n3.useMemo)(()=>({toggleScrollToTopButton:l,setHighlightedDebounced:r,unsetHighlightedDebounced:n,setSingleSectorHighlightedDebounced:o}),[l,r,n,o]))}),h0=function(e){var t,i;class a extends n3.Component{constructor(){super(...arguments),(0,sG.Z)(this,"scrollEmitter",null),(0,sG.Z)(this,"handleScroll",(0,sH.P)(100,()=>{let{renderCount:e,renderBuffer:t,scrollValueNode:i}=this.state,a=(null==i?void 0:i.scrollTop)||0,{track:l}=this.props;a>e*sq(this.props)&&e<sQ(this.props)&&(l(oU.gs,{oldCount:e,newCount:e+t}),this.setState(e=>{let{renderCount:t,renderBuffer:i}=e;return{renderCount:t+i}}))})),(0,sG.Z)(this,"state",{renderBuffer:0,renderCount:"undefined"==typeof window?10:0,scrollValueNode:null,lastResultsLength:this.props.itineraries.length}),(0,sG.Z)(this,"resetRenderCount",()=>{let{renderCount:e}=this.state;e<sQ(this.props)&&this.setState(e=>{let{renderBuffer:t,scrollValueNode:i}=e;return{renderCount:t+Math.ceil(((null==i?void 0:i.scrollTop)||0)/sq(this.props))}})}),(0,sG.Z)(this,"increaseRenderCount",e=>{let{renderCount:t,renderBuffer:i}=this.state,{track:a}=this.props,l=e+i;t<sQ(this.props)&&t<l&&(a(oU.gs,{oldCount:t,newCount:l}),this.setState({renderCount:l}))}),(0,sG.Z)(this,"setScrollNode",e=>{if(this.state.scrollValueNode||this.scrollEmitter)throw Error("Cannot change scroll node, it's already set.");this.scrollEmitter=window,!window.IntersectionObserver&&(window.addEventListener("touchmove",this.handleScroll,!1),window.addEventListener("scroll",this.handleScroll,!1)),this.setState({scrollValueNode:e,renderBuffer:Math.ceil(Math.max((e.clientHeight||0)/sq(this.props),3))}),this.resetRenderCount()})}static getDerivedStateFromProps(e,t){if(t.lastResultsLength===e.itineraries.length)return null;let{renderCount:i,renderBuffer:a}=t;if(i<(t.lastResultsLength||Number.POSITIVE_INFINITY)&&"undefined"!=typeof window){var l;return{renderCount:a+Math.ceil(((null==t?void 0:null===(l=t.scrollValueNode)||void 0===l?void 0:l.scrollTop)||0)/sq(e)),lastResultsLength:e.itineraries.length}}return{lastResultsLength:e.itineraries.length}}componentDidMount(){this.setScrollNode((0,sW.wy)())}componentWillUnmount(){this.handleScroll&&this.scrollEmitter&&(window.removeEventListener("touchmove",this.handleScroll),window.removeEventListener("scroll",this.handleScroll))}render(){let{renderCount:t,renderBuffer:i}=this.state,{track:a,isMobile:l,itineraries:r,mode:n,...o}=this.props;return(0,ow.jsx)(e,{track:a,isMobile:l,itineraries:r,mode:n,...o,renderCount:t,increaseRenderCount:this.increaseRenderCount,renderBuffer:i})}}return(0,sG.Z)(a,"displayName",(t=e,`WithDelayedRenderAll(${(i=t).displayName||i.name||"Component"})`)),a}(e=>{var t,i,a,l,r,n,o,s,d,u;let{data:c,mode:v,searchForm:m,isLoading:p,itineraries:f,showLoadingOverlay:g,itinerariesMetadata:h,shouldShowCabinBagsPrompt:Z=!1,currentSearchId:b,bannerSlot:y,isServerError:k,queryMetaData:x,renderCount:_,renderBuffer:w,shouldShowSkeletonUI:C,shouldShowNoResults:S,hideBackPanel:N=of.Z,onBackPanelClick:T=of.Z,increaseRenderCount:I}=e,R=(0,n9.St)(sN._L),[A,F]=(0,n3.useState)(null),[D,P]=(0,n3.useState)(null),[E,L]=(0,n3.useState)({}),B=(0,n3.useRef)(null),K=(0,n3.useRef)(null),O=(0,n4.v9)(s$.K7),M=(0,n4.v9)(sL.DD),j=(0,n4.v9)(o0.p),z=j.get("sortBy"),V=(0,n4.v9)(sz.BX),$=(0,n4.v9)(sB.EW),U=(0,n4.v9)(sL.vk),G=(0,n4.v9)(sO.$),H=(0,n4.v9)(sj.M).id,{firstPollRequestId:W,requestId:q}=(0,n4.v9)(s$.V6),Q=(0,n4.v9)(sV.km),J=Q===sS.Hf.RESULTS_PAGE,{isMobile:Y,isDesktop:X}=(0,oo.Z)(),{isPriceMatchGuaranteeEnabled:ee}=(0,sT.Z)(),{isResultsEmergencyBannerShown:et}=(0,sK.Yb)(),{parsedSharedItineraryId:ei,hasSharedItineraryId:ea,sharedItinerary:el,saveSharedItinerary:er,showSharedItineraryNotFoundModal:en}=sP(),eo=null==h?void 0:h.sharedItinerary,es=!!(null==h?void 0:h.hasTier1MarketItineraries),ed=(0,hS.W6)(h,v)&&(null==h?void 0:null===(t=h.eligibilityInformation)||void 0===t?void 0:t.responseContainsKayakItinerary),{error:eu,responseTime:ec}=x,ev=oW._7("destination",m,"last"),em=(0,sb.Pq)(m),ep=(0,sb.bN)(m),ef=(0,sb.dC)(m),eg=(0,sb.mW)(m),eh=!p&&ee&&es&&(!1===ed||ef),eZ=S&&J,eb=!S&&!k,ey=(0,n4.v9)(sM.G),ek=(0,n4.v9)(e=>(0,ol.fV)(e,{shouldShowNoResultsPriceMatrixOrGraph:eZ})),ex=X&&!eg&&(f.length>0||!f.length&&p)&&!S&&!k,{cabinClass:e_}=m,ew=oW.iJ(m)===oW.xd.return,eC=!!D&&S&&Y,eS=em&&!k&&(!S&&!Y||Y)&&(ey||ek),{shouldDisplayQuickNav:eN,quickNavInboundDate:eT,quickNavOutboundDate:eI}=sy(m),eR=(0,sE.Z)(),eA=(0,sC.Z)(),eF=oW.Cd(m),eD=!__IS_DEVELOPMENT__&&!p&&"number"==typeof ec,eP=(0,n5.useNavigate)(),eE=(0,n3.useCallback)((e,t)=>{var i;if(x.isLoading&&(0,o3.v)(e.id)&&L({...E,[e.id]:{itinerary:e,itineraryRank:t}}),F(null!==(i=e.id)&&void 0!==i?i:null),!eg&&null!=e.shareId){let t=new URLSearchParams(window.location.search);t.set("prebooking",e.shareId),eP({search:t.toString()})}},[eg,eP,x.isLoading,E]),eL=(0,n3.useCallback)(()=>{F(null)},[]),eB=(0,n3.useCallback)(()=>{if(F(null),Y&&!R)history.back();else{let e=new URLSearchParams(window.location.search);e.delete("prebooking"),e.delete("prebookingShared"),eP({search:e.toString()})}},[eP]);(0,n3.useEffect)(()=>(ea&&er(eo),window.addEventListener("popstate",eL),()=>{(0,o3.v)(H)&&N(),window.removeEventListener("popstate",eL)}),[]);let eK=(0,n3.useCallback)(e=>t=>{e&&(K.current=t)},[]),eO=(0,n3.useCallback)(e=>{P(e)},[]),eM=(0,n3.useCallback)(()=>{P(null)},[]);(0,sJ.Z)({isLoading:p,queryMetaData:x,parsedSharedItineraryId:ei},e=>{var t;(0,o3.v)(H)&&H!==(0,dw.$)(m)&&N(),null!==(t=K.current)&&void 0!==t&&t.scrollIntoView&&e.isLoading!==p&&!p&&setTimeout(()=>{var e;null===(e=K.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}),(0,n9.lD)(sN.Lx)},0),e.isLoading!==p&&f.length&&!p&&(0,sU.H)({searchForm:m,itinerary:f[0],sortBy:z,priceFormatter:G,currency:$,requestId:q,searchSessionId:W,pageName:Q}),ea&&!el&&(e.queryMetaData!==x||ei!==e.parsedSharedItineraryId)&&(!eo&&!p&&en(),er(eo)),!n1()(E)&&x.searchId!==e.queryMetaData.searchId&&(L({}),eL(),eB())});let ej=(0,n3.useCallback)(()=>Y||ef||!B.current?0:B.current.getBoundingClientRect().top+window.scrollY,[Y,ef]);return(0,nX.Z)(hX,{hasMap:!em},void 0,e=>{var t,N,R;return(0,ow.jsxs)("div",{"data-test":"ResultList",ref:B,className:"[overflow-anchor:none]",children:[!eg&&(i||(i=(0,nX.Z)(oi,{isLoading:p}))),nQ||(nQ=(0,nX.Z)(sx.Z,{})),eD&&(a||(a=(0,nX.Z)(oa.Z,{responseTime:ec}))),(0,nX.Z)("div",{className:"relative"},void 0,g&&(nJ||(nJ=(0,nX.Z)("div",{"data-test":"LoadingOverlay",className:"absolute inset-x-[-10px] z-10 bg-cloud-light/60 safe-inset-0"}))),!eg&&eA&&(l||(l=(0,nX.Z)(s_.Z,{itinerariesMetadata:h,isLoading:p}))),eR&&!eA&&(0,nX.Z)(sw.Z,{isAggregated:eF,sortBy:j.get(eF?"sortAggregateBy":"sortBy"),data:null!=h?h:null}),H===(0,dw.$)(m)&&ev&&(r||(r=(0,nX.Z)(d_,{destination:ev,onBackPanelClick:T}))),eC&&(n||(n=(0,nX.Z)(oP,{showPriceMatrix:ey,showPriceGraph:ek,openedCard:D,onClosePriceTrends:eM,openPriceMatrix:of.Z,openPriceGraph:of.Z,shouldShowNoResultsPriceMatrixOrGraph:eZ,isReturn:ew}))),(0,nX.Z)(n3.Fragment,{},"resultsHeader",eN&&(0,nX.Z)("div",{className:(0,n2.Z)("rounded-t-200 shadow-level1 ld:mb-500 ld:rounded-200",!eS&&!ex&&"mb-400",eZ&&"tb:mb-500")},void 0,o||(o=(0,nX.Z)(sh,{outboundDate:eI,inboundDate:eT,searchForm:m,isReturn:ew}))),eS&&(s||(s=(0,nX.Z)(oE,{showPriceMatrix:ey,showPriceGraph:ek,openPriceTrends:D,shouldShowNoResults:S,isReturn:ew,shouldShowNoResultsPriceMatrixOrGraph:eZ,shouldDisplayQuickNav:eN}))),ex&&(0,nX.Z)("div",{className:"mb-400"},void 0,(0,nX.Z)(hQ.Z,{data:h,searchForm:m,searchId:null!=b?b:"",asPanel:ep},"Sorting")),et&&(nY||(nY=(0,nX.Z)(n6.default,{position:"results"})))),ea&&(0,nX.Z)("div",{className:"mb-400"},void 0,(0,nX.Z)(hT,{data:null!==(t=null==h?void 0:h.sharedItinerary)&&void 0!==t?t:null,searchForm:m,mode:v,isKiwiBranding:M,currency:$,language:V,showNomadBookOnKiwiMessage:U,openedResultId:A,resultCardConnectedProps:e,isLoading:p,renderBuffer:w,renderCount:_,sharedItinerary:el,responseContainsKayakItinerary:(0,hS.W6)(h,v)&&null!==(N=null==h?void 0:null===(R=h.eligibilityInformation)||void 0===R?void 0:R.responseContainsKayakItinerary)&&void 0!==N?N:null,isTier1Search:es,onOpenDetail:eE,onCloseDetail:eL,onClosePrebooking:eB,increaseRenderCount:I})),(0,nX.Z)(hH,{itineraries:f,onScroll:of.Z,isMCNomad:ef,getScrollOffset:ej},void 0,(t,i,a)=>{var l,r,n,o,s,g;return(0,ow.jsxs)(ow.Fragment,{children:[!S&&!k&&a,eh&&(d||(d=(0,nX.Z)(dT,{isMCNomad:ef}))),Z&&(0,nX.Z)(hq,{numberOfBags:(0,hS.W6)(h,v)&&null!==(l=null==h?void 0:null===(r=h.eligibilityInformation)||void 0===r?void 0:null===(n=r.baggageEligibilityInformation)||void 0===n?void 0:n.numberOfBags)&&void 0!==l?l:0}),(0,nX.Z)("div",{},"resultList",(0,nX.Z)(dp,{resultsDataTest:"ResultList-results",shouldShowSkeletonUI:C,searchForm:m,renderBuffer:w,renderCount:_,increaseRenderCount:I,mode:v},void 0,(0,ow.jsxs)(ow.Fragment,{children:[!S&&!k&&f.length>0&&(0,nX.Z)(hN,{data:c,searchForm:m,mode:v,isKiwiBranding:M,currency:$,language:V,itineraries:f,showNomadBookOnKiwiMessage:U,renderCount:_,renderBuffer:w,itinerariesMetadata:h,bannerSlot:y,openedResultId:A,resultCardConnectedProps:e,increaseRenderCount:I,getStoreNodeRef:t,saveResultRef:eK,onOpenDetail:eE,onCloseDetail:eL,onClosePrebooking:eB,responseContainsKayakItinerary:(0,hS.W6)(h,v)&&null!==(o=null==h?void 0:null===(s=h.eligibilityInformation)||void 0===s?void 0:s.responseContainsKayakItinerary)&&void 0!==o?o:null,isTier1Search:es}),eu&&!p&&(u||(u=(0,nX.Z)(sk.Z,{isMulticityOrNomad:ef}))),(S||k)&&(em?(0,nX.Z)(s9,{isServerError:k,onOpenPriceTrends:eO,shouldShowNoResults:S,shouldShowNoResultsPriceMatrixOrGraph:eZ,showPriceMatrix:ey,showPriceGraph:ek,isReturn:ew,isEconomyCabinClass:(null==e_?void 0:e_.type)===sZ.ZZ.ECONOMY,metadata:h,itineraries:f,requestId:q}):(0,nX.Z)(sY.Z,{data:h,isServerError:k,itineraries:f,metadata:h,requestId:null!=q?q:null,isOnePerCity:eF})),eb&&(0,nX.Z)(df.Z,{resultsCount:f.length,limit:O,loading:p,_next:null!==(g=x.hasNext)&&void 0!==g&&g})]})))]})}))]})})})},75810:function(e,t,i){i.d(t,{$:function(){return l}});var a=i(29495);let l=e=>`${(0,a.s3)(e.origin,!0)}/${(0,a.s3)(e.destination,!0)}`},61586:function(e,t,i){i.d(t,{Z:function(){return c}});var a,l,r,n,o,s,d,u=i(63127);let c=()=>(0,u.Z)("svg",{xmlns:"http://www.w3.org/2000/svg",width:45,height:67,fill:"none"},void 0,a||(a=(0,u.Z)("path",{fill:"url(#a)",d:"m16.844 32.574 12.091 27.462 1.879-8.529 7.14 1.818-12.091-27.462-9.019 6.711Z"})),l||(l=(0,u.Z)("path",{fill:"url(#b)",d:"m4.196 62.255 8.321-6.286 3.212 7.823 12.313-33.978-11.533-1.537L4.196 62.255Z"})),(0,u.Z)("mask",{id:"c",width:36,height:39,x:2,y:4,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},void 0,r||(r=(0,u.Z)("path",{fill:"#fff",d:"M3.382 23.569C.886 34.121 6.378 42.815 15.599 42.985c9.222.17 18.706-8.224 21.17-18.767 2.496-10.552-2.996-19.246-12.217-19.45-.093.025-.186.017-.279.008-9.128.004-18.458 8.357-20.891 18.793Z"}))),n||(n=(0,u.Z)("g",{mask:"url(#c)"},void 0,(0,u.Z)("path",{fill:"url(#d)",d:"M.875 4.707h34.597V42.92H.875z"}))),o||(o=(0,u.Z)("path",{fill:"url(#e)",d:"M5.797 24.537c-2.475 10.561 3.01 19.26 12.223 19.448 9.256.206 18.714-8.254 21.173-18.774C41.669 14.649 36.225 5.968 27.01 5.78l-.303.02c-9.14-.01-18.445 8.318-20.91 18.737Z"})),s||(s=(0,u.Z)("path",{fill:"#D7953B",d:"M25.292 23.55c-.033-.942-.62-1.294-1.467-.88l-2.682 1.307c-.147-.088-.158-.402-.163-.559.933-2.052 2.594-3.82 4.43-4.715.706-.344 1.39-1.317 1.357-2.259-.033-.942-.62-1.294-1.467-.88-3.535 1.564-6.553 5.59-7.416 9.683l-.271.452-.141.069a2.447 2.447 0 0 0-1.357 2.258c.033.942.62 1.295 1.466.882.142-.069.288.02.435.107 1.114 3.129 4.308 4.126 7.832 2.247a2.447 2.447 0 0 0 1.358-2.258c-.033-.942-.62-1.295-1.467-.882-1.836.896-3.563.78-4.606-.308l-.005-.157c-.012-.314.124-.54.265-.608l2.542-1.24a2.447 2.447 0 0 0 1.357-2.259Z"})),d||(d=(0,u.Z)("defs",{},void 0,(0,u.Z)("linearGradient",{id:"a",x1:27,x2:34,y1:41.5,y2:58.5,gradientUnits:"userSpaceOnUse"},void 0,(0,u.Z)("stop",{stopColor:"#003862"}),(0,u.Z)("stop",{offset:1,stopColor:"#1782D3"})),(0,u.Z)("linearGradient",{id:"b",x1:17,x2:12.079,y1:41.5,y2:62.083,gradientUnits:"userSpaceOnUse"},void 0,(0,u.Z)("stop",{stopColor:"#003862"}),(0,u.Z)("stop",{offset:1,stopColor:"#1782D3"})),(0,u.Z)("linearGradient",{id:"d",x1:21.369,x2:.891,y1:19.633,y2:20.435,gradientUnits:"userSpaceOnUse"},void 0,(0,u.Z)("stop",{stopColor:"#F2CA7B"}),(0,u.Z)("stop",{offset:1,stopColor:"#F8BA89"})),(0,u.Z)("linearGradient",{id:"e",x1:13.576,x2:55.351,y1:21.122,y2:38.694,gradientUnits:"userSpaceOnUse"},void 0,(0,u.Z)("stop",{stopColor:"#FCDD73"}),(0,u.Z)("stop",{offset:1,stopColor:"#F79F62"})))))},38437:function(e,t,i){i.d(t,{Z:function(){return y}});var a,l=i(63127),r=i(67294),n=i(39719),o=i(22578),s=i(28147),d=i(10499),u=i(70735),c=i(79021),v=i(84509),m=i(60400),p=i(16606),f=i(38719),g=i(24031),h=i(54056),Z=i(3397),b=i(96199);let y=(0,o.createFragmentContainer)(e=>{let{searchForm:t,data:i,searchId:a="",asPanel:o=!1}=e,y=(0,n.I0)(),k=(0,h.SK)(),x=(0,p.Ib)(),_=(0,n.v9)(g.D6),w=(0,n.v9)(e=>(0,c.p)(e,{}).get("sortBy")),C=(0,n.v9)(v.Z),S=d.iJ(t),N=S===d.xd.oneWay||S===d.xd.return||o,T=(0,f.PM)(),I=(0,u.Z)({sortingContext:"flights"}),R=(0,r.useCallback)(e=>{I(e),k(s.t,{sorting:e}),x(),T("sortBy",e,{keepHash:!0}),y((0,m.Fv)(d._i(_),_)),(0,Z.k3)()},[_,y,x,k,I]);return(0,l.Z)(b.Z,{modes:["quality","price","duration",...C?["sourceTakeoffAsc","destinationLandingAsc"]:[]],value:w,data:null!=i?i:null,onChange:R,origin:d._7("origin",t),destination:d._7("destination",t),searchId:a,isMulticity:"multicity"===S,asPanel:N})},{data:void 0!==a?a:a=i(42341)})},96199:function(e,t,i){i.d(t,{Z:()=>en});var a,l,r,n,o,s,d,u,c,v,m,p,f,g,h,Z=i("63127"),b=i("67294"),y=i("44012"),k=i("72208"),x=i("5406"),_=i("22549"),w=i("39903"),C=i("16665"),S=i("86390"),N=i("86896"),T=i("67238"),I=i("76341"),R=i("2415"),A=i("1410"),F=i("31875"),D=i("48421");let P=e=>{let{isName:t=!1,children:i}=e;return(0,Z.Z)("td",{className:(0,A.Z)("pb-50 pe-100 pt-300 align-bottom",t?"ps-600":"ps-300")},void 0,i)},E=e=>{var t;let{mode:i,active:l,message:r,top:n,onClick:o}=e,s=(0,b.useCallback)(()=>o(i),[i,o]),d=i===T.dY.QUALITY?I.Z:b.Fragment;return(0,Z.Z)("tr",{"data-test":`SortBy-${i}`,onClick:s,className:(0,A.Z)("cursor-pointer whitespace-nowrap leading-normal",l&&"font-bold")},void 0,(0,Z.Z)(P,{"data-test":`SortingItem-${i}`,isName:!0},void 0,(0,Z.Z)(d,{},void 0,(0,Z.Z)("div",{className:"underline-offset-[3px]"},void 0,(0,Z.Z)(w.default,{weight:l?"bold":"normal"},void 0,r)))),n&&(0,Z.Z)(b.Fragment,{},i,(0,Z.Z)(P,{},void 0,(0,Z.Z)(F.Z,{maxSize:9,showCurrencySymbol:!0},void 0,null===(t=n.price)||void 0===t?void 0:t.amount)),(0,Z.Z)(P,{},void 0,(0,Z.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,a||(a=(0,Z.Z)(R.default,{size:"small"})),(0,Z.Z)(D.Z,{value:1e3*n.duration})))))},L=e=>{let{modes:t,sortingData:i,sortBy:a,onChange:o}=e,[s,d]=(0,b.useState)(!1),{formatMessage:u}=(0,N.Z)(),c=(0,b.useCallback)(()=>{d(!0)},[d]),v=(0,b.useCallback)(()=>{d(!1)},[d]),m=(0,b.useCallback)(e=>{v(),o(e)},[o,v]);return(0,Z.Z)("div",{"data-test":"SortingButton",className:"relative de:ms-auto"},void 0,(0,Z.Z)(_.default,{opened:s,onOpen:c,onClose:v,noPadding:!0,overlapped:!0,fixed:!0,placement:"bottom-end",labelClose:u({id:"orbit.button_close"}),content:(0,Z.Z)("div",{"data-test":"SortingPopup",className:"min-w-[240px] p-400"},void 0,l||(l=(0,Z.Z)("div",{className:"flex items-center safe-space-x-200"},void 0,(0,Z.Z)(S.default,{size:"small",color:"secondary"}),(0,Z.Z)(w.default,{type:"secondary"},void 0,(0,Z.Z)(y.Z,{id:"search.result.sorting.name"})))),(0,Z.Z)("div",{className:"w-full border-0"},void 0,(0,Z.Z)("tbody",{},void 0,t.map(e=>{let t=i[e];return(0,Z.Z)(E,{mode:e,active:a===e,message:t.message,top:t.top,onClick:m},e)}))))},void 0,(0,Z.Z)(x.default,{size:"small",type:"secondary",iconLeft:r||(r=(0,Z.Z)(S.default,{})),iconRight:a===T.dY.QUALITY?n||(n=(0,Z.Z)(I.Z,{},void 0,(0,Z.Z)(C.default,{size:"small"}))):null},void 0,(0,Z.Z)("div",{"data-test":`ActiveSorter-${a}`,className:"pl-50"},void 0,i[a].message))))};var B=i("10449"),K=i.n(B),O=i("51636");let M=e=>{let{isActive:t,children:i}=e;return(0,Z.Z)("div",{className:(0,A.Z)("min-h-[theme(lineHeight.normal)] text-ellipsis leading-normal",t?"text-blue-normal":"text-secondary-foreground")},void 0,i)};var j=i("39719"),z=i("92852"),V=i("90146"),$=i("25298"),U=i("20687"),G=i("44270");let H=(0,V.P1)([$.r7],e=>e.format.replace("__price__","00")),W=(0,V.P1)([U.fK],e=>(0,G.LU)(0,e.durationFormat).replace(/0+/g,"00"));var q=i("85893");let Q=e=>{var t;let{data:i}=e,a=(0,j.v9)(H),l=(0,j.v9)(W),{top:r}=i,n=(0,z.z)(null==r?void 0:null===(t=r.price)||void 0===t?void 0:t.amount),o=n>0?(0,Z.Z)(F.Z,{maxSize:99},void 0,n):a,s=null!=r&&r.duration?(0,Z.Z)(D.Z,{value:1e3*r.duration,keepZeros:!0}):l;return(0,q.jsxs)(q.Fragment,{children:[o," \xb7 ",s]})},J=e=>{let{mode:t,sortingData:i,isActive:a,isMulticity:l=!1,onChange:r}=e,{message:n}=i,s=(0,b.useCallback)(()=>{r(t)},[t,r]),d=t===T.dY.QUALITY?I.Z:b.Fragment;return(0,Z.Z)("button",{type:"button",onClick:s,"data-test":`SortBy-${t}`,className:(0,A.Z)("w-full cursor-pointer overflow-hidden bg-white-normal text-left","px-400 pb-[calc(theme(spacing.300)-3px)] pt-300","border-0 border-b-[3px] border-solid first:rounded-s-200 hover:border-blue-normal","transition-colors duration-slow",a?"border-blue-normal":"border-white",!l&&"max-w-[25%]",l&&"last:rounded-e-200")},void 0,(0,Z.Z)(d,{},void 0,(0,Z.Z)("div",{className:(0,A.Z)("underline-offset-[3px]",a&&"[&>span]:text-blue-dark")},void 0,(0,Z.Z)(w.default,{as:"span",size:"large",weight:"medium"},void 0,n))),(0,Z.Z)(M,{isActive:a},void 0,i.top?(0,Z.Z)(Q,{data:i}):o||(o=(0,Z.Z)("div",{className:"pt-100"},void 0,(0,Z.Z)(O.default,{width:"100%",height:12})))))};var Y=i("8506"),X=i("85199"),ee=i("89979");let et=e=>{let{mode:t,sortingData:i,isActive:a,onSelect:l}=e,r=(0,b.useCallback)(e=>{e.stopPropagation(),l(t)},[t,l]);return(0,Z.Z)("tr",{onClick:r,"data-test":`SortBy-${t}`,className:"cursor-pointer"},void 0,(0,Z.Z)("td",{className:"w-400 p-200 pe-0 ps-400"},void 0,a&&(s||(s=(0,Z.Z)(ee.default,{size:"small"})))),(0,Z.Z)("td",{className:"p-200"},void 0,i.message),(0,Z.Z)("td",{className:"p-200 pe-600 text-secondary-foreground"},void 0,i.top?(0,Z.Z)(Q,{data:i}):" "))},ei=e=>{var t,i;let{sortBy:a,modes:l,sortingData:r,onChange:n}=e,[o,s]=(0,b.useState)(!1),[v,m]=(0,b.useState)(()=>l.includes(a)?a:l[0]),{top:p}=r[v],f=l.includes(a),g=(0,b.useRef)(null);(0,b.useEffect)(()=>{!l.includes(v)&&m(l[0])},[l,v]);let h=(0,b.useCallback)(()=>{n(v)},[v,n]),k=(0,b.useCallback)(e=>{m(e),n(e),s(!1)},[n]),x=(0,b.useCallback)(e=>{e.stopPropagation(),s(!0)},[]),_=(0,b.useCallback)(e=>{null==e||e.stopPropagation(),s(!1)},[]);return(0,Y.default)(g,()=>{_()}),(0,Z.Z)("button",{type:"button",onClick:h,"data-test":"SortByOther",className:(0,A.Z)("relative flex w-full max-w-none cursor-pointer justify-between bg-white-normal text-left","pb-[calc(theme(spacing.300)-3px)] pe-0 ps-400 pt-300","rounded-e-200 border-0 border-b-[3px] border-solid first:rounded-l-200 hover:border-blue-normal","transition-colors duration-slow",o&&"z-sticky",f?"border-blue-normal":"border-white")},void 0,(0,Z.Z)("div",{},void 0,(0,Z.Z)("div",{className:(0,A.Z)(f&&"[&>span]:text-blue-dark")},void 0,d||(d=(0,Z.Z)(w.default,{as:"span",size:"large",weight:"medium"},void 0,(0,Z.Z)(y.Z,{id:"search.result.sorting.other_options"})))),(0,Z.Z)(M,{isActive:f},void 0,null==p?u||(u=(0,Z.Z)("div",{className:"pt-100"},void 0,(0,Z.Z)(O.default,{width:"100%",height:12}))):null!==(t=null===(i=r[v])||void 0===i?void 0:i.messageShort)&&void 0!==t?t:"")),(0,Z.Z)("div",{role:"button",tabIndex:0,className:"flex cursor-pointer items-center bg-white-normal p-300",onClick:x},void 0,c||(c=(0,Z.Z)(X.default,{size:"medium"}))),o&&(0,q.jsx)("div",{ref:g,className:"absolute top-1/2 min-w-[calc(100%+2*theme(spacing.400))] -translate-y-1/2 bg-white-normal py-400 shadow-level3 safe-end-0 ld:translate-x-400",children:(0,Z.Z)("table",{className:"min-w-full border-0"},void 0,l.map(e=>(0,Z.Z)(et,{mode:e,sortingData:r[e],isActive:e===a,onSelect:k},e)))}))},ea=["sourceTakeoffAsc","destinationLandingAsc"],el=e=>{let{modes:t,sortingData:i,sortBy:a,isMulticity:l=!1,onChange:r}=e,{mainModes:n=[],otherModes:o=[]}=K()(e=>ea.includes(e)?"otherModes":"mainModes",t);return(0,Z.Z)("div",{"data-test":`ActiveSorter-${a}`,className:"flex w-full items-stretch whitespace-nowrap rounded-200 bg-white-normal shadow-level1"},void 0,n.map(e=>(0,Z.Z)(J,{mode:e,sortingData:i[e],isActive:e===a,isMulticity:l,onChange:r},e)),o.length>0&&(0,Z.Z)(ei,{sortBy:a,modes:o,sortingData:i,onChange:r}))},er=e=>e.replace(/"sortBy":"[^"]+",?/,"").replace(/"sortOrder":"[^"]+",?/,""),en=e=>{var t;let{modes:i,value:a,data:l,origin:r,destination:n,searchId:o="",asPanel:s,isMulticity:d=!1,onChange:u}=e,{getShortText:c}=(0,k.Od)(),x=er(o),_=(0,b.useRef)(null),w=(0,b.useRef)(null!==(t=null==l?void 0:l.topResults)&&void 0!==t?t:null);_.current!==x&&(w.current=null,_.current=x);let C=!0!==s||null!=l&&l.topResults?null==l?void 0:l.topResults:w.current;w.current=C;let S=r?c(r,{maxLength:40}):"",N=n?c(n,{maxLength:40}):"",T={quality:{message:v||(v=(0,Z.Z)(y.Z,{id:"search.result.sorting.best"})),top:null==C?void 0:C.best},price:{message:m||(m=(0,Z.Z)(y.Z,{id:"search.result.sorting.cheapest"})),top:null==C?void 0:C.cheapest},duration:{message:p||(p=(0,Z.Z)(y.Z,{id:"search.result.sorting.shortest"})),top:null==C?void 0:C.fastest},popularity:{message:f||(f=(0,Z.Z)(y.Z,{id:"search.result.sorting.popularity"})),top:null},sourceTakeoffAsc:{message:(0,Z.Z)(y.Z,{id:"search.result.sorting.earliest_takeoff_active",values:{place:S}}),messageShort:g||(g=(0,Z.Z)(y.Z,{id:"search.result.sorting.earliest_takeoff_short"})),top:null==C?void 0:C.sourceTakeoffAsc},destinationLandingAsc:{message:(0,Z.Z)(y.Z,{id:"search.result.sorting.earliest_landing_active",values:{place:N}}),messageShort:h||(h=(0,Z.Z)(y.Z,{id:"search.result.sorting.earliest_landing_short"})),top:null==C?void 0:C.destinationLandingAsc}},I=i.includes(a)?a:i[0];return!0===s?(0,Z.Z)(el,{isMulticity:d,modes:i,sortingData:T,sortBy:I,onChange:u}):(0,Z.Z)(L,{modes:i,sortingData:T,sortBy:I,onChange:u})}},42341:function(e,t,i){var a;i.r(t),i.d(t,{default:function(){return r}});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Sorting_data",selections:[{alias:null,args:null,concreteType:"ItinerariesTopResults",kind:"LinkedField",name:"topResults",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"Money",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cheapest",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"fastest",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sourceTakeoffAsc",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"destinationLandingAsc",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"ItinerariesMetadata",abstractKey:null};l.hash="1552c24e2436800ed543bacdadb2d8a2";let r=l},77295:function(e,t,i){i.d(t,{Z:function(){return k}});var a,l=i(63127),r=i(32423),n=i.n(r),o=i(72337),s=i.n(o),d=i(71654),u=i(67294),c=i(39719),v=i(30316),m=i(6390),p=i(31825),f=i(9692),g=i(18209),h=i(20721),Z=i(24031),b=i(5588);let y=["filter","limit"],k=(0,u.memo)(e=>{let{render:t,query:i,getParams:r,rootKey:o}=e,k=(0,c.v9)(Z.Ql),x=1===k.destination.places.length,_=(0,d.useTest)("KAYAK_WITHOUT_BAGS"),w="on"===(0,d.useTest)("TOP_3_RES_DIVERSIFIED"),C="on"===(0,d.useTest)("TOP_3_RES_DIVERSIFIED_NR"),S="on"===(0,d.useTest)("INCLUDE_CARRIER_REDIRECTS"),N="on"===(0,d.useTest)("INCLUDE_CARRIER_REDIRECTS_V2"),T="on"===(0,d.useTest)("INCLUDE_CARRIER_REDIRECTS_SEM"),I=(0,p.Z)(),R=(0,d.useTest)("MARKET_STOP_PENALISATION"),A=(0,d.useTest)("PRICE_ELASTICITY_GUARANTEE_FEE_MAX"),F=(0,d.useTest)("KIWI_BASIC"),D=(0,d.useTest)("KIWI_BASIC_THIRD_ITERATION");(0,d.useTest)("BOOK_TO_SELECT");let P=(0,d.useTest)("PARETO_PROTECT_VANILLA"),E=(0,b.useUser)(),L=S||N,{isDebugModeOn:B}=(0,v.Z)(),K=(0,u.useMemo)(()=>r({searchForm:k,user:E,shouldOriginExtendToRadius:!1,shouldAllowReturnFromDifferentCity:x,kayakWithoutBagsTestValue:_,isTop3ResultsDiversified:w,isTop3ResultsDiversifiedNR:C,carrierRedirects:L,isCarrierRedirectsSEM:T,baggageProtectionBundleTestValue:I,marketStopPenalisationTestValue:R,priceElasticityGuaranteeTestValue:A,kiwiBasicTestValue:F,kiwiBasicThirdIterationTestValue:D,paretoProtectVanillaTestValue:P,isDebugModeOn:B}),[r,k,!1,x,_,w,C,L,T,I,R,A,F,D,P,B]),O=null==K?"":(0,h.mh)(i,s()(y,K)),M=(0,u.useRef)(O),j=(0,c.v9)(g.K7),z=(0,u.useRef)(j);(O!==M.current||z.current<j)&&(z.current=j,M.current=O);let V=z.current,$=(0,u.useMemo)(()=>K&&n()(y,V,K),[V,K]);return null==$?a||(a=(0,l.Z)(f.Z,{})):(0,l.Z)(m.Z,{query:i,variables:$,render:t,noCache:!0,rootKey:o,isPrefetch:!1})})},8344:function(e,t,i){i.d(t,{Y:function(){return u},Z:function(){return c}});var a=i(5588),l=i(74094),r=i(41958),n=i(67294),o=i(11533),s=i(28860),d=i(54056);let u="unfinishedBooking",c=()=>{let[e,t]=(0,n.useState)(!0),[i,c]=(0,n.useState)(null),v=(0,a.useIsLoggedIn)(),m=(0,d.SK)();return(0,n.useEffect)(()=>{let e=(0,o.le)(u);if(""===e){t(!1);return}try{var i,a,n,d,p,f,g;let h=JSON.parse(e);if(null==h.bookingToken||null==h.created){t(!1);return}let Z={...h,departureDate:null!==(i=h.departureDate)&&void 0!==i?i:null,from:null!==(a=h.from)&&void 0!==a?a:null,to:null!==(n=h.to)&&void 0!==n?n:null,itineraryType:h.itineraryType,bookingToken:null!==(d=h.bookingToken)&&void 0!==d?d:null,passengers:h.passengers,passengersCategory:null!==(p=null!==(f=h.passengersCategory)&&void 0!==f?f:`${String(h.passengers)}-0-0`)&&void 0!==p?p:null,created:null!==(g=h.created)&&void 0!==g?g:null,isFromAccount:!1};if(Z.departureDate&&(0,r.R)(new Date(Z.departureDate.utc),(0,l.E)(new Date,1))){(0,o.e8)(u),t(!1);return}fetch(`https://booking-api.skypicker.com/prebookings/config?booking_token=${Z.bookingToken}&platform=web&language=en-GB`).then(e=>{e.ok?(t(!1),c(Z)):((0,o.e8)(u),t(!1),m(s.w_,{isLoggedIn:v}))}).catch(()=>{t(!1)})}catch{t(!1)}},[m,v]),{unfinishedBookingLocal:i,isValidatingLocal:e}}},36707:function(e,t,i){i.d(t,{Z:function(){return o}});var a=i(67294),l=i(9034),r=i(64138),n=i(27244);let o=()=>{let e=(0,n.Z)(),t=(0,r.Z)(),i=(0,l.K)();return(0,a.useCallback)(a=>{e({module:"search",category:"login",action:"completed",event_name:"search: login: completed",props:{...t,login_context:a,search_session_id:null!=i?i:void 0}})},[t,i,e])}},70735:function(e,t,i){i.d(t,{Z:function(){return d}});var a=i(67294),l=i(13670),r=i(64138),n=i(69498),o=i(27244);let s=(e,t)=>{switch(e){case"price":return"cheapest";case"duration":return"fastest";case"sourceTakeoffAsc":return"earliest_departure";case"destinationLandingAsc":return"earliest_arrival";default:return"flights"===t?"best":"popularity"}},d=e=>{let{sortingContext:t}=e,i=(0,o.Z)(),d=(0,r.Z)(),u=(0,l.Z)(),c=(0,n.Z)();return(0,a.useCallback)(e=>{i({module:"search",category:"results",action:"sorting changed",event_name:"search: results: sorting changed",props:{...d,...u,...c,sorting_context:t,sorting_type:s(e,t)}})},[d,u,c,t,i])}},52215:function(e,t,i){i.d(t,{$:function(){return r}});var a=i(90146),l=i(25298);let r=(0,a.P1)([l.EW,l.jP],(e,t)=>function(i){let{showCurrency:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=i.toFixed(0);return a?t(e,l):`${l}`})},50823:function(e,t,i){i.d(t,{U:()=>c});var a=i("67294"),l=i("95143"),r=i("28860"),n=i("54056");let o=()=>{let e=(0,n.SK)();return(0,a.useCallback)(t=>{var i,a;let l=JSON.stringify(t);if(void 0!==window.searchEventsHandler){window.searchEventsHandler.postMessage(l);return}if(void 0!==(null===(i=window.webkit)||void 0===i?void 0:null===(a=i.messageHandlers)||void 0===a?void 0:a.searchEventsHandler)){window.webkit.messageHandlers.searchEventsHandler.postMessage(l);return}e(r.Ih,{message:JSON.stringify(t)})},[e])};i("40777");var s=i("37215");let d=e=>{switch(e.message){case"navigate-back":return{message:"navigateBack"};case"sign-in":case"sign-in-before-price-alerts":return{message:"sign-in"};case"sign-in-before-booking":return{message:"sign-in",messagePayload:{url:e.url}};case"open-native-share":return{message:"openNativeShare",messagePayload:{url:e.url,contentTitle:e.title}};default:return null}},u=()=>{let e=(0,n.SK)(),{postMessage:t}=(0,s.usePostMessageToMobileApp)();return(0,a.useCallback)(async i=>{let a=d(i);return a?t(a).catch(t=>(e(r.Ih,{message:JSON.stringify(a),error:t instanceof Error?t.message:String(t)}),a)):(e(r.Ih,{message:JSON.stringify(i),error:"Unsupported deprecated message format"}),null)},[t,e])},c=()=>{let e=(0,a.useContext)(l._),t=o(),i=u();return{postMessage:e?i:t}}},47787:function(e,t,i){var a,l,r,n,o,s,d,u,c,v,m;i.r(t),i.d(t,{default:function(){return f}});let p={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"brand"},l={defaultValue:null,kind:"LocalArgument",name:"exponeaCookie"},r={defaultValue:null,kind:"LocalArgument",name:"locale"},n={defaultValue:null,kind:"LocalArgument",name:"price"},o={defaultValue:null,kind:"LocalArgument",name:"searchFingerprint"},s={defaultValue:null,kind:"LocalArgument",name:"threshold"},d={defaultValue:null,kind:"LocalArgument",name:"url"},u={defaultValue:null,kind:"LocalArgument",name:"userEmail"}],kind:"Fragment",metadata:null,name:"CreatePriceAlertMutation",selections:[{alias:null,args:c=[{kind:"Variable",name:"brand",variableName:"brand"},{kind:"Variable",name:"exponeaCookie",variableName:"exponeaCookie"},{kind:"Variable",name:"locale",variableName:"locale"},{kind:"Variable",name:"price",variableName:"price"},{kind:"Variable",name:"searchFingerprint",variableName:"searchFingerprint"},{kind:"Variable",name:"threshold",variableName:"threshold"},{kind:"Variable",name:"url",variableName:"url"},{kind:"Variable",name:"userEmail",variableName:"userEmail"}],concreteType:null,kind:"LinkedField",name:"createPriceAlert",plural:!1,selections:[v={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmed",storageKey:null}],type:"PriceAlert",abstractKey:null},m={kind:"InlineFragment",selections:[{alias:"errorCode",args:null,kind:"ScalarField",name:"code",storageKey:null}],type:"AppError",abstractKey:null}],storageKey:null}],type:"RootMutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,u,d,r,n,a,s,l],kind:"Operation",name:"CreatePriceAlertMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"createPriceAlert",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v,m],storageKey:null}]},params:{cacheID:"723e0db1b011f3784e9d72d2f2629768",id:null,metadata:{},name:"CreatePriceAlertMutation",operationKind:"mutation",text:"mutation CreatePriceAlertMutation(\n  $searchFingerprint: String\n  $userEmail: String!\n  $url: String\n  $locale: String\n  $price: MoneyInput\n  $brand: String\n  $threshold: Int\n  $exponeaCookie: String\n) {\n  createPriceAlert(searchFingerprint: $searchFingerprint, userEmail: $userEmail, url: $url, locale: $locale, price: $price, brand: $brand, threshold: $threshold, exponeaCookie: $exponeaCookie) {\n    __typename\n    ... on PriceAlert {\n      id\n      confirmed\n    }\n    ... on AppError {\n      errorCode: code\n    }\n  }\n}\n"}};p.hash="3d32e9b95f322c69faeb4316d36b607f";let f=p},61446:function(e,t,i){var a,l,r,n;i.r(t),i.d(t,{default:function(){return s}});let o={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"searchFingerprint"},{defaultValue:null,kind:"LocalArgument",name:"userEmail"}],kind:"Fragment",metadata:null,name:"DeletePriceAlertMutation",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"searchFingerprint",variableName:"searchFingerprint"},{kind:"Variable",name:"userEmail",variableName:"userEmail"}],concreteType:null,kind:"LinkedField",name:"deletePriceAlert",plural:!1,selections:[r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deleted",storageKey:null}],type:"PriceAlertDeletion",abstractKey:null},n={kind:"InlineFragment",selections:[{alias:"errorCode",args:null,kind:"ScalarField",name:"code",storageKey:null}],type:"AppError",abstractKey:null}],storageKey:null}],type:"RootMutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"DeletePriceAlertMutation",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"deletePriceAlert",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,n],storageKey:null}]},params:{cacheID:"383b22d085ff3ebf9e4bc02e300121b5",id:null,metadata:{},name:"DeletePriceAlertMutation",operationKind:"mutation",text:"mutation DeletePriceAlertMutation(\n  $id: ID!\n  $searchFingerprint: String\n  $userEmail: String!\n) {\n  deletePriceAlert(id: $id, searchFingerprint: $searchFingerprint, userEmail: $userEmail) {\n    __typename\n    ... on PriceAlertDeletion {\n      deleted\n    }\n    ... on AppError {\n      errorCode: code\n    }\n  }\n}\n"}};o.hash="8eec94aab1edd13dbdba534251a60ff7";let s=o},38002:function(e,t,i){i.d(t,{G:function(){return y},I:function(){return k}});var a=i(72337),l=i.n(a),r=i(90146),n=i(27356),o=i(29495),s=i(38895),d=i(10499),u=i(25298),c=i(78291),v=i(21406),m=i(23101),p=i(20721),f=i(73561),g=i(24031),h=i(42195),Z=i(30045),b=i(20890);let y=(0,r.P1)([g.Ql],e=>d.iJ(e)===d.xd.return&&e.cabinClass.type===n.Ux&&!(0,o.xb)(d._7("origin",e))&&!(0,o.xb)(d._7("destination",e))&&!(0,o.rP)(d._7("destination",e))),k=(0,r.P1)([g.Ql,c.rh,m.T,u.r7,h.iF,v.Jw,Z.l],(e,t,i,a,r,n,o)=>u=>{let{scope:c,priceElasticityGuaranteeTestValue:v,user:m}=u,g=s.$m(c.outboundFrom,c.outboundTo),h=s.$m(c.inboundFrom,c.inboundTo),Z=d.GS(g,"outboundDate",d.GS(h,"inboundDate",e,void 0,!0),void 0,!0),y=(0,p.gj)(Z,{omitLarge:!0,shouldOriginExtendToRadius:!1});return{search:l()(["itinerary","nightsCount"],y),filter:(0,p.E6)({searchForm:e,filtersState:t,options:i,providers:(0,f.Y)({...i,userMarket:o,allowFresh:!1,allowKayak:!1,allowWego:!1,allowU2:!1},r),currencyData:a}),options:(0,p.Ph)({searchForm:e,filtersState:t,options:i,currency:a.id,market:o,priceElasticityGuaranteeTestValue:v,ui:n,userEmail:(0,b.gV)(m)})}})},71368:function(e,t,i){i.d(t,{M:function(){return s},V:function(){return o}});var a=i(5206),l=i.n(a),r=i(46813);let n=["adults","bags","cabinClass","children","infants"],o=e=>l()(n,(0,r.dD)(e)),s=e=>e.backPanelData},30711:function(e,t,i){i.d(t,{o:function(){return o},u:function(){return s}});var a=i(90146),l=i(88546),r=i(45022),n=i(31164);let o=(0,a.P1)([r.I2,r.DD,n.km],(e,t,i)=>e&&t&&(i===l.Hf.RESULTS_PAGE||i===l.Hf.MULTICITY_RESULTS)),s=e=>e.priceAlert},19202:function(e,t,i){i.d(t,{Z:function(){return l}});var a=i(67294);let l=(e,t)=>{let i=(0,a.useRef)(e);Object.entries(e).some(e=>{let[t,a]=e;return a!==i.current[t]})&&t(i.current),i.current=e}}}]);
//# sourceMappingURL=1663.09d30dca.js.map