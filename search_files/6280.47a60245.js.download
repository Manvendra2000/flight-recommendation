"use strict";(globalThis.webpackChunkfrontend_home=globalThis.webpackChunkfrontend_home||[]).push([["6280"],{59587:function(e,n,l){l.d(n,{Z:function(){return s}});var a=l(858),t=l(67294),i=l(72541),r=l(85893);class o extends t.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"skipClick",!1),(0,a.Z)(this,"addListeners",()=>{if(this.body){let{body:e}=this,{skipOnTouchMove:n}=this.props;e.addEventListener("click",this.handleClick,!0),e.addEventListener("contextmenu",this.handleClick,!0),e.addEventListener("touchend",this.handleClick,!0),n&&e.addEventListener("touchmove",this.handleTouchMove,!0)}}),(0,a.Z)(this,"removeListeners",()=>{if(this.body){let{body:e}=this;e.removeEventListener("click",this.handleClick,!0),e.removeEventListener("contextmenu",this.handleClick,!0),e.removeEventListener("touchend",this.handleClick,!0),e.removeEventListener("touchmove",this.handleTouchMove,!0)}}),(0,a.Z)(this,"checkListeners",()=>{let{active:e}=this.props;e?this.addListeners():this.removeListeners()}),(0,a.Z)(this,"handleClick",(0,i.P)(100,e=>{let{clickOut:n,clickIn:l}=this.props;if(!!this.node&&e.target instanceof HTMLElement)!this.skipClick&&n&&!this.node.contains(e.target)&&(e.target.classList.contains("blocker")&&e.preventDefault(),n(e)),!this.skipClick&&l&&this.node.contains(e.target)&&l(e),this.skipClick=!1},{noTrailing:!0})),(0,a.Z)(this,"handleTouchMove",()=>{this.skipClick=!0}),(0,a.Z)(this,"saveRef",e=>{this.node=e}),(0,a.Z)(this,"body",void 0),(0,a.Z)(this,"node",void 0)}componentDidMount(){this.body=document.querySelector("body"),this.checkListeners()}componentDidUpdate(){this.checkListeners()}componentWillUnmount(){this.removeListeners()}render(){let{className:e,children:n}=this.props;return(0,r.jsx)("div",{className:e,ref:this.saveRef,children:n})}}let s=o},84456:function(e,n,l){l.d(n,{Z:function(){return s}});var a=l(63127),t=l(37134),i=l(67294),r=l(67730),o=l(60130);let s=e=>{let{children:n,isModifyModalField:l=!1}=e,[s,d]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{!l&&window.history.pushState({fullscreenPicker:!0},"","#datepicker");let e=requestAnimationFrame(()=>d(!0));return()=>cancelAnimationFrame(e)},[]),(0,r.Z)(s),(0,a.Z)(t.default,{renderInto:o.a8},void 0,(0,a.Z)("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-modal h-full overflow-y-auto","data-test":"FullscreenDatePicker"},void 0,n))}},58824:function(e,n,l){l.d(n,{Z:function(){return o}});var a=l(67294),t=l(78776),i=l(54056),r=l(76339);let o=e=>{let n=(0,i.SK)(),l=(0,r.b7)(e),o=(0,a.useCallback)(()=>{let e=null==l?null:{initial:l};n(t.vk,e)},[l,n]);return{trackOpenDatePicker:o,trackCloseDatePicker:(0,a.useCallback)(()=>{let e=new Date;n(t.jB,{openedTime:new Date().getTime()-e.getTime()})},[n])}}},47033:function(e,n,l){l.d(n,{Z:function(){return r}});var a=l(67294),t=l(78776),i=l(54056);let r=()=>{let e=(0,i.SK)();return(0,a.useCallback)(n=>{e(t.QS,{days:n})},[e])}},59218:function(e,n,l){l.d(n,{Z:()=>H});var a,t,i,r,o,s=l("63127"),d=l("39903"),c=l("23907"),u=l("12490"),m=l("67294"),p=l("44012"),g=l("49825"),v=l("66854"),f=l("89613"),h=l("12898"),y=l("70663"),b=l("60314"),Z=l("75531"),k=l("82770"),C=l("38895"),x=l("10499"),S=l("3279"),T=l("22222"),F=l("98622"),P=l("71654"),I=l("49293"),w=l("29586"),R=l("93742"),E=l("55576");let N=(0,m.lazy)(()=>Promise.all([l.e("4207"),l.e("5299"),l.e("6973"),l.e("6146"),l.e("2539"),l.e("1854"),l.e("2373")]).then(l.bind(l,12502)));var _=l("80249"),A=l("1410"),M=l("39719"),L=l("59587"),K=l("23469"),O=l("88546"),D=l("67238"),B=l("31164"),U=l("96695");let j=e=>{let{searchForm:n,children:l,field:a,handleHide:t,multicity:i,nomadLP:r,modeConfig:o}=e,d=(0,x.iJ)(n),c=(0,M.v9)(B.km),{shouldAdjustForLowHeight:u}=(0,Z.Z)(),m=u&&O.uu.includes(c),p="inboundDate"===a&&(0,U.OE)(d),g=a===K.G.TIME_OF_STAY,v=d===D.xd.oneWay,f=d===D.xd.return,h=O.QR.includes(c),y=null===o.returnRange&&null===o.returnTTS;return(0,s.Z)(_.default,{onClose:t},void 0,(0,s.Z)(L.Z,{active:!0,clickOut:t},void 0,(0,s.Z)("div",{className:(0,A.Z)("absolute z-[101] rounded-100 bg-white-normal shadow-level3","top-[-41px]",p&&"safe-start-[-384px] min-[901px]:safe-start-[-412px] ld:safe-start-[-450px]",!p&&"safe-start-auto ld:safe-end-auto",!p&&(i||y)&&"safe-end-[calc(50%-380px)] ld:safe-start-[-365px]",!p&&!(i||y)&&"safe-end-[-380px] min-[901px]:safe-end-[-412px] ld:safe-start-[-190px]",m&&"de:max-h-[calc(100vh-100px)] de:overflow-y-auto ld:max-h-[calc(100vh-32px)]",i&&"de:safe-end-[49px]",p&&f&&h&&"ld:max-[1415px]:safe-start-[-510px]",!p&&f&&h&&"ld:max-[1280px]:safe-start-[-230px]",!p&&v&&h&&"ld:max-[1345px]:safe-start-[-415px]",i&&"max-[900px]:safe-end-auto max-[900px]:safe-start-300",r&&!g&&"safe-end-auto de:safe-start-[-365px]",r&&g&&"tb:safe-end-[-36px] tb:safe-start-auto"),"data-test":"NewDatePickerOpen"},void 0,l)))};var z=l("84456"),V=l("47033"),$=l("85893");let Y=(0,m.memo)(e=>{let{searchForm:n,setSearchForm:l,handleHide:t,index:i,minDate:r,modeConfig:o,field:d,multicity:c,isModifyModalField:u}=e,{isMobile:p}=(0,S.Z)(),g=(0,V.Z)(),v="on"===(0,P.useTest)("DATEPICKER_IMPROVE_USABILITY"),f=(0,m.useCallback)(e=>{l(x.GS(e,"timeOfStay",n,i))},[i,n,l]);if(p){var h,y,b,Z;return(0,s.Z)(z.Z,{isModifyModalField:u},void 0,"timeOfStay"===d?(0,s.Z)(w.Z,{defaultValue:(0,C.Vk)(null===(h=o.returnTTS)||void 0===h?void 0:h.minValue,null===(y=o.returnTTS)||void 0===y?void 0:y.maxValue),minValue:null===(b=o.returnTTS)||void 0===b?void 0:b.minValue,maxValue:null===(Z=o.returnTTS)||void 0===Z?void 0:Z.maxValue,onClose:t,onSubmit:f,trackChange:g}):(0,s.Z)(m.Suspense,{fallback:a||(a=(0,s.Z)("div",{className:"h-screen bg-white-normal"},void 0,(0,s.Z)(I.default,{})))},void 0,v?(0,s.Z)(E.Z,{searchForm:n,setSearchForm:l,index:i,modeConfig:o,initialyTriggeredField:d,onHide:t,isModifyModalField:u}):(0,s.Z)(R.Z,{searchForm:n,setSearchForm:l,index:i,modeConfig:o,initialyTriggeredField:d,onHide:t,isModifyModalField:u})))}return(0,$.jsx)(j,{...e,children:(0,s.Z)(m.Suspense,{},void 0,(0,s.Z)(N,{searchForm:n,setSearchForm:l,handleHide:t,index:i,minDate:r,modeConfig:o,field:d,multicity:c}))})});var W=l("15417"),G=l("45186");let H=(0,F.Z)(e=>{let{icon:n,label:l,id:a,dataTest:F,searchForm:P,setSearchForm:I,index:w,minDate:R=(0,u.I)(),field:E,isActive:N,onHide:_,onActive:A,multicity:M,nomadLP:L,tabIndex:K,locale:O,isModifyModalField:D=!1,shouldShowReturnDate:B=!1}=e,{isMobile:U}=(0,S.Z)(),{formatSearchDate:j}=(0,T.Gb)(),z=(0,m.useRef)(null),V=(0,m.useRef)(null),{shouldAdjustForLowHeight:H}=(0,Z.Z)(),Q=(0,x._3)(E,P,w),q=Q.type===k.l.NO_RETURN,J=(0,m.useCallback)(e=>{e.preventDefault(),N?_():A()},[N,A,_]),X=(0,m.useCallback)(()=>{let e=new Event("click",{bubbles:!0,cancelable:!0});document.dispatchEvent(e),!N&&A()},[N,A]),ee=(0,m.useCallback)(e=>{e.target.setSelectionRange(0,0)},[]),en=(0,m.useCallback)(()=>null==Q.flexibleDate?null:1===Q.flexibleDate?t||(t=(0,s.Z)(p.Z,{id:"search.form.date_picker.flexible_dates.one_day"})):(0,s.Z)(p.Z,{id:"search.form.date_picker.flexible_dates.more_days",values:{numOfDays:Q.flexibleDate}}),[Q.flexibleDate])(),el=(0,m.useCallback)(()=>{let e=j(Q,O,!1,B),n=j((0,x._3)("inboundDate",P),O,!1,!0),l=(0,x.px)(P);return U?(0,s.Z)("div",{className:"safe-space-x-100 flex items-center truncate whitespace-nowrap px-200 font-medium"},"searchDateFakeInput",B&&l?i||(i=(0,s.Z)("span",{className:"text-ink-normal"},void 0,(0,s.Z)(p.Z,{id:"search.form.date_picker.select_dates"}))):(0,$.jsxs)($.Fragment,{children:[(0,s.Z)("div",{className:"truncate"},void 0,e),B&&!(0,C.g3)(P.outboundDate)&&(0,$.jsxs)($.Fragment,{children:[r||(r=(0,s.Z)(d.default,{as:"span",type:"secondary"},void 0,(0,s.Z)(p.Z,{id:"map.to"}))),(0,s.Z)("div",{className:"truncate"},void 0,(0,s.Z)(d.default,{as:"span",weight:"medium",dataTest:"SearchForm-return"},void 0,n))]})]})):(0,s.Z)(v.Z,{"data-test":"SearchFieldDateInput",value:"string"==typeof e?e:"",id:a,name:`search-${E}`,onClick:X,onSelect:ee,type:"text",autoComplete:"off",readOnly:!0,tabIndex:K},"searchDateInput")},[j,Q,O,B,P,U,a,E,X,ee,K]);return(0,s.Z)(G.Z,{input:z.current,isActive:!0,shouldAdjustPosition:N,shouldAdjustForLowHeight:H},void 0,(0,$.jsxs)(g.Z,{onClick:U?A:void 0,ref:V,"data-test":F,children:[(0,s.Z)(b.Z,{"data-test":"SearchDateInput"},void 0,(0,s.Z)(h.Z,{},void 0,(0,s.Z)(y.Z,{onClick:J,htmlFor:a},"departure-label",(0,s.Z)("span",{className:"lm:hidden"},void 0,null!=n?n:l),(0,s.Z)("span",{className:"lm:block hidden"},void 0,q?"":l)),(0,$.jsx)(f.Z,{"data-test":"SearchField-inputWrapper",ref:z,children:(0,s.Z)(el,{})},"departure-input"),en&&!B&&(0,s.Z)("div",{className:"me-300 flex items-center"},void 0,o||(o=(0,s.Z)(c.default,{})),en))),N&&(0,s.Z)(Y,{handleHide:_,minDate:R,searchForm:P,setSearchForm:I,index:w,field:E,modeConfig:(0,W.u)(P,w),multicity:!!M,nomadLP:L,isModifyModalField:D})]}))})},45186:function(e,n,l){l.d(n,{Z:function(){return c}});var a=l(858),t=l(67294),i=l(67238),r=l(3397);let o=(e,n)=>{let l=document.documentElement&&"scrollBehavior"in document.documentElement.style;if(!!(null!=n&&n.scrollTo))l?n.scrollTo({top:e,behavior:"smooth"}):n.scrollTo(0,e)},s=(e,n,l,a)=>{var t,r;let o=document.querySelector("[data-test='NitroNavBar'] > div"),s=(null!==(t=null==o?void 0:null===(r=o.getBoundingClientRect())||void 0===r?void 0:r.bottom)&&void 0!==t?t:0)>0,d=a?686:l&&665||530,c=a?i.ik:(l?84:113)-(s?0:i.ik),u=d+c;return e<d&&window.innerHeight>u?window.scrollY+d-e:n<c||window.innerHeight<u?window.scrollY-(c-n):0};class d extends t.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"scrollTimeout",null)}componentDidUpdate(e){var n;let{isActive:l,shouldAdjustPosition:a,input:t,placePicker:i,shouldAdjustForLowHeight:d=!1}=this.props;if(!(l&&!e.shouldAdjustPosition&&a&&t))return;let c=t.getBoundingClientRect(),u=window.innerHeight-c.top,m=null!==(n=t.closest("[role=dialog]"))&&void 0!==n?n:(0,r.wy)();if(!!m)this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{let e=s(u,c.top,i,d);if(0!==e)o(e,m)},100)}componentWillUnmount(){let{isActive:e}=this.props;e&&document&&document.body&&(document.body.style.minHeight=""),this.scrollTimeout&&clearTimeout(this.scrollTimeout)}render(){return this.props.children}}let c=d},93742:function(e,n,l){l.d(n,{Z:function(){return a}});let a=(0,l(67294).lazy)(()=>Promise.all([l.e("4207"),l.e("5299"),l.e("6973"),l.e("6146"),l.e("2539"),l.e("7438"),l.e("8758")]).then(l.bind(l,27411)))},55576:function(e,n,l){l.d(n,{Z:function(){return a}});let a=(0,l(67294).lazy)(()=>Promise.all([l.e("4207"),l.e("5299"),l.e("6973"),l.e("6146"),l.e("2539"),l.e("7438"),l.e("8769")]).then(l.bind(l,15285)))},29586:function(e,n,l){l.d(n,{Z:()=>f});var a,t,i,r=l("63127"),o=l("5406"),s=l("51949"),d=l("82810"),c=l("39903"),u=l("67294"),m=l("86896"),p=l("44012"),g=l("38895");let v=e=>{let{min:n,max:l}=e;if(n===l)return 1===n?a||(a=(0,r.Z)(p.Z,{id:"search.form.date_picker.time_of_stay.one_night"})):(0,r.Z)(p.Z,{id:"search.form.date_picker.time_of_stay.more_nights",values:{count:n}});return(0,r.Z)(p.Z,{id:"form_search.stay_nights",values:{min:n,max:l}})},f=e=>{let{defaultValue:n,minValue:l=0,maxValue:a=31,onClose:f,onSubmit:h,trackChange:y}=e,[b,Z]=(0,u.useState)(n),{formatMessage:k}=(0,m.Z)(),C=(0,u.useCallback)(e=>{if(Array.isArray(e)){let[n,l]=e;Z({type:"timeToStay",isDefault:!1,min:n,max:l})}},[]),x=(0,u.useCallback)(e=>{if(Array.isArray(e)&&null!=y){let[n,l]=e;y((0,g.Vk)(n,l))}},[y]),S=(0,u.useCallback)(()=>{h((0,g.Vk)(b.min,b.max)),f()},[f,h,b.max,b.min]);return(0,r.Z)(s.default,{onClose:f,dataTest:"TimeOfStay",labelClose:k({id:"orbit.button_close"})},void 0,t||(t=(0,r.Z)(s.ModalHeader,{title:(0,r.Z)(p.Z,{id:"form_search.time_to_stay"})})),(0,r.Z)(s.ModalSection,{},void 0,(0,r.Z)(c.default,{spaceAfter:"medium",type:"info",dataTest:"TimeOfStayNights"},void 0,(0,r.Z)(v,{min:b.min,max:b.max})),(0,r.Z)(d.default,{dataTest:"TimeToStaySlider",minValue:l,maxValue:a,defaultValue:[n.min,n.max],onChange:C,onChangeAfter:x}),(0,r.Z)("div",{className:"flex items-center justify-between"},void 0,(0,r.Z)(c.default,{size:"large",type:"secondary"},void 0,l),(0,r.Z)(c.default,{dataTest:"MaxValueNightsText",size:"large",type:"secondary"},void 0,a))),(0,r.Z)(s.ModalFooter,{flex:"auto"},void 0,(0,r.Z)(o.default,{dataTest:"TimeToStayDoneButton",fullWidth:!0,onClick:S},void 0,i||(i=(0,r.Z)(p.Z,{id:"search.form.date_picker.button.set_dates"})))))}},52730:function(e,n,l){l.d(n,{Z:()=>eG});var a,t,i,r,o,s,d,c,u,m,p,g,v,f,h,y,b,Z,k,C,x,S,T,F,P,I,w,R,E,N,_,A,M,L,K=l("63127"),O=l("1410"),D=l("39719"),B=l("22549"),U=l("67294"),j=l("86896");let z={MODES:"modes",CABIN_CLASS:"cabinClass",PASSENGERS:"passengers",CABIN_CLASS_PASSENGERS:"cabinClassAndPassengers"};var V=l("33536"),$=l("33479"),Y=l("2119"),W=l("20687"),G=l("7375");let H=function(e,n){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=l?n[e]-1:n[e]+1;return G.JY(e,a,n)?G.t8(e,a,n):null};var Q=l("51035"),q=l("44012"),J=l("45716"),X=l("85893");let ee=e=>{let{id:n,bags:l,onChange:t,passengers:i}=e;return(0,X.jsxs)(X.Fragment,{children:[a||(a=(0,K.Z)(Q.default,{type:"title4",as:"h4",spaceAfter:"small"},void 0,(0,K.Z)(q.Z,{id:"search.form.filter.bags.title"}))),(0,K.Z)(J.Z,{id:n,bags:l,onChange:t,passengers:i})]})};var en=l("90013"),el=l.n(en),ea=l("33411"),et=l.n(ea),ei=l("39903"),er=l("62046");let eo=e=>{let{id:n,passengers:l,onAdd:a,onRemove:t}=e,{formatMessage:i}=(0,j.Z)();return(0,X.jsx)(X.Fragment,{children:et()(el()((e,r)=>{let o=G.yF[r];return(0,K.Z)(er.Z,{id:`${n}-${r}`,dataTest:`PassengersRow-${r}`,icon:(0,K.Z)(o,{}),value:e,minValue:G.KE(r),maxValue:G.kg(r,l),onChange:n=>{(n<e?t:a)(r)},titleIncrement:i(G.nz[r].add),titleDecrement:i(G.nz[r].remove)},r,(0,K.Z)("div",{className:"flex safe-space-x-200"},void 0,(0,K.Z)(ei.default,{weight:"medium"},void 0,(0,X.jsx)(q.Z,{...G.Xw[r],values:{smartCount:e}})),(0,K.Z)("div",{className:"[&>p]:text-ink-light"},void 0,(0,K.Z)(ei.default,{},void 0,(0,X.jsx)(q.Z,{...G.hM[r],values:{smartCount:e}})))))},l))})},es=e=>{let{id:n,value:l,showHeader:a,onAdd:i,onRemove:r}=e;return(0,K.Z)("div",{className:"mb-400"},void 0,a&&(t||(t=(0,K.Z)(Q.default,{type:"title4",as:"h4",spaceAfter:"small"},void 0,(0,K.Z)(q.Z,{id:"search.form.passengers.title"})))),(0,K.Z)(eo,{id:n,passengers:l,onAdd:i,onRemove:r}))};var ed=l("19342"),ec=l("30552"),eu=l("32159"),em=l("85199"),ep=l("81425");let eg=e=>{let{dataTest:n,children:l}=e;return(0,K.Z)("div",{"data-test":n,className:"ms-100 tb:leading-heading-display"},void 0,l)},ev=e=>{let{tablet:n=!1,margin:l=!1,newLayout:a=!1,children:t}=e;return(0,K.Z)("div",{className:(0,O.Z)(!n&&"inline-flex items-center",!a&&!n&&"lm:first-of-type:me-200",n&&"tb:flex tb:h-[44px] tb:flex-col tb:justify-center",n&&l&&"tb:ms-400")},void 0,t)},ef=e=>{let{bags:n}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,K.Z)("div",{className:"hidden tb:block"},void 0,(0,K.Z)(ed.default,{asComponent:"div",size:"normal",type:"secondary",iconRight:i||(i=(0,K.Z)(em.default,{})),dataTest:"BaggageButton"},void 0,(0,K.Z)(ev,{newLayout:!0},void 0,r||(r=(0,K.Z)(ec.default,{size:"medium"})),(0,K.Z)(eg,{dataTest:"BaggageField-note-cabin"},void 0,Y.W_(n,"cabin")),o||(o=(0,K.Z)(ep.Z,{className:"mx-[5px]"})),s||(s=(0,K.Z)(eu.default,{size:"medium"})),(0,K.Z)(eg,{dataTest:"BaggageField-note-checked"},void 0,Y.W_(n,"checked"))))),(0,K.Z)("div",{className:"tb:hidden"},void 0,(0,K.Z)(ed.default,{asComponent:"div",size:"small",type:"secondary",iconRight:d||(d=(0,K.Z)(em.default,{}))},void 0,(0,K.Z)(ev,{newLayout:!0},void 0,c||(c=(0,K.Z)(ec.default,{size:"small"})),(0,K.Z)(eg,{dataTest:"BaggageField-note-cabin"},void 0,Y.W_(n,"cabin")),u||(u=(0,K.Z)(ep.Z,{className:"mx-[5px]"})),m||(m=(0,K.Z)(eu.default,{size:"small"})),(0,K.Z)(eg,{dataTest:"BaggageField-note-checked"},void 0,Y.W_(n,"checked")))))]})};var eh=l("49074");let ey=e=>{let{passengersCount:n}=e;return n>1?(0,K.Z)("div",{className:"flex"},void 0,(0,K.Z)("span",{className:"me-100"},void 0,n),p||(p=(0,K.Z)(q.Z,{id:"search.form.passengers.title"}))):g||(g=(0,K.Z)("div",{className:"flex"},void 0,(0,K.Z)("span",{className:"me-100"},void 0,"1"),(0,K.Z)(q.Z,{id:"search.form.passenger.title"})))},eb=e=>{let{passengersCount:n}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,K.Z)("div",{className:"hidden tb:block"},void 0,(0,K.Z)(ed.default,{asComponent:"div",size:"normal",type:"secondary",iconRight:v||(v=(0,K.Z)(em.default,{})),dataTest:"PassengersButton"},void 0,(0,K.Z)(ev,{newLayout:!0},void 0,f||(f=(0,K.Z)(eh.default,{size:"medium"})),(0,K.Z)(eg,{dataTest:`PassengersField-note-${n}`},void 0,(0,K.Z)(ey,{passengersCount:n}))))),(0,K.Z)("div",{className:"tb:hidden"},void 0,(0,K.Z)(ed.default,{asComponent:"div",size:"small",type:"secondary",iconRight:h||(h=(0,K.Z)(em.default,{}))},void 0,(0,K.Z)(ev,{newLayout:!0},void 0,y||(y=(0,K.Z)(eh.default,{size:"small"})),(0,K.Z)(eg,{dataTest:`PassengersField-note-${n}`},void 0,(0,K.Z)(ey,{passengersCount:n})))))]})},eZ=e=>{let{passengers:n,bags:l,passengersCount:a,openedPassengers:t=!1,mobileModifyModal:i=!1,onChangePassengersAndBags:r,togglePopover:o}=e,[s,d]=(0,U.useState)(l),[c,u]=(0,U.useState)(n),{isOpened:m,open:p,close:g}=(0,$.S)(),v=(0,D.v9)(W.O9),f=(0,V.Z)(),{formatMessage:h}=(0,j.Z)(),y=(0,U.useCallback)(()=>{i&&o?o(z.PASSENGERS):p(),d(l)},[i,o,l,p]),b=(0,U.useCallback)(()=>{r(c,s,f),i&&o?o(z.PASSENGERS):g()},[i,o,f,r,c,s,g]),Z=(0,U.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=H(e,c,n);l&&(d(Y.Ll(l,s)),u(l))},[s,c]),k=(0,U.useCallback)(e=>{d(e)},[]),C=(0,U.useCallback)(e=>Z(e),[Z]),x=(0,U.useCallback)(e=>Z(e,!0),[Z]);return(0,K.Z)("div",{"data-test":"PassengersAndBagsField"},void 0,(0,K.Z)(B.default,{dataTest:"PassengersPopover",opened:i?t:m,onOpen:y,onClose:!i||t?b:void 0,overlapped:!0,fixed:!0,placement:v?"bottom-end":"bottom-start",content:(0,K.Z)("div",{className:"-mb-200 -me-200"},void 0,(0,K.Z)(es,{id:"passengersPicker",value:c,showHeader:!0,onAdd:C,onRemove:x}),(0,K.Z)(ee,{id:"bagsPickerSearchForm",bags:s,onChange:k,passengers:c})),labelClose:h({id:"orbit.button_close"})},void 0,(0,K.Z)("div",{className:"flex"},void 0,(0,K.Z)(eb,{passengersCount:a}),(0,K.Z)(ef,{bags:l}))))};var ek=l("58796"),eC=l("45547"),ex=l("27356"),eS=l("5406");let eT=e=>{let{onCancel:n,onClose:l,onMount:a}=e;return(0,U.useEffect)(a,[a]),(0,K.Z)("div",{className:"flex justify-between gap-400"},void 0,(0,K.Z)(eS.default,{dataTest:"PopoverButtonCancel",type:"secondary",onClick:n,fullWidth:!0},void 0,b||(b=(0,K.Z)("span",{className:"text-button-large"},void 0,(0,K.Z)(q.Z,{id:"search.form.multi_used.button.cancel"})))),(0,K.Z)(eS.default,{dataTest:"PopoverButtonDone",onClick:l,fullWidth:!0},void 0,Z||(Z=(0,K.Z)("span",{className:"text-button-large"},void 0,(0,K.Z)(q.Z,{id:"search.form.multi_used.button.done"})))))};var eF=l("31291"),eP=l("76465"),eI=l("16665"),ew=l("21548"),eR=l.n(ew),eE=l("90504"),eN=l("46813"),e_=l("72724"),eA=l("24031");let eM=e=>{let{disabled:n,checked:l,allowMixed:a,type:t,onClick:i,onChange:r}=e,o=(0,D.v9)(eA.D6),s=(0,D.v9)(e=>(0,e_.Z)(e,{})),d=(0,U.useCallback)(e=>{1!==e.button&&!e.ctrlKey&&!e.metaKey&&(e.preventDefault(),i(t))},[i,t]),c=(0,U.useMemo)(()=>{let{pathname:e,query:n}=s({searchForm:{...o,cabinClass:{type:t,allowMixed:a}}});return(0,eN.vE)(e,n)},[a,s,o,t]);return(0,K.Z)("a",{"data-test":`CabinClassPicker-filter-${ex.QL[t]}`,onClick:n?void 0:d,href:n?void 0:c,className:"flex h-form-box-normal items-center px-400 hover:bg-cloud-light-hover active:bg-cloud-light-active"},void 0,(0,K.Z)(eE.default,{label:(0,X.jsx)(q.Z,{...ex.v5[t]}),checked:l,onChange:r,disabled:n}))},eL=(0,U.memo)(e=>{let{onChange:n,value:l,activeMode:a,index:t,hideMixed:i=!1}=e,{formatMessage:r}=(0,j.Z)(),o=(0,U.useCallback)(e=>{n({type:e,allowMixed:l.allowMixed},t)},[n,l,t]),s=(0,U.useCallback)(()=>{n({type:l.type,allowMixed:!l.allowMixed},t)},[n,l,t]),d=!i&&ex.Ft.filter(e=>(0,ex.zm)(e,a)).length>1;return(0,K.Z)("div",{"data-test":"CabinClassPicker",className:"-ml-400 -mr-400 lm:ml-0 lm:mr-0 lm:py-200"},void 0,ex.Ft.map(e=>(0,K.Z)(eM,{disabled:!(0,ex.zm)(e,a),checked:l.type===e,type:e,allowMixed:l.allowMixed,onClick:o,onChange:eR()(o,null,e)},e)),d&&(0,K.Z)("div",{className:"mx-400 my-200","data-test":"CabinClassMixed"},void 0,(0,K.Z)("div",{"data-test":"MixedClassText",className:"mt-200"},void 0,(0,K.Z)(eF.default,{dataTest:"MixedClass-checkbox",label:(0,K.Z)("div",{className:"flex items-center"},void 0,k||(k=(0,K.Z)(q.Z,{id:"search.form.cabin_class.apply_mixed"})),(0,K.Z)(eP.default,{placement:"bottom",size:"small",content:C||(C=(0,K.Z)(q.Z,{id:"search.form.cabin_class.mixed_tooltip"})),stopPropagation:!0,labelClose:r({id:"orbit.button_close"})},void 0,x||(x=(0,K.Z)("div",{className:"ms-100 flex"},void 0,(0,K.Z)(eI.default,{size:"small",color:"secondary"}))))),checked:l.allowMixed,onChange:s}))))}),eK=e=>{let{passengers:n,addPassenger:l,removePassenger:a,bags:t,onChangeBags:i,hideCabinClass:r,cabinClass:o,activeMode:s,onChangeCabinClass:d}=e;return(0,X.jsxs)(X.Fragment,{children:[S||(S=(0,K.Z)(Q.default,{type:"title4",as:"h4",spaceAfter:"normal"},void 0,(0,K.Z)(q.Z,{id:"search.form.passengers.title"}))),(0,K.Z)("div",{className:"mb-400"},void 0,(0,K.Z)(eo,{id:"passengersPicker",passengers:n,onAdd:l,onRemove:a})),(0,K.Z)("div",{className:"mb-400"},void 0,T||(T=(0,K.Z)(Q.default,{type:"title4",as:"h4",spaceAfter:"normal"},void 0,(0,K.Z)(q.Z,{id:"search.form.filter.bags.title"}))),(0,K.Z)(J.Z,{id:"bagsPickerSearchForm",bags:t,onChange:i,passengers:n})),!r&&(0,X.jsxs)(X.Fragment,{children:[F||(F=(0,K.Z)(Q.default,{type:"title4",as:"h4",spaceAfter:"normal"},void 0,(0,K.Z)(q.Z,{id:"search.form.cabin_class.title"}))),(0,K.Z)("div",{className:"-mb-300 -mt-100"},void 0,(0,K.Z)(eL,{value:o,activeMode:s,onChange:d}))]})]})},eO=e=>{let{cabinClass:n,passengersCount:l,onChangeCabinClass:a,passengers:t,onChangePassengers:i,bags:r,onChangeBags:o,onChangePassengersAndBagsAndCabinClass:s,activeMode:d,togglePopover:c,openedPopover:u,mobileModifyModal:m=!1,hideModesField:p=!1,hideCabinClass:g=!1}=e,[v,f]=(0,U.useState)(n),[h,y]=(0,U.useState)(t),[b,Z]=(0,U.useState)(r),{isOpened:k,open:C,close:x}=(0,$.S)(!1),{formatMessage:S}=(0,j.Z)(),T=(0,U.useCallback)(()=>{!m&&window.history.pushState({isPaxAndBagsModal:!0},"","#paxAndBags"),m&&c?c(z.CABIN_CLASS_PASSENGERS):C(),f(n),y(t),Z(r)},[r,n,m,C,t,c]),F=(0,U.useCallback)(()=>{m&&c?c(z.CABIN_CLASS_PASSENGERS):x()},[x,m,c]),R=(0,U.useCallback)(()=>{!m&&window.history.back(),s(h,b,v),F()},[F,b,v,h,s]),E=(0,U.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=H(e,t,n);l&&i(l)},[i,t]),N=(0,U.useCallback)(e=>E(e),[E]),_=(0,U.useCallback)(e=>E(e,!0),[E]),[A,M]=(0,U.useState)(!1),L=(0,U.useCallback)(()=>M(!0),[]);return(0,K.Z)("div",{className:"flex-auto [&>div]:w-full"},void 0,(0,K.Z)(B.default,{content:(0,K.Z)(eK,{passengers:t,addPassenger:N,removePassenger:_,bags:r,onChangeBags:o,hideCabinClass:g,cabinClass:n,activeMode:d,onChangeCabinClass:a},A.toString()),actions:(0,K.Z)(eT,{onCancel:R,onClose:F,onMount:L}),dataTest:"CabinClassPapsBagsPopover",opened:m?u:k,onOpen:T,onClose:!m||u?R:void 0,fixed:!0,overlapped:!0,labelClose:S({id:"orbit.button_close"})},void 0,(0,K.Z)("div",{"data-test":`ModesButtonMobile-${l}-${ex.QL[n.type]}`,className:(0,O.Z)("flex justify-between items-center h-[46px] w-full cursor-pointer rounded-e-150 border border-solid border-cloud-dark-hover bg-white-normal py-100 pe-200 ps-400 shadow-level1 active:bg-button-white-background-active",p?"rounded-s-150":"border-s-0")},void 0,(0,K.Z)("div",{className:"flex gap-300"},void 0,(0,K.Z)("div",{className:"flex gap-100"},void 0,P||(P=(0,K.Z)(eh.default,{})),(0,K.Z)(ei.default,{},void 0,l)),(0,K.Z)("div",{className:"flex gap-50"},void 0,I||(I=(0,K.Z)(ec.default,{})),(0,K.Z)(ei.default,{},void 0,Y.NU({},r)))),w||(w=(0,K.Z)(em.default,{})))))},eD=(0,U.memo)(e=>{let{value:n,activeMode:l,onChangeCabinClass:a,togglePopover:t,openedCabinClass:i,mobileModifyModal:r=!1}=e,[o,s]=(0,U.useState)(n),{isOpened:d,open:c,close:u}=(0,$.S)(),m=(0,D.v9)(W.O9),{formatMessage:p}=(0,j.Z)(),g=(0,U.useCallback)(()=>{r&&t?t(z.CABIN_CLASS):c()},[r,c,t]),v=(0,U.useCallback)(()=>{a(o,!0),r&&t?t(z.CABIN_CLASS):u()},[u,r,a,o,t]),f=(0,U.useCallback)(e=>{s(e)},[]),h=e=>{let l=ex.v5[n.type||ex.Ux];return(0,K.Z)(ed.default,{size:"mobile"===e?"small":"normal",type:"secondary",iconRight:R||(R=(0,K.Z)(em.default,{})),asComponent:"div"},void 0,(0,K.Z)("div",{className:"flex items-center"},void 0,n.allowMixed&&n.type!==ex.Ux?(0,X.jsx)(X.Fragment,{children:"mobile"===e?(0,X.jsx)(q.Z,{...l}):(0,K.Z)(eP.default,{placement:"top",content:E||(E=(0,K.Z)(q.Z,{id:"search.form.cabin_class.mixed_applied"})),labelClose:p({id:"orbit.button_close"})},void 0,(0,X.jsx)(q.Z,{...l}))}):(0,X.jsx)(q.Z,{...l})))};return(0,K.Z)("div",{"data-test":`CabinClassField-active-${ex.QL[n.type]}`},void 0,(0,K.Z)(B.default,{opened:r?i:d,onOpen:g,onClose:!r||i?v:void 0,noPadding:!0,overlapped:!0,fixed:!0,placement:m?"bottom-end":"bottom-start",labelClose:p({id:"orbit.button_close"}),content:(0,K.Z)(eL,{value:o,activeMode:l,onChange:f})},void 0,(0,K.Z)("div",{className:"tb:hidden"},void 0,h("mobile")),(0,K.Z)("div",{className:"hidden tb:block"},void 0,h("desktop"))))});var eB=l("3279"),eU=l("10499"),ej=l("21406"),ez=l("77044");let eV=e=>{let{active:n,searchMode:l,message:a,onClick:t}=e,i=(0,D.v9)(eA.D6),r=(0,D.v9)(e=>(0,e_.Z)(e,{})),o=(0,D.v9)(ej.BX),s=(0,U.useMemo)(()=>{if(l===eU.xd.nomad)return`/${o}/nomad`;let{pathname:e,query:n}=r({searchForm:eU.PM(l,i)});return(0,eN.vE)(e,n)},[r,i,l,o]),d=(0,U.useCallback)(e=>{1!==e.button&&!e.ctrlKey&&!e.metaKey&&(e.preventDefault(),t(l))},[t,l]);return(0,K.Z)("a",{"data-test":`ModePopupOption-${l}`,onClick:d,href:s,className:"flex h-form-box-normal items-center px-400 hover:bg-cloud-light-hover active:bg-cloud-light-active"},void 0,(0,K.Z)(eE.default,{checked:n,onChange:ez.Z,label:(0,X.jsx)(q.Z,{...a})}))},e$=e=>{let{onChange:n,value:l,options:a}=e;return(0,K.Z)("div",{"data-test":"ModesPopup",className:"pt-400 lm:min-w-[160px] lm:py-200"},void 0,a.map(e=>(0,K.Z)(eV,{active:l===e.value,searchMode:e.value,message:e.message,onClick:n},e.value)))},eY=e=>{let{onClose:n,onDone:l,onMount:a}=e;return(0,U.useEffect)(a,[a]),(0,K.Z)("div",{className:"flex gap-400"},void 0,(0,K.Z)(eS.default,{type:"secondary",fullWidth:!0,onClick:n,dataTest:"ModesField-cancel"},void 0,N||(N=(0,K.Z)("span",{className:"text-button-large"},void 0,(0,K.Z)(q.Z,{id:"search.form.multi_used.button.cancel"})))),(0,K.Z)(eS.default,{fullWidth:!0,onClick:l,dataTest:"ModesField-done"},void 0,_||(_=(0,K.Z)("span",{className:"text-button-large"},void 0,(0,K.Z)(q.Z,{id:"search.form.multi_used.button.done"})))))},eW=e=>{var n;let{activeMode:l,options:a,onChange:t,togglePopover:i,openedModes:r,mobileModifyModal:o=!1,isSmallOrMediumMobile:s}=e,d=(0,D.v9)(W.O9),{isMobile:c}=(0,eB.Z)(),{isOpened:u,open:m,close:p}=(0,$.S)(),[g,v]=(0,U.useState)(l),{formatMessage:f}=(0,j.Z)();(0,U.useEffect)(()=>{v(l)},[l]);let h=(0,U.useCallback)(()=>{o&&i?i(z.MODES):p()},[o,i,p]),y=(0,U.useCallback)(e=>{v(e),!s&&(t(e),h())},[t,s,v,h]),b=(0,U.useCallback)(()=>{!o&&c&&window.history.pushState({modes:!0},"","#tripType"),o&&i?i(z.MODES):m()},[o,i,c,m]),Z=(0,U.useCallback)(()=>{v(l),h(),!o&&c&&window.history.back()},[v,l,h,c,o]),k=(0,U.useCallback)(()=>{t(g),h()},[t,g,h]),C=a.length>1,x=null===(n=a.find(e=>e.value===l))||void 0===n?void 0:n.message,S=x?(0,X.jsx)(q.Z,{...x}):null,[T,F]=(0,U.useState)(!1),P=(0,U.useCallback)(()=>F(!0),[]);return(0,K.Z)("div",{className:(0,O.Z)("min-w-0 grow [&>div]:w-full",!C&&"pointer-events-none opacity-50"),"data-test":`SearchFormModesPicker-active-${l}`},void 0,(0,K.Z)(B.default,{content:(0,K.Z)(e$,{value:g,options:a,onChange:y},T.toString()),actions:s?(0,K.Z)(eY,{onClose:Z,onDone:k,onMount:P}):null,dataTest:"ModesField",opened:o?r:u,onOpen:b,onClose:!o||r?Z:void 0,fixed:!0,noPadding:!0,overlapped:!0,placement:d?"bottom-end":"bottom-start",labelClose:f({id:"orbit.button_close"})},void 0,s?(0,K.Z)("div",{className:"flex h-[46px] items-center w-full cursor-pointer rounded-s-150 border border-solid border-cloud-dark-hover bg-white-normal py-100 ps-300 pe-200 shadow-level1 active:bg-button-white-background-active"},void 0,(0,K.Z)("p",{className:"min-w-0 flex-auto truncate pe-200"},void 0,S),A||(A=(0,K.Z)(em.default,{}))):(0,X.jsxs)(X.Fragment,{children:[(0,K.Z)("div",{className:"hidden tb:block"},void 0,(0,K.Z)(ed.default,{asComponent:"div",size:"normal",type:"secondary",iconRight:C?M||(M=(0,K.Z)(em.default,{})):null},void 0,S)),(0,K.Z)("div",{className:"tb:hidden"},void 0,(0,K.Z)(ed.default,{asComponent:"div",size:"small",type:"secondary",iconRight:C&&(L||(L=(0,K.Z)(em.default,{})))},void 0,S))]})))},eG=e=>{let{activeMode:n,backButton:l=null,bags:a,cabinClass:t,hideCabinClass:i=!1,hideModesField:r=!1,mobileModifyModal:o=!1,onChangeBags:s,onChangeCabinClass:d,onChangeMode:c,onChangePassengers:u,onChangePassengersAndBags:m,onChangePassengersAndBagsAndCabinClass:p,openedPopover:g,passengers:v,togglePopover:f}=e,h=(0,eC.Z)(),y=G.n0(v),b=(0,D.v9)(ek.L1);return(0,K.Z)("div",{className:"mb-300 flex items-center justify-between lm:mb-100 tb:justify-start"},void 0,(0,K.Z)("div",{className:(0,O.Z)("flex items-center",!r&&"min-w-0 flex-auto lm:grow-0")},void 0,l,!r&&(0,K.Z)(eW,{activeMode:n,options:h,onChange:c,togglePopover:f,openedModes:g===z.MODES,mobileModifyModal:o,isSmallOrMediumMobile:b})),b?(0,K.Z)(eO,{activeMode:n,cabinClass:t,onChangeCabinClass:d,passengers:v,onChangePassengers:u,passengersCount:y,bags:a,onChangeBags:s,onChangePassengersAndBagsAndCabinClass:p,togglePopover:f,openedPopover:g===z.CABIN_CLASS_PASSENGERS,mobileModifyModal:o,hideModesField:r,hideCabinClass:i}):(0,K.Z)("div",{className:"flex"},void 0,!i&&(0,K.Z)(eD,{onChangeCabinClass:d,value:t,activeMode:n,togglePopover:f,openedCabinClass:g===z.CABIN_CLASS,mobileModifyModal:o}),(0,K.Z)(eZ,{passengers:v,passengersCount:y,bags:a,openedPassengers:g===z.PASSENGERS,mobileModifyModal:o,onChangePassengersAndBags:m,togglePopover:f})))}},41616:function(e,n,l){l.d(n,{Z:function(){return t}});var a=l(63127);let t=e=>{let{children:n}=e;return(0,a.Z)("div",{className:"px-300 pb-300 pt-600 tb:pt-400"},void 0,n)}},57880:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(1410),t=l(85893);let i=e=>{let{as:n="div",children:l,clickable:i,disabled:r,level:o,selected:s,...d}=e;return(0,t.jsx)(n,{...d,className:(0,a.Z)("block cursor-pointer ps-400 outline-none",s&&"tb:bg-cloud-light-hover",i&&"active:bg-cloud-light-hover",r&&"cursor-default text-form-element-disabled-foreground [&_.place-picker-item-sub-text]:text-form-element-disabled-foreground",o&&"[&>div]:border-b-solid ps-[52px] [&>div]:border-0 [&>div]:border-b-card tb:[&>div]:border-b-0"),children:l})}},12432:function(e,n,l){l.d(n,{Z:function(){return t}});var a=l(63127);let t=e=>{let{children:n}=e;return(0,a.Z)("div",{className:"max-w-[calc(100%-40px)] flex-1 not-last:[&>*]:mb-50"},void 0,n)}},44064:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(1410),t=l(85893);let i=e=>{let{children:n,level:l,maxWidth:i,...r}=e;return(0,t.jsx)("div",{...r,className:(0,a.Z)("flex flex-1 items-center py-300 pe-400 ps-0",i&&"max-w-[calc(100%-40px)]",!l&&"border-0 border-b-card border-solid tb:border-b-0"),children:n})}},33496:function(e,n,l){var a,t,i,r,o,s,d,c,u,m,p,g,v,f,h,y,b,Z,k,C,x,S,T,F,P,I,w,R,E,N,_,A,M;l.r(n),l.d(n,{default:function(){return K}});let L=(a={defaultValue:null,kind:"LocalArgument",name:"filter"},t={defaultValue:null,kind:"LocalArgument",name:"options"},i={defaultValue:null,kind:"LocalArgument",name:"search"},r=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Literal",name:"first",value:20},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"search",variableName:"search"}],o={kind:"InlineFragment",selections:[{alias:"error",args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"AppError",abstractKey:null},s={alias:null,args:null,kind:"ScalarField",name:"rank",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"distance",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isAmbiguous",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"slugEn",storageKey:null},h={alias:null,args:null,concreteType:"Gps",kind:"LinkedField",name:"gps",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},Z={alias:null,args:null,concreteType:"AutonomousTerritory",kind:"LinkedField",name:"autonomousTerritory",plural:!1,selections:b=[p={alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null}],storageKey:null},k={alias:null,args:null,concreteType:"Subdivision",kind:"LinkedField",name:"subdivision",plural:!1,selections:[p,g],storageKey:null},x={alias:null,args:null,concreteType:"Region",kind:"LinkedField",name:"region",plural:!1,selections:[p,C={alias:null,args:null,concreteType:"Continent",kind:"LinkedField",name:"continent",plural:!1,selections:b,storageKey:null}],storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"airportsCount",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"groundStationsCount",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},I=[P={alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[p,g,x],storageKey:null}],R={alias:null,args:null,concreteType:"AutonomousTerritory",kind:"LinkedField",name:"autonomousTerritory",plural:!1,selections:w=[p,m],storageKey:null},E={alias:null,args:null,concreteType:"Subdivision",kind:"LinkedField",name:"subdivision",plural:!1,selections:[p,g,m],storageKey:null},_={alias:null,args:null,concreteType:"Region",kind:"LinkedField",name:"region",plural:!1,selections:[p,N={alias:null,args:null,concreteType:"Continent",kind:"LinkedField",name:"continent",plural:!1,selections:w,storageKey:null},m],storageKey:null},M=[A={alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[p,g,_,m],storageKey:null}],{fragment:{argumentDefinitions:[a,t,i],kind:"Fragment",metadata:null,name:"UmbrellaPlacesQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"places",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PlaceEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"distance",plural:!1,selections:[d],storageKey:null},c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,m,p,g,v,f,h,s,{kind:"InlineFragment",selections:[y,Z,k,{alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[p,g,f,x],storageKey:null},S,T],type:"City",abstractKey:null},{kind:"InlineFragment",selections:[F,y,{alias:null,args:null,concreteType:"City",kind:"LinkedField",name:"city",plural:!1,selections:[p,g,v,Z,k,P],storageKey:null}],type:"Station",abstractKey:null},{kind:"InlineFragment",selections:[C],type:"Region",abstractKey:null},{kind:"InlineFragment",selections:[y,x],type:"Country",abstractKey:null},{kind:"InlineFragment",selections:I,type:"AutonomousTerritory",abstractKey:null},{kind:"InlineFragment",selections:I,type:"Subdivision",abstractKey:null}],storageKey:null}],storageKey:null}],type:"PlaceConnection",abstractKey:null}],storageKey:null}],type:"RootQuery",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,a,t],kind:"Operation",name:"UmbrellaPlacesQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"places",plural:!1,selections:[u,o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PlaceEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"distance",plural:!1,selections:[u,d],storageKey:null},c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"TypeDiscriminator",abstractKey:"__isPlace"},m,p,g,v,f,h,s,{kind:"InlineFragment",selections:[y,R,E,{alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[p,g,f,_,m],storageKey:null},S,T],type:"City",abstractKey:null},{kind:"InlineFragment",selections:[F,y,{alias:null,args:null,concreteType:"City",kind:"LinkedField",name:"city",plural:!1,selections:[p,g,v,R,E,A,m],storageKey:null}],type:"Station",abstractKey:null},{kind:"InlineFragment",selections:[N],type:"Region",abstractKey:null},{kind:"InlineFragment",selections:[y,_],type:"Country",abstractKey:null},{kind:"InlineFragment",selections:M,type:"AutonomousTerritory",abstractKey:null},{kind:"InlineFragment",selections:M,type:"Subdivision",abstractKey:null}],storageKey:null}],storageKey:null}],type:"PlaceConnection",abstractKey:null}],storageKey:null}]},params:{cacheID:"6544229b841d0317d21596e94096b331",id:null,metadata:{},name:"UmbrellaPlacesQuery",operationKind:"query",text:"query UmbrellaPlacesQuery(\n  $search: PlacesSearchInput\n  $filter: PlacesFilterInput\n  $options: PlacesOptionsInput\n) {\n  places(search: $search, filter: $filter, options: $options, first: 20) {\n    __typename\n    ... on AppError {\n      error: message\n    }\n    ... on PlaceConnection {\n      edges {\n        rank\n        distance {\n          __typename\n          distance\n        }\n        isAmbiguous\n        node {\n          __typename\n          __isPlace: __typename\n          id\n          legacyId\n          name\n          slug\n          slugEn\n          gps {\n            lat\n            lng\n          }\n          rank\n          ... on City {\n            code\n            autonomousTerritory {\n              legacyId\n              id\n            }\n            subdivision {\n              legacyId\n              name\n              id\n            }\n            country {\n              legacyId\n              name\n              slugEn\n              region {\n                legacyId\n                continent {\n                  legacyId\n                  id\n                }\n                id\n              }\n              id\n            }\n            airportsCount\n            groundStationsCount\n          }\n          ... on Station {\n            type\n            code\n            gps {\n              lat\n              lng\n            }\n            city {\n              legacyId\n              name\n              slug\n              autonomousTerritory {\n                legacyId\n                id\n              }\n              subdivision {\n                legacyId\n                name\n                id\n              }\n              country {\n                legacyId\n                name\n                region {\n                  legacyId\n                  continent {\n                    legacyId\n                    id\n                  }\n                  id\n                }\n                id\n              }\n              id\n            }\n          }\n          ... on Region {\n            continent {\n              legacyId\n              id\n            }\n          }\n          ... on Country {\n            code\n            region {\n              legacyId\n              continent {\n                legacyId\n                id\n              }\n              id\n            }\n          }\n          ... on AutonomousTerritory {\n            country {\n              legacyId\n              name\n              region {\n                legacyId\n                continent {\n                  legacyId\n                  id\n                }\n                id\n              }\n              id\n            }\n          }\n          ... on Subdivision {\n            country {\n              legacyId\n              name\n              region {\n                legacyId\n                continent {\n                  legacyId\n                  id\n                }\n                id\n              }\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"}});L.hash="7ffbe88c2ff951cc35e28b98cd3d0a7c";let K=L},657:function(e,n,l){var a,t,i,r,o,s,d,c,u,m,p,g,v,f,h,y,b,Z,k,C,x,S,T,F,P,I,w,R,E,N,_,A,M,L,K,O,D,B,U,j,z,V,$;l.r(n),l.d(n,{default:function(){return W}});let Y=(a={defaultValue:null,kind:"LocalArgument",name:"filter"},t={defaultValue:null,kind:"LocalArgument",name:"options"},i={defaultValue:null,kind:"LocalArgument",name:"search"},r=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Literal",name:"first",value:20},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"search",variableName:"search"}],o={kind:"InlineFragment",selections:[{alias:"error",args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"AppError",abstractKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"slugEn",storageKey:null},g={alias:null,args:null,concreteType:"Gps",kind:"LinkedField",name:"gps",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"rank",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},y={alias:null,args:null,concreteType:"AutonomousTerritory",kind:"LinkedField",name:"autonomousTerritory",plural:!1,selections:h=[c={alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"Subdivision",kind:"LinkedField",name:"subdivision",plural:!1,selections:[c,u],storageKey:null},k={alias:null,args:null,concreteType:"Region",kind:"LinkedField",name:"region",plural:!1,selections:[c,Z={alias:null,args:null,concreteType:"Continent",kind:"LinkedField",name:"continent",plural:!1,selections:h,storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"airportsCount",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"groundStationsCount",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},F=[T={alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[c,u,k],storageKey:null}],P=[s,d,c,u,m,p,g,v,{kind:"InlineFragment",selections:[f,y,b,{alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[c,u,p,k],storageKey:null},C,x],type:"City",abstractKey:null},{kind:"InlineFragment",selections:[S,f,{alias:null,args:null,concreteType:"City",kind:"LinkedField",name:"city",plural:!1,selections:[c,u,m,y,b,T],storageKey:null}],type:"Station",abstractKey:null},{kind:"InlineFragment",selections:[Z],type:"Region",abstractKey:null},{kind:"InlineFragment",selections:[f,k],type:"Country",abstractKey:null},{kind:"InlineFragment",selections:F,type:"AutonomousTerritory",abstractKey:null},{kind:"InlineFragment",selections:F,type:"Subdivision",abstractKey:null}],R={alias:null,args:null,concreteType:"SphericalDistance",kind:"LinkedField",name:"sphericalDistance",plural:!1,selections:w=[I={alias:null,args:null,kind:"ScalarField",name:"distance",storageKey:null}],storageKey:null},E={alias:null,args:null,concreteType:"CarDirections",kind:"LinkedField",name:"carDirections",plural:!1,selections:[I,{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"isAmbiguous",storageKey:null},A={alias:null,args:null,concreteType:"AutonomousTerritory",kind:"LinkedField",name:"autonomousTerritory",plural:!1,selections:_=[c,d],storageKey:null},M={alias:null,args:null,concreteType:"Subdivision",kind:"LinkedField",name:"subdivision",plural:!1,selections:[c,u,d],storageKey:null},K={alias:null,args:null,concreteType:"Region",kind:"LinkedField",name:"region",plural:!1,selections:[c,L={alias:null,args:null,concreteType:"Continent",kind:"LinkedField",name:"continent",plural:!1,selections:_,storageKey:null},d],storageKey:null},O={kind:"InlineFragment",selections:[f,A,M,{alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[c,u,p,K,d],storageKey:null},C,x],type:"City",abstractKey:null},D={alias:null,args:null,concreteType:"Country",kind:"LinkedField",name:"country",plural:!1,selections:[c,u,K,d],storageKey:null},B={kind:"InlineFragment",selections:[S,f,{alias:null,args:null,concreteType:"City",kind:"LinkedField",name:"city",plural:!1,selections:[c,u,m,A,M,D,d],storageKey:null}],type:"Station",abstractKey:null},U={kind:"InlineFragment",selections:[L],type:"Region",abstractKey:null},j={kind:"InlineFragment",selections:[f,K],type:"Country",abstractKey:null},V={kind:"InlineFragment",selections:z=[D],type:"AutonomousTerritory",abstractKey:null},{fragment:{argumentDefinitions:[a,t,i],kind:"Fragment",metadata:null,name:"UmbrellaPlacesTermQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"places",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PlacesMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StationConnection",kind:"LinkedField",name:"firstResultStations",plural:!1,selections:[{alias:null,args:null,concreteType:"StationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Station",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:P,type:"Place",abstractKey:"__isPlace"}],storageKey:null},R,E],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PlaceEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"distance",plural:!1,selections:w,storageKey:null},N,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:P,storageKey:null}],storageKey:null}],type:"PlaceConnection",abstractKey:null}],storageKey:null}],type:"RootQuery",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,a,t],kind:"Operation",name:"UmbrellaPlacesTermQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"places",plural:!1,selections:[s,o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PlacesMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StationConnection",kind:"LinkedField",name:"firstResultStations",plural:!1,selections:[{alias:null,args:null,concreteType:"StationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Station",kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"InlineFragment",selections:[s,c,u,m,p,g,v,O,B,U,j,V,$={kind:"InlineFragment",selections:z,type:"Subdivision",abstractKey:null}],type:"Place",abstractKey:"__isPlace"}],storageKey:null},R,E],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PlaceEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"distance",plural:!1,selections:[s,I],storageKey:null},N,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[s,{kind:"TypeDiscriminator",abstractKey:"__isPlace"},d,c,u,m,p,g,v,O,B,U,j,V,$],storageKey:null}],storageKey:null}],type:"PlaceConnection",abstractKey:null}],storageKey:null}]},params:{cacheID:"b7161230608b7c33b7b72df402db00d2",id:null,metadata:{},name:"UmbrellaPlacesTermQuery",operationKind:"query",text:"query UmbrellaPlacesTermQuery(\n  $search: PlacesSearchInput\n  $filter: PlacesFilterInput\n  $options: PlacesOptionsInput\n) {\n  places(search: $search, filter: $filter, options: $options, first: 20) {\n    __typename\n    ... on AppError {\n      error: message\n    }\n    ... on PlaceConnection {\n      metadata {\n        firstResultStations {\n          edges {\n            node {\n              ... on Place {\n                __isPlace: __typename\n                __typename\n                id\n                legacyId\n                name\n                slug\n                slugEn\n                gps {\n                  lat\n                  lng\n                }\n                rank\n                ... on City {\n                  code\n                  autonomousTerritory {\n                    legacyId\n                    id\n                  }\n                  subdivision {\n                    legacyId\n                    name\n                    id\n                  }\n                  country {\n                    legacyId\n                    name\n                    slugEn\n                    region {\n                      legacyId\n                      continent {\n                        legacyId\n                        id\n                      }\n                      id\n                    }\n                    id\n                  }\n                  airportsCount\n                  groundStationsCount\n                }\n                ... on Station {\n                  type\n                  code\n                  gps {\n                    lat\n                    lng\n                  }\n                  city {\n                    legacyId\n                    name\n                    slug\n                    autonomousTerritory {\n                      legacyId\n                      id\n                    }\n                    subdivision {\n                      legacyId\n                      name\n                      id\n                    }\n                    country {\n                      legacyId\n                      name\n                      region {\n                        legacyId\n                        continent {\n                          legacyId\n                          id\n                        }\n                        id\n                      }\n                      id\n                    }\n                    id\n                  }\n                }\n                ... on Region {\n                  continent {\n                    legacyId\n                    id\n                  }\n                }\n                ... on Country {\n                  code\n                  region {\n                    legacyId\n                    continent {\n                      legacyId\n                      id\n                    }\n                    id\n                  }\n                }\n                ... on AutonomousTerritory {\n                  country {\n                    legacyId\n                    name\n                    region {\n                      legacyId\n                      continent {\n                        legacyId\n                        id\n                      }\n                      id\n                    }\n                    id\n                  }\n                }\n                ... on Subdivision {\n                  country {\n                    legacyId\n                    name\n                    region {\n                      legacyId\n                      continent {\n                        legacyId\n                        id\n                      }\n                      id\n                    }\n                    id\n                  }\n                }\n              }\n              id\n            }\n            sphericalDistance {\n              distance\n            }\n            carDirections {\n              distance\n              duration\n            }\n          }\n        }\n      }\n      edges {\n        rank\n        distance {\n          __typename\n          distance\n        }\n        isAmbiguous\n        node {\n          __typename\n          __isPlace: __typename\n          id\n          legacyId\n          name\n          slug\n          slugEn\n          gps {\n            lat\n            lng\n          }\n          rank\n          ... on City {\n            code\n            autonomousTerritory {\n              legacyId\n              id\n            }\n            subdivision {\n              legacyId\n              name\n              id\n            }\n            country {\n              legacyId\n              name\n              slugEn\n              region {\n                legacyId\n                continent {\n                  legacyId\n                  id\n                }\n                id\n              }\n              id\n            }\n            airportsCount\n            groundStationsCount\n          }\n          ... on Station {\n            type\n            code\n            gps {\n              lat\n              lng\n            }\n            city {\n              legacyId\n              name\n              slug\n              autonomousTerritory {\n                legacyId\n                id\n              }\n              subdivision {\n                legacyId\n                name\n                id\n              }\n              country {\n                legacyId\n                name\n                region {\n                  legacyId\n                  continent {\n                    legacyId\n                    id\n                  }\n                  id\n                }\n                id\n              }\n              id\n            }\n          }\n          ... on Region {\n            continent {\n              legacyId\n              id\n            }\n          }\n          ... on Country {\n            code\n            region {\n              legacyId\n              continent {\n                legacyId\n                id\n              }\n              id\n            }\n          }\n          ... on AutonomousTerritory {\n            country {\n              legacyId\n              name\n              region {\n                legacyId\n                continent {\n                  legacyId\n                  id\n                }\n                id\n              }\n              id\n            }\n          }\n          ... on Subdivision {\n            country {\n              legacyId\n              name\n              region {\n                legacyId\n                continent {\n                  legacyId\n                  id\n                }\n                id\n              }\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"}});Y.hash="d68154f467c9956e92f64611818cf2d5";let W=Y},12822:function(e,n,l){l.d(n,{Z:()=>lY});var a,t,i,r,o,s,d,c,u,m,p,g,v,f,h,y,b,Z,k,C,x,S,T,F,P,I,w,R,E,N,_,A,M,L,K=l("63127"),O=l("99072"),D=l.n(O),B=l("13657"),U=l.n(B),j=l("80249"),z=l("1410"),V=l("67294"),$=l("39719"),Y=l("45567"),W=l("59587"),G=l("6758"),H=l("44012"),Q=l("85893");let q=e=>{var n,l;let{children:a,shouldFreezeContent:t,flex:i}=e,r=(0,V.useRef)(null),o=(0,V.useRef)(null),s=(0,V.useRef)(null);return(t&&!s.current&&(o.current=null===(n=r.current)||void 0===n?void 0:n.innerHTML),s.current=t,t)?(0,K.Z)("div",{className:(0,z.Z)("w-full",i&&"de:flex"),dangerouslySetInnerHTML:{__html:null!==(l=o.current)&&void 0!==l?l:""}}):(0,Q.jsx)("div",{className:(0,z.Z)("w-full",i&&"de:flex"),ref:r,children:a})};var J=l("58926"),X=l("78776"),ee=l("58796"),en=l("54056"),el=l("77044");let ea=null,et=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=(0,V.useRef)(e.loading),a=(0,V.useRef)(null),[t,i]=(0,V.useState)(!1);return(0,V.useEffect)(()=>{e.places.length>0&&(ea=e),e.loading&&null===a.current&&(a.current=setTimeout(()=>{i(!0)},500)),l.current&&!e.loading&&a.current&&(clearTimeout(a.current),a.current=null,i(!1)),l.current=e.loading},[e]),{showSkeleton:t,results:!e.loading||n||t||null===ea?e:ea}};var ei=l("54025"),er=l.n(ei),eo=l("42157"),es=l.n(eo),ed=l("53523"),ec=l.n(ed),eu=l("51383"),em=l.n(eu),ep=l("46376"),eg=l.n(ep),ev=l("71654"),ef=l("32620"),eh=l("88546"),ey=l("69871");let eb={TERM:"term",ALTERNATIVES:"alternatives",TRENDING:"trending",NEAR_FIRST:"nearFirst",NEAR_YOU:"nearYou"};var eZ=l("75531"),ek=l("29495"),eC=l("10499"),ex=l("18252"),eS=l("3279"),eT=l("72208"),eF=l("49941"),eP=l("73799"),eI=l("60400"),ew=l("70613"),eR=l("21406"),eE=l("31164"),eN=l("94449"),e_=l("9826"),eA=l("16606"),eM=l("38719"),eL=l("94853"),eK=l("3397"),eO=l("96695"),eD=l("56396"),eB=l.n(eD),eU=l("51636");let ej=e=>{let{nested:n=!1}=e;return(0,K.Z)("div",{className:(0,z.Z)("flex flex-row items-center justify-between py-300 pe-400",n?"ps-[52px]":"ps-400")},void 0,a||(a=(0,K.Z)(eU.default,{width:"196px",height:"24px"},void 0,(0,K.Z)("rect",{width:"24",height:"24",rx:"3"}),(0,K.Z)("rect",{x:"36",y:"2",width:"160",height:"20",rx:"3"}))),t||(t=(0,K.Z)(eU.default,{width:"32px",height:"32px",viewBox:"0 0 32 32"})))},ez=()=>{let e=(0,V.useRef)(null),[n,l]=(0,V.useState)(0);return(0,V.useEffect)(()=>{var n;let a=null===(n=e.current)||void 0===n?void 0:n.getBoundingClientRect();if(null!=a){let e=a.top,n=window.innerHeight-e,{height:t}=a,i=Math.ceil((n-t)/112);i>0&&l(i)}},[]),(0,Q.jsxs)("div",{className:"tb:mx-0 tb:-mt-200 tb:mb-100",ref:e,children:[i||(i=(0,K.Z)(ej,{})),r||(r=(0,K.Z)(ej,{nested:!0})),o||(o=(0,K.Z)(ej,{nested:!0})),s||(s=(0,K.Z)(ej,{nested:!0})),eB()(1,n).map(e=>(0,K.Z)(V.Fragment,{},`row${e}`,d||(d=(0,K.Z)(ej,{})),c||(c=(0,K.Z)(ej,{nested:!0}))))]})};var eV=l("40731"),e$=l.n(eV);let eY=(e,n,l)=>eC.iJ(n)===eC.xd.nomad&&l.some(n=>ex.XT((0,eP.Z)(e)||e,n)&&e!==n),eW=(e,n)=>!(eC.iJ(e)===eC.xd.nomad&&!U()(n)&&n<=1)&&[eC.xd.oneWay,eC.xd.return].includes(eC.iJ(e))&&U()(n),eG=(e,n,l,a,t,i)=>eW(l,a)&&n===eb.NEAR_FIRST&&e.length>=1&&ex.dJ(e[0])&&!eY(e[0],l,t)&&!i,eH=(e,n,l,a,t)=>{if(!e||![ey.ik.CITY,ey.ik.STATION].includes(e.node.__typename)||!eW(l,n)||t)return null;let i=e.node,r=i?ex.FB({mode:ey.sU.PLACE,value:i}):null;return r&&!eY(r,l,a)?{place:r,level:1,checked:!1,rowType:"expandToRadius"}:null},eQ=(e,n,l,a)=>{let{showAllSubPlaces:t}=a,i=n.map(e=>({rowType:"place",place:e,level:1,checked:l.some(n=>{var l;return ex.mh(n)===(null==e?void 0:null===(l=e.node)||void 0===l?void 0:l.id)})})).filter(eL.v),r=n.length;return t||r<=6?i:i.slice(0,6).concat({rowType:"showMore",level:1,cityId:e})},eq=e=>{var n,l;let{placesResults:a,currentlyShownPlaces:t,searchForm:i,index:r,adjoiningFieldPlaces:o,showAllSubPlaces:s,brandPlacepickerOptions:d,shouldShowRecentSearchesOnDesktop:c}=e,{searchType:u}=a,{places:m,subPlaces:p}=a,g=eG(t,u,i,r,o,d.hideExpand)?{place:t[0],level:0,checked:!1,rowType:"expandToRadius"}:null,[v,...f]=m,h=e$()(e=>ex.mh(e),t),y=e=>{var n;let l=null===(n=e.node)||void 0===n?void 0:n.id;return!!l&&!!h[l]},b=v?{rowType:"place",place:v,level:0,checked:y(v)}:null,Z=g||(null===(n=t[0])||void 0===n?void 0:n.mode)==="radius"?null:eH(v,r,i,o,d.hideExpandablePlaceRow),k=p.length?eQ(null==v?void 0:null===(l=v.node)||void 0===l?void 0:l.id,p,t,{showAllSubPlaces:s}):[],C=[g,b,Z,...k,...f.map(e=>({rowType:"place",place:e,level:0,checked:y(e)}))].filter(eL.v);return c?C.slice(0,3):C};var eJ=l("39903"),eX=l("41616"),e0=l("94687"),e1=l("23357"),e9=l("5406"),e2=l("72182");let e4=e=>{let{onClick:n}=e;return(0,K.Z)("div",{className:"[&>button]:m-50"},void 0,(0,K.Z)(e9.default,{type:"primarySubtle",title:"Add place",onClick:e=>n(e,!0),size:"small",iconLeft:u||(u=(0,K.Z)(e2.default,{className:"text-product-normal"}))}))};var e3=l("57880");let e6=e=>{let{children:n}=e;return(0,K.Z)("div",{className:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap font-medium leading-normal"},void 0,n)};var e5=l("12432"),e8=l("44064"),e7=l("81197");let ne=e=>{let{onClick:n}=e;return(0,K.Z)("div",{className:"[&>button]:m-50 [&>button]:bg-blue-light [&>button]:text-blue-normal hover:[&>button]:bg-blue-light-hover","data-test":"PlacePickerRowCheckbox"},void 0,(0,K.Z)(e9.default,{title:"Remove place",onClick:e=>n(e,!0),size:"small",iconLeft:m||(m=(0,K.Z)(e7.default,{color:"info"}))}))};var nn=l("97253"),nl=l("20578"),na=l("22919"),nt=l("96683"),ni=l("47190"),nr=l("66155");let no=(0,V.memo)(e=>{let{type:n,countryCode:l}=e;switch(n){case ey.Ml.RADIUS:return p||(p=(0,K.Z)(nt.default,{}));case ey.Ml.CITY:return g||(g=(0,K.Z)(na.default,{}));case ey.Ml.AIRPORT:return v||(v=(0,K.Z)(nl.default,{}));case ey.Ml.SPECIAL:case ey.Ml.TOURIST_REGION:case ey.Ml.SUBDIVISION:return f||(f=(0,K.Z)(ni.default,{}));case ey.Ml.COUNTRY:return null==l?h||(h=(0,K.Z)(nr.default,{})):(0,K.Z)("div",{className:"flex h-icon-medium items-center"},void 0,(0,K.Z)(nn.default,{code:l,name:"country flag"}));default:return y||(y=(0,K.Z)(nr.default,{}))}}),ns=(0,V.memo)(e=>{var n;let{textValue:l,place:a,selected:t,onSelect:i,isMobile:r,checked:o,level:s,setExpanded:d,hoverRow:c,index:u,hidePlaceSelectButtons:m,isResponsiveQuickSelectionEnabled:p=!1}=e,g=(0,V.useCallback)((e,n)=>{e.stopPropagation(),e.preventDefault(),i(a),!n&&d(!1)},[i,a,d]),v=(0,V.useCallback)((e,n)=>{e.stopPropagation(),e.preventDefault(),i(a,!U()(s)&&s>0&&!r),!n&&p&&d(!1)},[r,s,i,a,d,p]),f=(0,V.useCallback)(e=>{c&&(e.stopPropagation(),c(u))},[c,u]),h=!!i,y=r&&!m?v:g,{getDisplayName:b}=(0,eT.Od)(),Z=b(a,{radiusListLength:40,searchedText:l,pickerRowLevel:s}),k=null!==(n=ex.oL(a))&&void 0!==n?n:"";return(0,K.Z)(e0.Z,{active:t&&!c},void 0,(0,K.Z)(e3.Z,{selected:t,clickable:h,level:s,onClick:h?y:void 0,onMouseEnter:f,role:"button",tabIndex:0,"data-test":`PlacePickerRow-${k}`},void 0,(0,K.Z)("div",{className:"flex items-center safe-space-x-300"},void 0,(0,K.Z)(no,{type:k,countryCode:a.mode!==ey.sU.PLACE||k!==ey.Ml.COUNTRY||(0,e1.rZ)(a.value)?null:(0,e1.Cq)(a.value)}),(0,K.Z)(e8.Z,{maxWidth:!0,level:s,"data-test":"PlacePickerRow-wrapper"},void 0,(0,K.Z)(e5.Z,{},void 0,(0,K.Z)(e6,{},void 0,Z)),!m&&(o?(0,K.Z)(ne,{onClick:v}):(0,K.Z)(e4,{onClick:y}))))))}),nd=e=>{let{alreadyIncludedPlaces:n,hoverRow:l,selectedIndex:a,handleDeselect:t,isMobile:i,firstIndex:r,setExpanded:o,hidePlaceSelectButtons:s}=e;return(0,Q.jsxs)(Q.Fragment,{children:[b||(b=(0,K.Z)(eX.Z,{},void 0,(0,K.Z)(eJ.default,{size:"large"},void 0,(0,K.Z)(H.Z,{id:"search.form.already_included"})))),n.map((e,n)=>(0,K.Z)(ns,{index:r+n,checked:!0,selected:r+n===a,place:e,hoverRow:l,onSelect:t,isMobile:i,setExpanded:o,hidePlaceSelectButtons:s},ex.zv(e)))]})};var nc=l("89442"),nu=l("96637"),nm=l("32895");let np=e=>{let{onClick:n,selectedIndex:l,hoverRow:a}=e,t=(0,$.I0)(),i=(0,V.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),n((0,ex.zX)(!1),!1),t((0,nm.el)(null)),t((0,nm.YT)(!1))},[n,t]),r=(0,V.useCallback)(e=>{a&&(e.stopPropagation(),a(0))},[a]);return(0,K.Z)("div",{className:(0,z.Z)("cursor-pointer ps-400 outline-none",0===l&&"tb:bg-cloud-light-hover"),"data-test":"AnywhereRow",onClick:i,onMouseEnter:r},void 0,Z||(Z=(0,K.Z)("div",{className:"flex items-center safe-space-x-400"},void 0,(0,K.Z)(nc.default,{}),(0,K.Z)(e8.Z,{},void 0,(0,K.Z)(e5.Z,{},void 0,(0,K.Z)("div",{className:"font-medium leading-normal"},void 0,(0,K.Z)(H.Z,{id:"search.form.where_to_travel"})),(0,K.Z)(eJ.default,{size:"small",type:"secondary"},void 0,(0,K.Z)(H.Z,{id:"search.form.anywhere_inspiration"}))),(0,K.Z)("div",{className:"min-w-[36px] text-center"},void 0,(0,K.Z)(nu.default,{}))))))};var ng=l("89979"),nv=l("86896");let nf=(e,n)=>{var l;let a=e.country&&!e.country.name.toLowerCase().includes("unknown")?e.country.name:"";if(e.type){if(e.type===ey.gN.AIRPORT)return n?`${e.code||""} ${e.name}`:`${e.code||""} ${(null==e?void 0:null===(l=e.city)||void 0===l?void 0:l.name)||""}${a?`, ${a}`:""} - ${e.name}`;return e.name}switch(e.__typename){case ey.ik.CITY:case ey.ik.AUTONOMOUS_TERRITORY:return`${e.name}${a?`, ${a}`:""}`;default:return e.name}},nh=e=>{let{children:n}=e;return(0,K.Z)("p",{className:"place-picker-item-sub-text text-small leading-small text-secondary-foreground"},void 0,n)},ny=e=>{let{place:n,textValue:l,parentPlace:a}=e,{formatMessage:t}=(0,nv.Z)(),{getDisplayName:i}=(0,eT.Od)(),r=nf(n.node,0),o=(0,V.useMemo)(()=>{if(!a)return t({id:"form_search.place_already_included"});let e=i(a,{radiusListLength:40,searchedText:l,pickerRowLevel:0});return a.mode===ey.sU.RADIUS?t({id:"form_search.place_already_included_within_radius"},{radius:e}):t({id:"form_search.place_already_included_within"},{place:e})},[t,i,a,l]);return(0,K.Z)(e3.Z,{disabled:!0},void 0,(0,K.Z)("div",{className:"flex items-center safe-space-x-300"},void 0,k||(k=(0,K.Z)(ng.default,{})),(0,K.Z)(e8.Z,{},void 0,(0,K.Z)(e5.Z,{},void 0,(0,K.Z)(e6,{},void 0,r),(0,K.Z)(nh,{},void 0,o)))))},nb=(0,V.lazy)(()=>l.e("182").then(l.bind(l,44469)));var nZ=l("95433"),nk=l("76995");let nC=(0,V.memo)(e=>{let{hasError:n,shouldShowNoResults:l}=e,{formatMessage:a}=(0,nv.Z)();return n?(0,K.Z)("div",{className:"whitespace-normal p-[10px]"},void 0,(0,K.Z)(nZ.default,{type:"critical",icon:!0,labelClose:a({id:"orbit.button_close"}),dataTest:"Alert"},void 0,C||(C=(0,K.Z)(H.Z,{id:"common.api_error"})))):l?x||(x=(0,K.Z)("div",{className:"flex flex-col items-center safe-space-x-300"},void 0,(0,K.Z)(nk.Z,{name:"PlaceholderDestination",loading:"eager",className:"mb-300"}),(0,K.Z)(eJ.default,{align:"center",spaceAfter:"large"},void 0,(0,K.Z)(H.Z,{id:"search.form.could_not_find"})))):null}),nx=(0,V.lazy)(()=>l.e("4233").then(l.bind(l,59621)));var nS=l("22222");let nT=(0,V.memo)(e=>{let{center:n,expandToRadius:l,selected:a,index:t,level:i=0,hoverRow:r,onSelect:o,hidePlaceSelectButtons:s}=e,{formatDistance:d}=(0,nS.Gb)(),[c,u]=(0,V.useState)(!1),m=(0,V.useRef)(c),p=e=>{m.current=e},g=(0,V.useCallback)(()=>{r&&r(t)},[r,t]),v=(0,V.useCallback)(()=>{l(n,1===i)},[n,l,i]),f=(0,V.useCallback)((e,a)=>{u(a),p(a),l(n,1===i,a)},[n,l,i]);if(n.mode===ey.sU.ANYWHERE)return null;let h=(0,eT.VQ)(n.value);return(0,K.Z)(e0.Z,{active:a&&!r},void 0,(0,K.Z)(e3.Z,{selected:a,clickable:!!o,level:i,onClick:()=>{!m.current&&v()},onMouseEnter:g},void 0,(0,K.Z)("div",{className:"flex items-center safe-space-x-300"},void 0,S||(S=(0,K.Z)(nt.default,{})),(0,K.Z)(e8.Z,{maxWidth:!0,level:i,"data-test":"PlacePickerRow-wrapper"},void 0,(0,K.Z)(e5.Z,{},void 0,(0,K.Z)(e6,{},void 0,(0,K.Z)(H.Z,{id:"search.form.around_radius",values:{city:h,radius:d(250)}}))),!s&&(0,K.Z)(e4,{onClick:f})))))}),nF=(0,l("19993").defineMessages)({alternatives:{id:"search.form.options"},trending:{id:"search.form.trending"},nearFirst:{id:"form_search.places_nearby_one"},nearYou:{id:"form_search.places_nearby"}}),nP=(e,n)=>{switch(e){case eb.ALTERNATIVES:return{message:nF.alternatives};case eb.TRENDING:return{message:nF.trending};case eb.NEAR_FIRST:return{message:nF.nearFirst,values:{first:n}};case eb.NEAR_YOU:return{message:nF.nearYou};default:return null}},nI=(0,V.memo)(e=>{let{searchType:n,firstIncludedShortName:l}=e,a=nP(n,l);return a?(0,K.Z)(eX.Z,{},void 0,(0,K.Z)(eJ.default,{size:"large"},void 0,(0,Q.jsx)(H.Z,{...a.message,values:a.values}))):null});var nw=l("19342");let nR=(0,V.memo)(e=>{let{index:n,hoverRow:l,onClick:a}=e,t=(0,V.useCallback)(e=>{l&&(e.stopPropagation(),l(n))},[l,n]);return(0,K.Z)("div",{className:"-mt-px flex justify-center border-0 border-b-card border-solid bg-white-normal px-400 py-300 tb:mt-0 tb:border-b-0",onMouseEnter:t,tabIndex:0,role:"button"},void 0,(0,K.Z)(nw.default,{type:"primary",onClick:a},void 0,T||(T=(0,K.Z)(H.Z,{id:"search.load_more"}))))});var nE=l("38982"),nN=l("72134"),n_=l("48421");let nA=e=>{let{distance:n,duration:l,formatDistance:a}=e;return(0,K.Z)("div",{className:"flex items-center safe-space-x-100"},void 0,F||(F=(0,K.Z)(e2.default,{size:"small"})),P||(P=(0,K.Z)(nE.default,{size:"small"})),(0,K.Z)(n_.Z,{value:1e3*l}),I||(I=(0,K.Z)(nN.default,{size:"small"})),(0,K.Z)("span",{},void 0,a(n)))},nM=e=>"number"==typeof e?Math.round(e/1e3):null,nL=(e,n,l)=>{let a=nM(e);return U()(a)?null:n({id:"search.form.distance.center"},{distance:l(a)})},nK=(e,n,l,a,t)=>{if(l===eb.NEAR_FIRST){var i;let l=nM(null==e?void 0:null===(i=e.distance)||void 0===i?void 0:i.distance);return"number"==typeof l?a({id:"search.form.distance.from"},{distance:t(l),fromPlace:n}):null}return null},nO=e=>{if(!e)return null;let n=nM(e.distance),l=e.duration,a="number"==typeof l?60*l:null;return U()(n)||U()(a)?void 0:{distance:n,duration:a}},nD=(0,V.memo)(e=>{var n,l;let{placeEdge:a,selected:t,onSelect:i,isMobile:r,checked:o,level:s,setExpanded:d,hoverRow:c,index:u,firstIncludedShortName:m,searchType:p,hidePlaceSelectButtons:g,isResponsiveQuickSelectionEnabled:v=!1}=e,{convertDistance:f,formatDistance:h}=(0,nS.Gb)(),{formatMessage:y}=(0,nv.Z)(),b=1===s?nL(null==a?void 0:null===(n=a.sphericalDistance)||void 0===n?void 0:n.distance,y,f):nK(a,m,p,y,f),Z=nO(a.carDirections),k=(0,V.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),i(a),d(!1)},[i,a,d]),C=(0,V.useCallback)((e,n)=>{e.stopPropagation(),e.preventDefault(),i(a,!U()(s)&&s>0&&!r),!n&&v&&d(!1)},[r,s,i,a,d,v]),x=(0,V.useCallback)(e=>{c&&(e.stopPropagation(),c(u))},[c,u]),S=!!i,T=r&&!g?C:k,F=nf(null==a?void 0:a.node,s);return(0,K.Z)(e0.Z,{active:t&&!c},void 0,(0,K.Z)(e3.Z,{selected:t,clickable:S,level:s,onClick:T,onMouseEnter:x,role:"button",tabIndex:0,"data-test":`PlacePickerRow-${(a.node.__typename||"").toLowerCase()}`},void 0,(0,K.Z)("div",{className:"flex items-center safe-space-x-300"},void 0,(0,K.Z)(no,{type:null!==(l=e1.oL(a.node))&&void 0!==l?l:"",countryCode:a.node.__typename===ey.ik.COUNTRY?a.node.code:""}),(0,K.Z)(e8.Z,{maxWidth:!0,level:s,"data-test":"PlacePickerRow-wrapper"},void 0,(0,K.Z)(e5.Z,{},void 0,(0,K.Z)(e6,{},void 0,F),b&&(0,K.Z)(nh,{},void 0,b),Z&&(0,K.Z)(nA,{distance:Z.distance,duration:Z.duration,formatDistance:h})),!g&&(o?(0,K.Z)(ne,{onClick:C}):(0,K.Z)(e4,{onClick:C}))))))}),nB=(0,V.memo)(e=>{let{placesToShow:n,selectedIndex:l,handleSelect:a,handleSelectUmbrellaPlace:t,handleDeselect:i,hoverRow:r,firstIndex:o,isMobile:s,searchType:d,setExpanded:c,firstIncludedShortName:u,toggleShowMoreSubPlaces:m,expandToRadius:p,hidePlaceSelectButtons:g}=e;return(0,Q.jsxs)(Q.Fragment,{children:[(0,K.Z)(nI,{searchType:d,firstIncludedShortName:u}),n.map((e,n)=>{if("showMore"===e.rowType)return m&&(0,K.Z)(nR,{hoverRow:r,index:o+n,onClick:m},`showMore_${e.cityId}`);if("expandToRadius"===e.rowType)return(0,K.Z)(nT,{center:e.place,expandToRadius:p,selected:l===o+n,index:o+n,level:e.level,hoverRow:r,onSelect:e.checked?i:a,hidePlaceSelectButtons:g},`${ex.zv(e.place)}-render`);if("place"===e.rowType){var v,f;return(0,K.Z)(nD,{selected:l===o+n,checked:e.checked,onSelect:e.checked?i:t,hoverRow:r,index:o+n,level:e.level,isMobile:s,placeEdge:e.place,setExpanded:c,firstIncludedShortName:u,searchType:d,hidePlaceSelectButtons:g,isResponsiveQuickSelectionEnabled:!0},null==e?void 0:null===(v=e.place)||void 0===v?void 0:null===(f=v.node)||void 0===f?void 0:f.id)}return null})]})}),nU=e=>{let{homeLocationPlace:n,yourLocationsSectionPlaces:l,firstIndex:a,selectedIndex:t,isMobile:i,hoverRow:r,handleSelect:o,setExpanded:s,hidePlaceSelectButtons:d}=e;return(0,K.Z)("div",{},void 0,w||(w=(0,K.Z)(eX.Z,{},void 0,(0,K.Z)(eJ.default,{size:"large"},void 0,(0,K.Z)(H.Z,{id:"search.form.your_locations"})))),n&&(0,K.Z)(ns,{index:a,selected:a===t,checked:!1,place:n,hoverRow:r,onSelect:o,isMobile:i,setExpanded:s,textValue:"",hidePlaceSelectButtons:d,isResponsiveQuickSelectionEnabled:!0},ex.zv(n)),l.length>0&&l.map((e,l)=>(0,K.Z)(ns,{index:a+l+(n?1:0),selected:a+l+(n?1:0)===t,checked:!1,place:e,hoverRow:r,onSelect:o,isMobile:i,setExpanded:s,level:0,textValue:"",hidePlaceSelectButtons:d,isResponsiveQuickSelectionEnabled:!0},ex.zv(e))))},nj=(0,V.memo)(e=>{let{showRecent:n,textValue:l,textValueLazy:a,placesResults:t,placesResults:{error:i,loading:r,searchType:o,disabledResult:s,basePlace:d},currentlyShownPlaces:c,setCurrentlyShownPlaces:u,alreadyIncludedPlaces:m,setAlreadyIncludedPlaces:p,direction:g,setExpanded:v,searchForm:f,index:h,toggleShowMoreSubPlaces:y,selectedIndex:b,untouchedAfterSelect:Z,setUntouchedAfterSelect:k,setSelectedIndex:C,clearInput:x,adjoiningFieldPlaces:S,showAllSubPlaces:T,hidePlaceSelectButtons:F,showSkeleton:P=!1,onSelectPlace:I,initialSearchFormOrigin:w,initialSearchFormDestination:E}=e,[N,_]=(0,V.useState)(!1),{recentSearches:A,loading:M}=(0,V.useContext)(ef.Z),L=(0,V.useRef)(null),O=(0,$.v9)(eR.ww),B=(0,$.v9)(eE.km),{hideModal:U}=(0,ew.h)("modifyItinerary"),j=(0,en.SK)(),Y=(0,$.v9)(e=>e.searchFormData.defaultOrigin),{isMobile:W,isDesktop:G}=(0,eS.Z)(),H=(0,$.I0)(),Q=(0,eA.Ib)(),q=(0,eI.cZ)(),J=(0,eM.a0)(),ee=(0,e_.F)(),{shouldAdjustForLowHeight:el}=(0,eZ.Z)(),ea=window.innerHeight-152,et="on"===(0,ev.useTest)("REMOVE_PLACEPICKER_FEATURES"),ei=o===eb.TERM?0:m.length,eo=(0,V.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.mode===ey.sU.ANYWHERE)u([e]),0===c.length&&p([e]);else{let n=eg()(e=>"anywhere"===ex.mh(e),c),l=(0,ek.pW)(e,{places:c}),a=em()(e=>"anywhere"!==ex.mh(e),l.places);u(a),(0===c.length||n)&&p(a)}if(I(),k(!0),!n)x()},[I,k,x,u,c,p]),ed=(0,V.useCallback)(e=>{j(X.Jt);let{searchForm:n,filtersState:l}=e,a=eh.XF.includes(B),t=eC.fQ(n).map(ex.Gd).filter(eL.v);H((0,eN.l)(t)),Q(),J(n,l,{leaveCurrentPage:a}),q(n),(0,eK.k3)(!1),W?(U(),ee(null)):v(!1)},[H,U,W,B,Q,ee,q,v,J,j]),eu=(0,V.useCallback)(e=>{let n=ec()(n=>{var l;return e.value||e.mode===ey.sU.ANYWHERE?ex.mh(n)===ex.mh(e):ex.mh(n)===(null==e?void 0:null===(l=e.node)||void 0===l?void 0:l.id)},c);n>=0&&u(D()(n,1,c),!0)},[u,c]),ep=(0,V.useCallback)(e=>{let n=ec()(n=>{var l;return e.value||e.mode===ey.sU.ANYWHERE?ex.mh(n)===ex.mh(e):ex.mh(n)===(null==e?void 0:null===(l=e.node)||void 0===l?void 0:l.id)},c);if(n>=0){let e=D()(n,1,c);u(e,!0),p(e,!0)}},[u,p,c]),eD=(0,V.useCallback)((e,n)=>{let l=e.node;l&&eo(ex.FB({mode:ey.sU.PLACE,value:l}),n)},[eo]),eB=(0,V.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,eP.Z)(e),t=ec()(n=>{var l,a;return n.mode===ey.sU.PLACE&&e.mode===ey.sU.PLACE&&(null==n?void 0:null===(l=n.value)||void 0===l?void 0:l.id)===(null==e?void 0:null===(a=e.value)||void 0===a?void 0:a.id)},c);if(t>=0){let e=(a?(0,ek.pW)(a,{places:[...D()(t,1,c)]}):{places:c}).places.filter(Boolean);u(e),p(e)}else{let e=(a?(0,ek.pW)(a,{places:c}):{places:c}).places.filter(Boolean);u(e),p(e)}(0,eF.up)(),n&&(x(),!l&&(!W&&k(!0),v(!1))),I()},[c,I,u,p,x,W,k,v]),eU=(0,V.useCallback)(e=>{C(e),_(!0),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>_(!1),500)},[C]),ej=N?null:C,eV=eC.iJ(f)===eC.xd.nomad&&"number"==typeof h&&h>1,e$=d?(0,eT.VQ)(d):"",eY=eC.iJ(f),eW=!!("origin"===g&&c.length===f.origin.places.length&&f.origin.places.length===(null==w?void 0:w.places.length)&&(ek.fS(f.origin,w)&&f.origin.places[0]&&m[0]&&ex.fS(f.origin.places[0],m[0])||Y.places.length===f.origin.places.length&&ek.fS(Y,f.origin))),eG=!!("destination"===g&&c.length===f.destination.places.length&&f.destination.places.length===(null==E?void 0:E.places.length)&&ek.fS(f.destination,E)&&f.destination.places[0]&&m[0]&&ex.fS(f.destination.places[0],m[0])),eH=(0,eO.Pq)(f)&&!es()(A)&&""===l&&(0===m.length||eW||eG);(0,V.useEffect)(()=>{eH&&j(X.YU)},[j,eH]);let eQ=(0,V.useMemo)(()=>eH?A.slice(0,3):[],[eH,A]),eJ=eQ.length,eX=!((0,eO.OE)(eY)&&1===h)&&!(0,eO.O8)(eY)&&!O.hideAnywhere&&!a&&0===c.length&&"destination"===g&&!P,e0=(0,$.v9)(e=>{let n=e.searchFormData.defaultOrigin,l=n.places[0];if(l)return"destination"===g?(0,ek.fS)(n,f.origin)?null:ex.Rh(!1,l):ex.Rh(!1,l);return null}),e1=(0,V.useMemo)(()=>{if(!n||et)return[];let e=A.map(e=>e.searchForm[g].places[0]).filter(e=>!!e&&(!e0||ex.zv(e)!==ex.zv(e0)));return er()(e=>ex.zv(e),e).slice(0,2)},[n,et,A,g,e0]),e9=(e0?1:0)+(e1.length||0),e2=!et&&!(0,eO.O8)(eY)&&!O.hideAnywhere&&!a&&0===c.length&&void 0===h&&!!e9&&!P,e4=eH&&G,e3=(0,V.useMemo)(()=>eq({placesResults:t,currentlyShownPlaces:c,searchForm:f,index:h,adjoiningFieldPlaces:S,showAllSubPlaces:T,brandPlacepickerOptions:O,shouldShowRecentSearchesOnDesktop:e4}),[t,c,f,h,S,T,O,e4]),e6=!!(!r&&!e3.length&&!ei&&!s)&&!i&&!!l,e5=eX?1:0,e8=(eX?1:0)+eJ,e7=(eX?1:0)+eJ+(e2?e9:ei),ne=e7+e3.length,nn=(0,V.useCallback)(e=>{if(eX&&0===e){eo(ex.zX(!1));return}if(eH&&e-e5<eJ){ed(eQ[e-e5]);return}if(e2&&e8<=e&&e7>e){e0&&e8===e?eo(e0):eo(e1[e-e8-(e0?1:0)]);return}if(e7<=e){let n=e3[e-e7];if(!n)return;"expandToRadius"===n.rowType?eB(n.place,1===n.level):"showMore"===n.rowType?y():n.checked?eu(n.place):"place"===n.rowType?eD(n.place,n.level>0):"addAnywhere"===n.rowType&&eo(n.place);return}eJ<=e&&ep(m[e-eJ])},[eX,eH,e5,eJ,e2,e8,e7,eJ,eo,ed,eQ,e0,e1,e3,eB,y,eu,eD,ep,m]);return i||e6?(0,K.Z)(nC,{hasError:i,shouldShowNoResults:e6}):(0,K.Z)("div",{className:(0,z.Z)(el&&"min-h-[200px] overflow-y-auto overflow-x-hidden"),style:{maxHeight:el?`${ea}px`:void 0}},void 0,!W&&(0,K.Z)(V.Suspense,{},void 0,(0,K.Z)(nb,{textValue:l,setExpanded:v,closeAfterEnterPressed:eV,selectedIndex:b,setSelectedIndex:eU,untouchedAfterSelect:Z,setUntouchedAfterSelect:k,isMobile:W,setActiveField:ee,selectPlaceByIndex:nn,placesLength:ne})),eX&&(0,K.Z)(np,{selectedIndex:b,onClick:eo,hoverRow:ej}),eH&&(0,K.Z)(V.Suspense,{},void 0,(0,K.Z)(nx,{recentSearchesSectionPlaces:eQ,loading:M,hoverRow:ej,selectedIndex:b,firstIndex:e5,handleSelectRecentSearch:ed})),e2&&(0,K.Z)(nU,{homeLocationPlace:e0,yourLocationsSectionPlaces:e1,firstIndex:e8,isMobile:W,selectedIndex:b,hoverRow:ej,setExpanded:v,handleSelect:eo,hidePlaceSelectButtons:F}),o===eb.TERM?s&&(0,K.Z)(ny,{place:s.place,parentPlace:s.includedWithinParent,textValue:l}):ei>0&&(0,K.Z)(nd,{alreadyIncludedPlaces:m,selectedIndex:b,hoverRow:ej,handleDeselect:ep,isMobile:W,firstIndex:eJ,setExpanded:v,hidePlaceSelectButtons:F}),e3.length>0&&(0,K.Z)(nB,{hidePlaceSelectButtons:F,searchType:o,placesToShow:e3,selectedIndex:b,handleSelect:eo,handleSelectUmbrellaPlace:eD,handleDeselect:eu,hoverRow:ej,firstIndex:e7,isMobile:W,setExpanded:v,firstIncludedShortName:e$,toggleShowMoreSubPlaces:y,expandToRadius:eB}),P&&0===e3.length&&(R||(R=(0,K.Z)(ez,{}))))}),nz=(0,V.memo)(e=>{let{showRecent:n,alreadyIncludedPlaces:l,textValue:a,placesResults:t,initialSearchFormOrigin:i,initialSearchFormDestination:r,...o}=e,[s,d]=(0,V.useState)(0),[c,u]=(0,V.useState)(!1),[m,p]=(0,V.useState)(!1),g=(0,V.useRef)(a),v=(0,V.useRef)(l);(0,V.useEffect)(()=>{(0===a.length||a!==g.current)&&l!==v.current&&d(0),!t.loading&&!t.subPlaces.length&&u(!1),g.current=a,v.current=v},[d,l,a,g,t]);let f=(0,V.useCallback)(()=>{u(!c)},[u,c]),{showSkeleton:h,results:y}=et(t,0===a.length);return(0,Q.jsx)(nj,{...o,alreadyIncludedPlaces:l,textValue:a,placesResults:y,showRecent:n,selectedIndex:s,setSelectedIndex:d,showAllSubPlaces:c,toggleShowMoreSubPlaces:f,untouchedAfterSelect:m,setUntouchedAfterSelect:p,showSkeleton:h,initialSearchFormOrigin:i,initialSearchFormDestination:r})});var nV=l("90146"),n$=l("51770");let nY=(e,n,l)=>{if("origin"===e&&(0,eO.OE)(l)&&1===n)return[ey.Ml.CITY];if(l===eC.xd.nomad)return(0,n$.Wv)(n);return[ey.Ml.AIRPORT,ey.Ml.COUNTRY,ey.Ml.CITY,ey.Ml.AUTONOMOUS_TERRITORY,ey.Ml.REGION,ey.Ml.CONTINENT,ey.Ml.TOURIST_REGION,ey.Ml.SUBDIVISION,..."origin"!==e||n?[ey.Ml.SPECIAL]:[]]},nW=(0,nV.P1)([e=>e.searchFormUI.active,e=>e.searchFormUI.activeIndex,(e,n)=>eC.iJ(n.searchForm)],(e,n,l)=>nY(e,n,l)),nG={[ey.Ml.CITY]:"CITY",[ey.Ml.SUBDIVISION]:"SUBDIVISION",[ey.Ml.AUTONOMOUS_TERRITORY]:"AUTONOMOUS_TERRITORY",[ey.Ml.COUNTRY]:"COUNTRY",[ey.Ml.AIRPORT]:"AIRPORT",[ey.Ml.REGION]:"REGION",[ey.Ml.CONTINENT]:"CONTINENT",[ey.Ml.SPECIAL]:"POINT_OF_INTEREST",[ey.Ml.TOURIST_REGION]:"TOURIST_REGION"};var nH=l("10685");let nQ=(0,nV.P1)([e=>e.searchFormUI.active,e=>e.searchFormUI.activeIndex,(e,n)=>eC.iJ(n.searchForm)],(e,n,l)=>"origin"===e&&!n||l===eC.xd.nomad&&0===n),nq=(0,nV.P1)([nH.P],e=>{var n,l,a;let t=null!==(n=null==e?void 0:e.places[0])&&void 0!==n?n:null;if(t)switch(null==t?void 0:t.mode){case ey.sU.PLACE:return t.value;case ey.sU.RADIUS:return null!==(l=null==t?void 0:null===(a=t.value)||void 0===a?void 0:a.closeCity)&&void 0!==l?l:null}return null}),nJ=e=>(0,ee.Hu)(e)?12:5;var nX=l("51659");l("40777");var n0=l("22578");let n1=e=>{let{spacing:n}=e,{formatMessage:l}=(0,nv.Z)(),a=(0,$.v9)(eR.Zv);return(0,K.Z)("div",{className:(0,z.Z)("flex-1",n&&"p-400 de:p-600 de:pe-0 ld:pe-600")},void 0,(0,K.Z)(nZ.default,{type:"critical",labelClose:l({id:"orbit.button_close"}),dataTest:"Alert"},void 0,E||(E=(0,K.Z)(H.Z,{id:"common.api_error"})),a&&(0,K.Z)("div",{className:"ms-auto shrink-0"},void 0,(0,K.Z)(nZ.AlertButton,{onClick:()=>location.reload()},void 0,N||(N=(0,K.Z)(H.Z,{id:"search.results.error.no_results.try_again"}))))))};var n9=l("54988");let n2=(e,n)=>{var l,a;return n.mode===ey.sU.PLACE&&(null==e?void 0:null===(l=e.node)||void 0===l?void 0:l.id)===(null==n?void 0:null===(a=n.value)||void 0===a?void 0:a.id)},n4=(e,n)=>{var l,a;return n.mode!==ey.sU.ANYWHERE&&(n.mode===ey.sU.RADIUS?!!(n.value.closeCity&&e1.lS(n.value.closeCity,[null==e?void 0:null===(l=e.node)||void 0===l?void 0:l.legacyId])):e1.lS(n.value,[null==e?void 0:null===(a=e.node)||void 0===a?void 0:a.legacyId]))},n3=e=>n=>{let{newPlaces:l,newSubPlaces:a,disabledResult:t,includedWithinParent:i}=n.places.reduce((l,a)=>{if(e.duplicatesOf.find(e=>n2(a,e)))return l.disabledResult?l:(n.subPlaces.find(e=>{var n;return(null===(n=e.node.city)||void 0===n?void 0:n.legacyId)===a.node.legacyId})&&(l.newSubPlaces=[]),{...l,disabledResult:a});let t=e.childrenOf.find(e=>e.mode!==ey.sU.ANYWHERE&&ex.bJ(a.node,e));return t?l.disabledResult?l:{...l,disabledResult:a,includedWithinParent:t}:e.parentsOf.find(e=>n4(a,e))?l:{...l,newPlaces:[...l.newPlaces,a]}},{newPlaces:[],newSubPlaces:n.subPlaces,disabledResult:null,includedWithinParent:null});return{...n,subPlaces:a,places:l,disabledResult:t?{place:t,includedWithinParent:i}:null}},n6=()=>{let e=(0,en.SK)();return(n,l)=>{e(X.m4,{query:l,error:n})}},n5=void 0!==_?_:_=l(33496),n8=(0,n9.Z)(e=>{var n,l;let{children:a,filterOut:t,variables:i,searchType:r,basePlace:o}=e,s=(0,$.v9)(nJ),d=(0,n0.useLazyLoadQuery)(n5,i),c=n6(),u=null===(n=d.places)||void 0===n?void 0:n.error;null!=u&&c(Error(u),i);let m=((null===(l=d.places)||void 0===l?void 0:l.edges)||[]).filter(eL.v),p=n3(t)({places:m,loading:!1,error:!!u,searchType:r,basePlace:o,subPlaces:[]});return a({...p,places:p.places.slice(0,s)})},(0,K.Z)(n1,{spacing:!0}),{sentryTagValue:"UmbrellaPlacesQuery"}),n7=e=>{let{currentFieldPlaces:n,adjoiningFieldPlaces:l,firstIncludedPlace:a,isFirstOrigin:t,allowedPlaceTypes:i,isRemoveIrrelevantPlacesTestOn:r,children:o}=e,s=(0,$.v9)(eR.BX),d=(0,$.v9)(eR.By),c=n6(),u=eb.ALTERNATIVES,m=(0,V.useMemo)(()=>(0,ex.rP)(a)?{filter:{onlyTypes:["CONTINENT"]},options:{locale:s}}:{search:{alternatives:{id:(0,ex.zv)(a)}},filter:{onlyTypes:i},options:{locale:s,position:{lat:Math.round(d.latitude),lng:Math.round(d.longitude)},...r&&{replaceUnnecessaryLocations:!0},...t?{sortBy:"RANK_DISTANCE_TERM"}:{}}},[i,a,d.latitude,d.longitude,t,r,s]),p=(0,V.useCallback)(e=>{c(e,m)},[c,m]);return(0,K.Z)(nX.Z,{onError:p},void 0,(0,K.Z)(V.Suspense,{fallback:o({loading:!0,places:[],subPlaces:[],searchType:u,error:!1})},void 0,(0,K.Z)(n8,{variables:m,searchType:u,filterOut:{duplicatesOf:n.concat(l),childrenOf:n.concat(l),parentsOf:n.concat(l)}},void 0,o)))},le=e=>{let{currentFieldPlaces:n,adjoiningFieldPlaces:l,firstIncluded:a,firstIncludedGeo:t,allowedPlaceTypes:i,isRemoveIrrelevantPlacesTestOn:r,children:o}=e,s=(0,$.v9)(eR.BX),d=n6(),c=eb.NEAR_FIRST,{lng:u,lat:m}=t,p=(0,V.useMemo)(()=>({search:{alternatives:{id:a.legacyId}},options:{locale:s,position:{lat:Number.parseFloat(m.toFixed(2)),lng:Number.parseFloat(u.toFixed(2))},...r&&{replaceUnnecessaryLocations:!0},sortBy:"RANK_DISTANCE"},filter:{onlyTypes:i}}),[i,a.legacyId,r,m,u,s]),g=(0,V.useCallback)(e=>{d(e,p)},[d,p]);return(0,K.Z)(nX.Z,{onError:g},void 0,(0,K.Z)(V.Suspense,{fallback:o({loading:!0,places:[],subPlaces:[],searchType:c,error:!1})},void 0,(0,K.Z)(n8,{variables:p,searchType:c,basePlace:a,filterOut:{duplicatesOf:n.concat(l),childrenOf:n.concat(l),parentsOf:n.concat(l)}},void 0,o)))},ln=e=>{let{currentFieldPlaces:n,adjoiningFieldPlaces:l,firstIncludedPlace:a,allowedPlaceTypes:t,isRemoveIrrelevantPlacesTestOn:i,children:r}=e,o=(0,$.v9)(eR.BX),s=n6(),d=eb.NEAR_FIRST,{lng:c,lat:u,radius:m}=a.value,p=Number.parseFloat(u.toFixed(2)),g=Number.parseFloat(c.toFixed(2)),v=(0,V.useMemo)(()=>({search:{alternatives:{radius:{position:{lat:p,lng:g},radius:m}}},options:{locale:o,position:{lat:p,lng:g},sortBy:"RANK",...i&&{replaceUnnecessaryLocations:!0}},filter:{onlyTypes:t}}),[t,i,p,g,o,m]),f=(0,V.useCallback)(e=>{s(e,v)},[s,v]);return(0,K.Z)(nX.Z,{onError:f},void 0,(0,K.Z)(V.Suspense,{fallback:r({loading:!0,places:[],subPlaces:[],searchType:d,error:!1})},void 0,(0,K.Z)(n8,{variables:v,searchType:d,basePlace:a.value.closeCity,filterOut:{duplicatesOf:n.concat(l),childrenOf:n.concat(l),parentsOf:n.concat(l)}},void 0,r)))},ll=["CITY","AIRPORT"],la=e=>{let{currentFieldPlaces:n,adjoiningFieldPlaces:l,allowedPlaceTypes:a,isRemoveIrrelevantPlacesTestOn:t,children:i}=e,r=(0,$.v9)(eR.By),o=(0,$.v9)(eR.BX),s=n6(),d=eb.NEAR_YOU,c=a?ll.filter(e=>a.includes(e)):ll,u=Math.round(r.latitude),m=Math.round(r.longitude),p=(0,V.useMemo)(()=>({search:{radius:{position:{lat:u,lng:m},radius:250}},options:{locale:o,position:{lat:u,lng:m},...t&&{replaceUnnecessaryLocations:!0},sortBy:"RANK_DISTANCE"},filter:{onlyTypes:c}}),[t,u,m,o,c]),g=(0,V.useCallback)(e=>{s(e,p)},[s,p]);return(0,K.Z)(nX.Z,{onError:g},void 0,(0,K.Z)(V.Suspense,{fallback:i({loading:!0,places:[],subPlaces:[],searchType:d,error:!1})},void 0,(0,K.Z)(n8,{variables:p,searchType:d,filterOut:{duplicatesOf:n.concat(l),childrenOf:n.concat(l),parentsOf:n.concat(l)}},void 0,i)))};var lt=l("72541"),li=l("1563"),lr=l("93435");let lo=()=>{let e=(0,en.SK)(),n=(0,V.useRef)(""),l=(0,V.useMemo)(()=>(0,lt.D)(1e3,(n,l)=>{l>0&&e(li.YB,{searchTerm:n,timeToLoad:l})}),[]);return(0,V.useCallback)(e=>{n.current!==e&&(l(e,(0,lr.$r)()),n.current=e)},[l])},ls=void 0!==A?A:A=l(657),ld=(0,n9.Z)(e=>{var n,l,a,t,i,r;let{children:o,filterOut:s,variables:d,searchType:c,basePlace:u}=e,m=(0,$.v9)(nJ),p=(0,n0.useLazyLoadQuery)(ls,d),g=n6(),v=null===(n=p.places)||void 0===n?void 0:n.error;null!=v&&g(Error(v),d);let f=null!==(l=null===(a=p.places)||void 0===a?void 0:null===(t=a.metadata)||void 0===t?void 0:null===(i=t.firstResultStations)||void 0===i?void 0:i.edges)&&void 0!==l?l:[],h=((null===(r=p.places)||void 0===r?void 0:r.edges)||[]).filter(eL.v),y=n3(s)({places:h,loading:!1,error:!!v,searchType:c,basePlace:u,subPlaces:f});return o({...y,places:y.places.slice(0,m)})},(0,K.Z)(n1,{spacing:!0}),{sentryTagValue:"UmbrellaPlacesTermQuery"}),lc=e=>{let{currentFieldPlaces:n,adjoiningFieldPlaces:l,textValue:a,isFirstOrigin:t,isSearchModeNomad:i,allowedPlaceTypes:r,isRemoveIrrelevantPlacesTestOn:o,children:s}=e,d=(0,$.v9)(eR.BX),c=(0,$.v9)(eR.By),u=n6(),m=lo(),p=eb.TERM,g=(0,V.useMemo)(()=>({search:{term:a},filter:{onlyTypes:r},options:{locale:d,stationsQueryOptimisation:!0,...t?{position:{lat:Math.round(c.latitude),lng:Math.round(c.longitude)},sortBy:"RANK_DISTANCE_TERM"}:{},...o&&{replaceUnnecessaryLocations:!0}}}),[r,c.latitude,c.longitude,t,o,d,a]),v=(0,V.useCallback)(e=>{u(e,g)},[u,g]);return(0,K.Z)(nX.Z,{onError:v},void 0,(0,K.Z)(V.Suspense,{fallback:s({loading:!0,places:[],subPlaces:[],searchType:p,error:!1})},void 0,(0,K.Z)(ld,{variables:g,filterOut:i?{duplicatesOf:n.concat(l),childrenOf:n.concat(l),parentsOf:l}:{duplicatesOf:n,childrenOf:n,parentsOf:[]},searchType:p},void 0,e=>(m(a),s(e)))))},lu=e=>e.searchFormData.originByGeo,lm=e=>{let{currentFieldPlaces:n,adjoiningFieldPlaces:l,allowedPlaceTypes:a,isRemoveIrrelevantPlacesTestOn:t,children:i}=e,r=(0,$.v9)(eR.BX),o=(0,$.v9)(lu),s=(0,$.v9)(nq),d=n6(),c=eb.TRENDING,u=(0,V.useMemo)(()=>{var e;return{search:{topDestinations:{id:null!==(e=null==s?void 0:s.legacyId)&&void 0!==e?e:null==o?void 0:o.legacyId}},options:{locale:r,...t&&{replaceUnnecessaryLocations:!0}},filter:{onlyTypes:a}}},[a,null==s?void 0:s.legacyId,t,r,null==o?void 0:o.legacyId]),m=(0,V.useCallback)(e=>{d(e,u)},[d,u]);return(0,K.Z)(nX.Z,{onError:m},void 0,(0,K.Z)(V.Suspense,{fallback:i({loading:!0,places:[],subPlaces:[],searchType:c,error:!1})},void 0,(0,K.Z)(n8,{variables:u,searchType:c,filterOut:{duplicatesOf:n.concat(l),childrenOf:n.concat(l),parentsOf:n.concat(l)}},void 0,i)))},lp=e=>{let{textValue:n,children:l,currentFieldPlaces:a,searchForm:t,adjoiningFieldPlaces:i}=e,r="on"===(0,ev.useTest)("REMOVE_PLACEPICKER_FEATURES"),o="on"===(0,ev.useTest)("REMOVE_IRRELEVANT_PLACES"),s=(0,$.v9)(e=>nW(e,{searchForm:t})),d=(0,$.v9)(e=>nQ(e,{searchForm:t})),c=(0,V.useMemo)(()=>s.map(e=>nG[e]),[s]),u=a.length>0?a[0]:null,m=u&&(0,ex.Gd)(u),p=u&&(0,ex.Vp)(u),g=!r&&null!=u&&(0,ex.V4)(u),v=!r&&null!=u&&(0,ex.K3)(u),f=!r&&null!=m&&null!=p,h=!r&&d;return n?(0,K.Z)(lc,{currentFieldPlaces:a,adjoiningFieldPlaces:i,textValue:n,isFirstOrigin:d,isSearchModeNomad:eC.iJ(t)===eC.xd.nomad,allowedPlaceTypes:c,isRemoveIrrelevantPlacesTestOn:o},void 0,l):g?(0,K.Z)(n7,{currentFieldPlaces:a,adjoiningFieldPlaces:i,firstIncludedPlace:u,isFirstOrigin:d,allowedPlaceTypes:c,isRemoveIrrelevantPlacesTestOn:o},void 0,l):v?(0,K.Z)(ln,{currentFieldPlaces:a,adjoiningFieldPlaces:i,firstIncludedPlace:u,allowedPlaceTypes:c,isRemoveIrrelevantPlacesTestOn:o},void 0,l):f?(0,K.Z)(le,{currentFieldPlaces:a,adjoiningFieldPlaces:i,firstIncluded:m,firstIncludedGeo:p,allowedPlaceTypes:c,isRemoveIrrelevantPlacesTestOn:o},void 0,l):h?(0,K.Z)(la,{currentFieldPlaces:a,adjoiningFieldPlaces:i,allowedPlaceTypes:c,isRemoveIrrelevantPlacesTestOn:o},void 0,l):r?l({loading:!1,places:[],subPlaces:[],searchType:"none",error:!1}):(0,K.Z)(lm,{currentFieldPlaces:a,adjoiningFieldPlaces:i,allowedPlaceTypes:c,isRemoveIrrelevantPlacesTestOn:o},void 0,l)},lg=(0,V.memo)(e=>{let{textValue:n,currentlyShownPlaces:l,setCurrentlyShownPlaces:a,alreadyIncludedPlaces:t,setAlreadyIncludedPlaces:i,adjoiningFieldPlaces:r=[],direction:o,index:s,setExpanded:d,clearInput:c,showRecent:u,searchForm:m,isMobile:p,limitWarningShown:g,hidePlaceLimitWarning:v,footer:f,animationState:h,hidePlaceSelectButtons:y,onSelectPlace:b=el.Z,onMount:Z=el.Z,initialSearchFormOrigin:k,initialSearchFormDestination:C,initialPlacePickerClickTimestamp:x,placePickerRenderedTimestamp:S,setPlacePickerRenderedTimestamp:T,isModifyModal:F}=e,P=(0,$.v9)(ee.P1),I=n.trim(),w=(0,V.useRef)(I),R=(0,en.SK)();return(0,V.useEffect)(()=>{if(Z(),!F&&p&&window.history.pushState({isPlacePicker:!0},"","#placepicker"),null!==x&&null===S){var e,n,l,a;let t=Date.now();T(t),R(X.xw,{renderingTime:t-x,deviceMemory:null!==(e=navigator.deviceMemory)&&void 0!==e?e:"N/A",connectionType:null!==(n=null===(l=navigator.connection)||void 0===l?void 0:l.effectiveType)&&void 0!==n?n:"N/A",hardwareConcurrency:null!==(a=navigator.hardwareConcurrency)&&void 0!==a?a:"N/A",userAgent:navigator.userAgent})}},[]),(0,V.useEffect)(()=>{if(P){let e=document.querySelector("html");e&&(e.style.height="100vh")}return()=>{if(P){let e=document.querySelector("html");e&&(e.style.height="100%")}}},[P]),(0,K.Z)("div",{className:"tb:pt-[68px]"},void 0,(0,K.Z)(q,{shouldFreezeContent:!!("exiting"===h||"exited"===h),flex:!1},void 0,(0,Q.jsxs)(Q.Fragment,{children:[p&&g&&(0,K.Z)(V.Suspense,{},void 0,(0,K.Z)(J.Z,{onClose:v,isMobile:p},void 0,M||(M=(0,K.Z)(H.Z,{id:"search.place_limit_warning"})))),(0,K.Z)(lp,{currentFieldPlaces:t,textValue:I,adjoiningFieldPlaces:r,searchForm:m},void 0,e=>(!e.loading&&(w.current=I),(0,K.Z)(nz,{placesResults:e,currentlyShownPlaces:l,setCurrentlyShownPlaces:a,alreadyIncludedPlaces:t,setAlreadyIncludedPlaces:i,textValue:I,textValueLazy:w.current,direction:o,index:s,setExpanded:d,clearInput:c,searchForm:m,adjoiningFieldPlaces:r,showRecent:u,hidePlaceSelectButtons:y,onSelectPlace:b,initialSearchFormOrigin:k,initialSearchFormDestination:C}))),!p&&f]})))});var lv=l("49825"),lf=l("12898"),lh=l("70663"),ly=l("60314"),lb=l("67238"),lZ=l("33536"),lk=l("16690"),lC=l("79021"),lx=l("20687"),lS=l("46176"),lT=l("45186"),lF=l("89613"),lP=l("66854"),lI=l("24031");let lw=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},{body:l}=document;if(!l)return;let a=document.createElement("input");a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.opacity="0",a.style.pointerEvents="none",l.appendChild(a),a.focus(),setTimeout(()=>{e.focus(),e.click(),l.removeChild(a),n()})};var lR=l("84708"),lE=l("55688"),lN=l("48778"),l_=l("6767"),lA=l.n(l_),lM=l("61438");let lL=function(e){let n=["raiffeisenbankinternational"];return l=>{let a=(0,lE.useBrand)(),t=lA()(a.theme.palette.productNormal).rgb().toString()===l.color,i=n.includes(a.id);return(0,Q.jsx)(e,{...l,hasLightBg:t&&i})}}(e=>{let{index:n,onClick:l,onCloseClick:a,isMobile:t,place:i,isDefault:r=!1,branding:o,hasLightBg:s,color:d,selected:c,isActive:u,isMulticity:m}=e,[p,g]=(0,V.useState)(!1),[v,f]=(0,V.useState)(!1),{getPlacesTextAndTitle:h}=(0,eT.Od)(),y=(0,V.useCallback)(e=>{l(e,n)},[n,l]),b=(0,V.useCallback)(e=>{e.stopPropagation(),a(e,n)},[n,a]),Z=(0,V.useCallback)(()=>{!t&&g(!0)},[t]),k=(0,V.useCallback)(()=>{g(!1),f(!1)},[]),C=(0,V.useCallback)(()=>{f(!0)},[]),x=(0,V.useCallback)(()=>{f(!1)},[]),S={},T=(!r||u)&&c,{placesText:F,placesTitle:P}=h(i,T,m);return r&&!u?(S.backgroundColor=o.theme.colors["grey-100"],S.color="#79818a",p&&(S.backgroundColor="#CAD2DC",S.color="#30363d",v&&(S.backgroundColor="#ABB2BA",S.color="#30363d"))):c?(S.backgroundColor=(0,lM.ji)(d,"dark").rgb().toString(),v&&(S.backgroundColor=(0,lM.ji)(d,"darker").rgb().toString())):p?(S.backgroundColor=(0,lM.ji)(d,"dark").rgb().toString(),v&&(S.backgroundColor=(0,lM.ji)(d,"darker").rgb().toString())):S.backgroundColor=d,(0,K.Z)("div",{"data-test":`PlacePickerInputPlace${T?"-active":""}`,onClick:y,onMouseOver:Z,onMouseOut:k,onMouseDown:C,onMouseUp:x,style:S,title:P,role:"presentation",className:(0,z.Z)("relative ms-100 inline-block h-[32px] rounded-150 pe-800 ps-200 font-bold leading-[32px]",s?"text-button-secondary-foreground":"text-button-primary-foreground")},ex.zv(i),F,(0,K.Z)("div",{className:"group absolute top-0 flex h-full w-[28px] items-center justify-center safe-end-0","data-test":"PlacePickerInputPlace-close",onClick:b,role:"presentation"},void 0,L||(L=(0,K.Z)(lN.default,{className:"opacity-60 group-hover:opacity-100",size:"small"}))))}),lK=e=>{let{blurred:n,color:l,currentlyShownPlaces:a,direction:t,index:i,input:r,isFocused:o,isOWRTDestinationField:s=!1,picker:d,selectedPlace:c,textValue:u,handleClick:m,handleDeletePlace:p,handleChangeText:g,handleKeyDown:v,onFocus:f,id:h}=e,{isSmallOrMediumMobile:y}=(0,eS.Z)(),{formatMessage:b}=(0,nv.Z)(),Z=(0,V.useRef)(null),k=(0,$.v9)(lI.D6),C=(0,eC.iJ)(k)===eC.xd.multicity,x=(0,eC.iJ)(k)===eC.xd.nomad,S=(0,$.v9)(eR.XT),T=(0,$.v9)(ee.Hu),F=(0,V.useCallback)(()=>{setTimeout(()=>{if(!!r.current&&!!Z.current)r.current.style.width=0===a.length?"":`${Z.current.clientWidth+50}px`},100)},[a.length,r]),P=(0,V.useCallback)(()=>{let e=(0,eK.wy)();if(r.current&&r.current!==document.activeElement){if(T){let n=e.scrollTop;lw(r.current,()=>{e.scrollTop=n})}else r.current.focus()}},[r,T]),I=(0,V.useCallback)(()=>{if(r.current&&Z.current){if(F(),!n&&o){if(-1===c)P();else{let e=(0,lR.U)(["parentElement","parentElement"],r.current),n=e.scrollLeft;P(),e.scrollLeft=n}}else r.current===document.activeElement&&r.current.blur()}},[n,P,r,o,c,F]);(0,V.useEffect)(()=>{r.current&&Z.current&&F()}),(0,V.useEffect)(()=>{o&&I()},[o,I]);let w=(0,V.useCallback)((e,n)=>{m(e,n)},[m]),R=(0,V.useCallback)(()=>{-1!==c&&r.current&&setTimeout(()=>{var e;null===(e=r.current)||void 0===e||e.setSelectionRange(0,0)},0),f()},[r,f,c]),E=(0,V.useCallback)(e=>{r.current&&r.current!==document.activeElement&&r.current.focus(),R(),o&&m(e,-1)},[m,R,r,o]),N=(0,V.useCallback)((e,n)=>{p(n)},[p]),_=()=>0===a.length&&0===u.length,A=()=>{if(_()){if(y&&!o)return"origin"===t?b({id:"search.form.placepicker.from"}):x?b({id:"search.form.nomad.placepicker.placeholder"}):b({id:"search.form.placepicker.to"});return x?b({id:"search.form.nomad.placepicker.placeholder"}):b({id:"search.form.placepicker.placeholder"})}if(a.length<2&&!(0,ek.rP)({places:a})&&s)return b({id:"search.form.add_more"})};return(0,Q.jsxs)("div",{"data-test":`PlacePickerInput-${t}${U()(i)?"":`-${i||0}`}`,className:(0,z.Z)("absolute overflow-hidden whitespace-nowrap",0===a.length&&"w-full"),ref:d,children:[a.map((e,n)=>(0,K.Z)(lL,{onClick:w,onCloseClick:N,place:e,index:n,isDefault:!1,branding:S,color:l,selected:c===n,isActive:o,isMulticity:C,isMobile:T},ex.zv(e))),(0,Q.jsx)(lP.Z,{"data-test":"SearchField-input",onClick:E,onChange:g,onFocus:R,onKeyDown:v,ref:r,value:u,placeholder:A(),maxLength:120,id:h},-1),(0,Q.jsx)("div",{ref:Z,className:"invisible absolute h-auto w-auto",children:u||A()})]})},lO=e=>{let{blurred:n,color:l,currentlyShownPlaces:a,direction:t,index:i,initScroll:r,isFocused:o,isOWRTDestinationField:s,languageDirection:d,selectedPlace:c,textValue:u,handleDeletePlace:m,handleFocus:p,handleChangeText:g,handleKeyDown:v,onClick:f,id:h}=e,y=(0,V.useRef)(null),b=(0,V.useRef)(null),Z=(0,V.useRef)(null),k=(0,V.useRef)(null),[C,x]=(0,V.useState)("rtl"===d?999:0),S=a.length?C:0,T=(0,V.useCallback)(()=>{if(-1===c){let e="rtl"===d&&Z.current?-Z.current.getBoundingClientRect().width:y.current?y.current.scrollWidth-y.current.clientWidth:0;setTimeout(()=>{x(e)},100)}else if(c>-1&&a.length>0){let l=y.current;if(null!=l&&l.querySelector){let a=l.querySelector("[data-test='PlacePickerInputPlace-active']");if(null!=a){var e,n;let{offsetLeft:l}=a,t=null===(e=y.current)||void 0===e?void 0:e.scrollLeft;if(null!=t&&l<t){x(l);return}let i=a.offsetWidth,r=null===(n=y.current)||void 0===n?void 0:n.offsetWidth;null!=t&&null!=r&&l+i>t+r&&x(l=l+i-r)}}}},[a.length,d,c]);(0,V.useEffect)(()=>{null!=r&&setTimeout(T,0)},[T,r]),(0,V.useEffect)(()=>{o&&T()},[T,o]),(0,V.useEffect)(()=>{!o&&T()},[T,o]),(0,V.useEffect)(()=>{!o&&x("rtl"===d&&Z.current?Z.current.getBoundingClientRect().width:0)},[o,d]);let F=(0,V.useCallback)(e=>{b.current&&b.current.focus(),f(e,-1)},[f]),P=(0,V.useCallback)(e=>{let n=e.nativeEvent;null!==k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{n.target instanceof Element&&x(n.target.scrollLeft)},200)},[]);return null!==k.current&&clearTimeout(k.current),(0,V.useEffect)(()=>{y.current&&(y.current.scrollLeft=S)},[S]),(0,Q.jsx)(lF.Z,{ref:y,onScroll:P,onClick:F,children:(0,K.Z)(lK,{input:b,handleDeletePlace:m,handleClick:F,onFocus:p,handleChangeText:g,textValue:u,color:l,selectedPlace:c,handleKeyDown:v,picker:Z,blurred:!!n,isFocused:o,currentlyShownPlaces:a,direction:t,index:i,isOWRTDestinationField:s,id:h})})},lD={transition:"opacity 250ms, transform 250ms",transitionTimingFunction:"cubic-bezier(0.8, 0, 0.5, 1)",transformOrigin:"32px 32px 0",opacity:0},lB={entering:{opacity:1,transform:"scale3d(1, 1, 1)",transitionTimingFunction:"cubic-bezier(0.8, 0, 0.5, 1)"},entered:{opacity:1},exiting:{opacity:.001,transform:"scale3d(0.8, 0.8, 1)",transitionTimingFunction:"cubic-bezier(0.5, 0, 0.25, 1)"},exited:{opacity:0,transform:"scale3d(0.8, 0.8, 1)"}},lU={exiting:{zIndex:100}},lj=e=>{let[n,l]=(0,V.useState)(-1),a=(0,V.useCallback)(()=>l(-1),[l]),t=(0,V.useCallback)(a=>{"left"===a?l(-1===n?e-1:Math.max(n-1,0)):"right"===a&&l(n<e-1?n+1:-1)},[n,e,l]);return{selectedPlaceIndex:n,unselectPlace:a,selectPlace:l,handleKeyboardPlaceSelection:t}},lz=(e,n,l)=>{let[a,t]=(0,V.useState)(""),[i,r]=(0,V.useState)(""),o=(0,V.useMemo)(()=>(0,lt.D)(100,e=>{r(e),(0,lr.vL)()}),[]),s=(0,V.useCallback)(a=>{let{value:i}=a.target;i.length&&n&&!l&&e(),t(i),o(i)},[n,l,e,t,o]);return{textValue:a,textDebounced:i,clearInput:(0,V.useCallback)(()=>{t(""),r("")},[]),handleChangeText:s}},lV=["Up","Down","ArrowUp","ArrowDown","Enter"],l$=["ArrowLeft","ArrowRight","Backspace","Delete"],lY=(0,V.memo)(e=>{var n,l;let{label:a,id:t,field:i,icon:r,index:o,searchForm:s,setSearchFormAndFiltersState:d,adjoiningFieldPlaces:c,color:u,suppressError:m=!1,fullWidthPicker:p=!1,multicity:g=!1,nomadLP:v,footer:f,expandOnMount:h=!1,hideInputField:y=!1,hidePlaceSelectButtons:b=!1,initialSearchFormOrigin:Z,initialSearchFormDestination:k,hideAlreadyIncluded:C=!1,isOWRTDestinationField:x=!1,isModifyModalField:S=!1}=e,T=(0,$.I0)(),F=(0,en.SK)(),P=(0,V.useMemo)(()=>(0,eC._7)(i,s,o),[i,s,o]),[I,w]=(0,V.useState)(!1),[R,E]=(0,V.useState)(P.places),[N,_]=(0,V.useState)(P.places),[A,M]=(0,V.useState)(P.places),[L,O]=(0,V.useState)(!1),[B,H]=(0,V.useState)(null),[q,J]=(0,V.useState)(null),ee=(0,$.v9)(e=>(0,lx.fK)(e).direction),{isMobile:el}=(0,eS.Z)(),{placeLimitWarningShown:ea,expanded:et,active:ei,activeIndex:er}=(0,$.v9)(e=>e.searchFormUI),eo=(0,$.v9)(eE.km),es=(0,$.v9)(lC.Q),ed=(0,V.useCallback)(e=>T((0,eN.l)(e)),[T]),ec=(0,lZ.Z)(),{shouldAdjustForLowHeight:eu}=(0,eZ.Z)(),em=(0,lk.Z)(),ep=(0,V.useRef)(null),eg=(0,V.useRef)(null),ev=ei===i&&(U()(o)&&U()(er)||er===o),ef=ev&&et,ey=null!=o&&(o>0||"origin"===i),eb=(0,eC.iJ)(s)===lb.xd.oneWay,eT=(0,eC.iJ)(s)===lb.xd.return,eF=eo===eh.Hf.RESULTS_PAGE,eP=eo===eh.Hf.NOMAD,ew=(0,V.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(0,lS.Z)({places:e})||n?_(e):T((0,nm.cT)())},[T,_]),eR=(0,V.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(0,lS.Z)({places:e})||n?E(e):T((0,nm.cT)())},[T,E]),e_=(0,V.useCallback)(()=>{el&&O(!1),T((0,nm.YT)(!0)),null===B&&H(Date.now())},[el,T,B]),{textValue:eM,textDebounced:eO,clearInput:eD,handleChangeText:eB}=lz(e_,ev,ef),{selectedPlaceIndex:eU,unselectPlace:ej,selectPlace:ez,handleKeyboardPlaceSelection:eV}=lj(N.length),e$=(0,V.useCallback)(()=>{el&&(I&&w(!1),L&&O(!1)),!ev&&(T((0,nm.el)(i,o,void 0,s)),!ef&&e_())},[el,ev,L,I,T,i,o,s,ef,e_]),eY=(0,V.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ed(e.map(ex.Gd).filter(eL.v));let l=(0,eC.Rm)({places:e},i,s,o);if(!(0,eC.fS)(s,l)){let a=em&&!S&&!(0,eC.KF)(l);if(eP&&(!l.nomad[0].destination.places.length&&!e.length&&(l.nomad[1].destination.places=[]),!ek.fS(l.nomad[0].destination,s.nomad[0].destination)&&(l.nomad[1].destination.places=e)),d(l,a?es:null),n&&!(0,eC.KF)(l)){let e=(0,eC.Cd)(s)&&(0,eC.Cd)(l),n=!(0,eC.Cd)(s)&&!(0,eC.Cd)(l);T((0,eA.Q1)()),T((0,eI.Fv)((0,eC._i)(l),l)),(0,eK.k3)(e||n)}}},[ed,i,s,o,S,em,d,es,T]),eW=(0,V.useCallback)(()=>{ej(),T((0,nm.el)(null)),ef&&T((0,nm.YT)(!1))},[ef,T,ej]),eG=(0,V.useCallback)(e=>{!ev&&1===N.length&&e$();let n=D()(e,1,N);ew(n),eR(n),!ef&&eY(n,ec)},[eY,N,ef,ev,e$,ew,eR,ec]),eH=(0,V.useCallback)((e,n)=>{!ef&&e_(),ev?eU!==n?ez(n):ez(-1):(T((0,nm.el)(i,o||0,n,s)),ez(n))},[ef,ev,o,T,s,ez,i,e_,eU]),eQ=(0,V.useRef)(ef),eq=(0,V.useRef)(ev);(0,V.useEffect)(()=>(h&&T((0,nm.YT)(!0)),()=>{T((0,nm.YT)(!1))}),[T]),(0,V.useEffect)(()=>{el&&et&&L&&O(!1)},[et,L,el]),(0,V.useEffect)(()=>{eM.length&&eR(N)},[eM,N,eR]),(0,V.useEffect)(()=>{(!el||b)&&eQ.current&&!ef&&eY(N,ec)},[eY,N,ef,el,b,ec]),(0,V.useEffect)(()=>{ew(P.places),eR(P.places)},[ew,eR,P.places]),(0,V.useEffect)(()=>{(eU>=N.length||eQ.current&&!ef&&eU>=0)&&ez(-1)},[ef,ez,N,eU,eM]),(0,V.useEffect)(()=>{el&&ev&&!eq.current&&M(N),el&&!ev&&eq.current&&(ew(P.places),!L&&eY(N))},[el,N,ev,P,L,ew,eY]),(0,V.useEffect)(()=>{eQ.current=ef,eq.current=ev});let eJ=(0,V.useCallback)(()=>{F(X.x2,{type:i},null,{searchForm:s})},[i,s,F]),eX=(0,V.useCallback)(()=>{F(X.ai,{type:i},null,{searchForm:s})},[F,i,s]),e0=(0,V.useCallback)(e=>{-1===e||e>=N.length?ez(N.length-1):(1===N.length&&e_(),eG(e))},[eG,e_,ez,N]),e1=(0,V.useCallback)(e=>{let{key:n}=e;if(e.target instanceof HTMLInputElement){if(lV.includes(n))e.preventDefault();else if(l$.includes(n)){if(!(e.target instanceof HTMLInputElement)||e.target.selectionStart!==e.target.selectionEnd)return;if(0===e.target.selectionStart)switch(e.preventDefault(),ev&&!ef&&(0,nm.YT)(!0),n){case"ArrowLeft":eV("left");break;case"ArrowRight":eV("right");break;case"Backspace":case"Delete":e0(eU)}}}},[eV,ev,ef,eU,e0]),e9=(0,V.useCallback)(()=>{O(!0),eW(),eR(A),eY(A),!S&&el&&window.history.back()},[eW,eR,A,eY,el]),e2=(0,V.useCallback)(()=>{eY(N),eW()},[N,eY,eW]),e4=(0,V.useCallback)(()=>{F(X.aO,{type:"clickOut"},null,{searchForm:s}),eW()},[F,eW,s]),e3=(0,V.useCallback)(()=>{!I&&w(!0)},[I,w]);(0,V.useEffect)(()=>()=>{eW()},[]);let e6=((0,ek.s5)(P)||(0,ek.xb)(P))&&!ey,e5=(0,V.useCallback)(e=>(0,K.Z)(j.default,{onClose:eW},void 0,(0,K.Z)(lg,{currentlyShownPlaces:N,setCurrentlyShownPlaces:ew,alreadyIncludedPlaces:C?[]:R,setAlreadyIncludedPlaces:eR,textValue:eO,adjoiningFieldPlaces:c,direction:i,index:o,setExpanded:eW,clearInput:eD,searchForm:s,showRecent:e6,isMobile:el,limitWarningShown:ea,hidePlaceLimitWarning:()=>T((0,nm.QE)()),footer:f,animationState:e,hidePlaceSelectButtons:b,onSelectPlace:eX,onMount:eJ,initialSearchFormOrigin:Z,initialSearchFormDestination:k,initialPlacePickerClickTimestamp:B,placePickerRenderedTimestamp:q,setPlacePickerRenderedTimestamp:J,isModifyModal:S})),[eW,N,ew,C,R,eR,eO,c,i,o,eD,s,e6,el,ea,f,b,eX,eJ,Z,k,B,q,T]),e8=(0,V.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Q.jsx)(ly.Z,{active:ef,nomadLP:v,"data-test":`SearchPlaceField-${i}${U()(o)?"":`-${o||0}`}`,style:e,onClick:e$,ref:eg,isOneway:eb,isReturn:eT,isResultsPage:eo===eh.Hf.RESULTS_PAGE,children:(0,K.Z)(lf.Z,{active:ef,empty:!m&&N.length<=0,isMobile:el,"data-test":`SearchFieldItem-${i}${U()(o)?"":`-${o||0}`}`},void 0,(0,K.Z)(lh.Z,{htmlFor:t},void 0,(0,K.Z)("span",{className:"lm:hidden"},void 0,null!=r?r:a),n||(n=(0,K.Z)("span",{className:"hidden lm:block"},void 0,a))),(!el||!ev)&&(l||(l=(0,K.Z)(lO,{textValue:eM,selectedPlace:eU,handleDeletePlace:eG,onClick:eH,handleFocus:e$,handleChangeText:eB,handleKeyDown:e1,isFocused:ev,currentlyShownPlaces:N,languageDirection:ee,direction:i,index:o,color:u,isOWRTDestinationField:x,id:t}))))})},[ef,v,i,o,e$,eb,eT,eo,m,N,el,t,r,a,ev,eM,eU,eG,eH,eB,e1,ee,u,x]);if(el){let e=(0,K.Z)("div",{className:"flex flex-1 items-center"},void 0,(0,K.Z)("label",{className:"me-100 whitespace-nowrap text-large"},void 0,a),(0,K.Z)("div",{className:"h-form-box-normal w-full overflow-hidden"},void 0,(0,K.Z)(lO,{textValue:eM,selectedPlace:eU,handleDeletePlace:eG,onClick:eH,handleFocus:e$,handleChangeText:eB,handleKeyDown:e1,isFocused:ev,currentlyShownPlaces:N,languageDirection:ee,direction:i,index:o,color:u,blurred:I,initScroll:!0,isOWRTDestinationField:x,id:t})));return y?ev?(0,K.Z)(G.Z,{inputField:e,showDone:N.length>0,showCancel:!0,onDone:e2,onCancel:e9,handleTouch:e3},void 0,e5()):null:(0,K.Z)(lv.Z,{},void 0,e8(),ev&&(0,K.Z)(G.Z,{inputField:e,showDone:N.length>0,showCancel:!0,onDone:e2,onCancel:e9,handleTouch:e3},void 0,e5()))}return(0,K.Z)(lT.Z,{input:eg.current,shouldAdjustPosition:ef,isActive:!0,placePicker:!0,shouldAdjustForLowHeight:eu},void 0,(0,K.Z)(lv.Z,{},void 0,(0,K.Z)(W.Z,{active:ef,clickOut:e4},void 0,(0,K.Z)(Y.ZP,{nodeRef:eg,in:ef,timeout:250},void 0,e=>e8(lU[e])),ef&&(0,K.Z)(Y.ZP,{nodeRef:ep,in:ef,timeout:250,appear:!0,unmountOnExit:!0},void 0,e=>(0,Q.jsx)("div",{className:(0,z.Z)("absolute z-[101] rounded-100 bg-white-normal shadow-level3",p&&"w-[calc(100%+theme(spacing.300)*2)]",!p&&"w-auto","-left-300 -right-300 -top-300",!g&&"viasModal"!==v&&!eb&&(!eF||eT)&&v&&"ld:w-[486px]",!g&&"viasModal"!==v&&!eb&&(!eF||eT)&&!v&&"ld:w-[374px]"),"data-test":`PlacepickerModalOpened-${i}`,ref:ep,style:{...lD,...lB[e]},children:e5(e)})))))})},94687:function(e,n,l){l.d(n,{Z:function(){return o}});var a=l(858),t=l(67294),i=l(85893);class r extends t.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"cancel",null),(0,a.Z)(this,"node",null),(0,a.Z)(this,"scroll",()=>{let{node:e}=this;if(!!e)e.scrollIntoView({block:"nearest",inline:"nearest"})}),(0,a.Z)(this,"finish",()=>{this.cancel&&(this.cancel(),this.cancel=null)}),(0,a.Z)(this,"addNodeRef",e=>{this.node=e})}componentDidMount(){let{active:e}=this.props;e&&this.scroll()}componentDidUpdate(e){let{active:n}=this.props;n&&!e.active?this.scroll():!n&&e.active&&this.finish()}render(){let{children:e}=this.props;return(0,i.jsx)("div",{ref:this.addNodeRef,children:e})}}let o=r},49825:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(67294),t=l(85893);let i=(0,a.forwardRef)((e,n)=>{let{children:l,...a}=e;return(0,t.jsx)("div",{...a,className:"search-field relative h-form-box-normal w-full font-normal",ref:n,children:l})})},66854:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(67294),t=l(85893);let i=(0,a.forwardRef)((e,n)=>(0,t.jsx)("input",{autoCorrect:"off",spellCheck:!1,autoComplete:"off",ref:n,...e,className:"h-form-box-normal w-full cursor-text whitespace-nowrap border-0 bg-transparent px-200 font-medium transition-colors duration-[500ms] ease-out placeholder:text-form-element-label-filled-foreground focus:outline-none"}))},89613:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(67294),t=l(85893);let i=(0,a.forwardRef)((e,n)=>{let{children:l,...a}=e;return(0,t.jsx)("div",{...a,ref:n,className:"relative m-0 me-50 h-[89px] flex-1 overflow-x-auto overflow-y-hidden scroll-smooth leading-form-box-normal",children:l})})},12898:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(1410),t=l(85893);let i=e=>{let{children:n,active:l,empty:i,isMobile:r,...o}=e;return(0,t.jsx)("div",{...o,className:(0,a.Z)("flex min-w-0 flex-1 cursor-pointer select-none rounded-150 shadow-[0_0_0_1px_inset] shadow-cloud-dark transition-all duration-fast ease-in-out lm:rounded-100",l&&!r&&"shadow-[0_0_0_2px_inset] !shadow-blue-normal",(!l||r)&&i&&"shadow-[0_0_0_1px_inset] !shadow-red-normal"),children:n})}},70663:function(e,n,l){l.d(n,{Z:function(){return t}});var a=l(85893);let t=e=>{let{children:n,...l}=e;return(0,a.jsx)("label",{...l,className:"my-0 me-100 ms-300 cursor-pointer leading-form-box-normal text-secondary-foreground [&_svg]:text-ink-dark",children:n})}},60314:function(e,n,l){l.d(n,{Z:function(){return r}});var a=l(1410),t=l(67294),i=l(85893);let r=(0,t.forwardRef)((e,n)=>{let{active:l,children:t,isOneway:r,isResultsPage:o,isReturn:s,nomadLP:d,...c}=e;return(0,i.jsx)("div",{...c,ref:n,className:(0,a.Z)("search-field-wrapper relative flex h-form-box-normal select-none overflow-hidden rounded-100 bg-form-element-background transition-all duration-fast ease-in-out",l&&"z-[102] w-auto",l&&"viasModal"!==d&&!r&&(!o||s)&&`${d?"ld:w-[calc(486px-2*12px)]":"ld:w-[calc(374px-2*12px)]"}`),children:t})})},58926:function(e,n,l){l.d(n,{Z:function(){return a}});let a=(0,l(67294).lazy)(()=>l.e("4722").then(l.bind(l,18999)))},33536:function(e,n,l){l.d(n,{Z:function(){return o}});var a=l(39719),t=l(88546),i=l(3279),r=l(31164);let o=()=>{let e=(0,a.v9)(r.km),{isDesktop:n}=(0,i.Z)();return t.QR.includes(e)&&n}},16690:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(39719),t=l(79021);let i=()=>(0,a.v9)(t.p).getActiveCount()>0},8160:function(e,n,l){l.d(n,{Z:function(){return c}});var a=l(67294),t=l(39719),i=l(88546),r=l(31164),o=l(64138),s=l(27244);let d=e=>i.xg.includes(e)?"results":i.YL.includes(e)?"explore":"homepage",c=()=>{let e=(0,s.Z)(),n=(0,o.Z)(),l=(0,t.v9)(r.km);return(0,a.useCallback)(()=>{e({module:"search",category:"general",action:"page visited",event_name:"search: general: page visited",props:{...n,page_name:d(l)}})},[n,l,e])}},25118:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(67294),t=l(10499);let i=(e,n)=>{let l=(0,a.useCallback)(l=>{n(t.PM(l,e),{trackChange:!0,shouldPublishFormChanges:!0})},[e,n]),i=(0,a.useCallback)(l=>{n(t.Pu(l,e),{trackChange:!0,shouldPublishFormChanges:!0})},[e,n]),r=(0,a.useCallback)(l=>{n(t.Uc(l,e),{trackChange:!0,shouldPublishFormChanges:!0})},[e,n]),o=(0,a.useCallback)(l=>{n(t.fU(l,e),{trackChange:!0,shouldPublishFormChanges:!0})},[e,n]),s=(0,a.useCallback)((l,a)=>{n(t.Hq(l,a,e),{trackChange:!0,shouldPublishFormChanges:!0})},[e,n]);return{setMode:l,setCabinClass:i,setPassengers:r,setBags:o,setPassengersAndBags:s,setPassengersAndBagsAndCabinClass:(0,a.useCallback)((l,a,i)=>{n(t.$E(l,a,i,e),{trackChange:!0,shouldPublishFormChanges:!0})},[e,n])}}},61438:function(e,n,l){l.d(n,{QG:()=>m,ji:()=>u,ZP:()=>g});var a=l("87430"),t=l.n(a),i=l("6767"),r=l.n(i);let o={a:"#00a991",b:"#DF7B00",c:"#d50c6a",d:"#35DC93",e:"#EF7209",f:"#863CCD",g:"#006DC7",h:"#4FB52E",i:"#828921",j:"#9F683E",k:"#FD696A",l:"#F558BF",m:"#7684FB",n:"#00A0BD",o:"#30363D"},s=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o"],d={nizkocenovci:["c","a","b","f","h","e","g","d","i","j","k","l","m","n","o"]},c={"#0097A9":{light:"#0CB3C7",dark:"#007785",darker:"#005f6a"},"#FBAD18":{light:"#FFC85E",dark:"#EB9D08",darker:"#cf8a07"},"#D50C6A":{light:"#EE509A",dark:"#920346",darker:"#750238"},"#35DC93":{light:"#80F9C4",dark:"#11B16B",darker:"#0f9c5e"},"#EF7209":{light:"#FC9B4A",dark:"#BA5500",darker:"#954400"},"#863CCD":{light:"#BB77FD",dark:"#4E1288",darker:"#3e0e6d"},"#006DC7":{light:"#51A6ED",dark:"#004985",darker:"#003a6a"},"#4FB52E":{light:"#6CE545",dark:"#26700E",darker:"#1e5a0b"},"#30363D":{light:"#4C5765",dark:"#000000",darker:"#000000"},"#ABB2BA":{light:"#CAD2DC",dark:"#7F868E",darker:"#70767d"}};function u(e,n){let l=r()(e.trim()).hex();return c[l]&&c[l][n]?r()(c[l][n]):function(e,n){switch(n){case"default":case"selection":default:return r()(e);case"dark":return r()(e).darken(.2);case"darker":return r()(e).darken(.3);case"lighten":return r()(e).lighten(.2);case"light":return r()(e).alpha(.15);case"lightDarker":return r()(e).alpha(.3)}}(l,n)}let m=e=>({id:e.id,color:t()(["theme","colors","primary-500"],e)}),p=(e,n)=>{let l=e<0||e>=s.length?s.length-1:e;return o[d[n]?d[n][l]:s[l]]},g=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:"",color:""};return u(0===e&&l&&"kiwicom"!==l.id?l.color:p(e||0,l.id),n).rgb().toString()}},96854:function(e,n,l){l.d(n,{Z:function(){return i}});var a=l(61438);let t=(e,n)=>{let l=e;return"origin"===n&&(l-=1),String.fromCharCode(98+l).toUpperCase()};function i(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:"",color:""},i=(n||0)+("destination"===e?1:0),r=(0,a.ZP)(i,"default",l);return{color:r,label:t(n||0,e)}}}}]);
//# sourceMappingURL=6280.47a60245.js.map