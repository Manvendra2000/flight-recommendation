"use strict";(globalThis.webpackChunkfrontend_home=globalThis.webpackChunkfrontend_home||[]).push([["1854"],{9003:function(e,t,a){a.d(t,{Z:()=>eH});var r,l,o,n,i,s,d,u,c,f,g,m=a("63127"),b=a("66686"),p=a("41958"),v=a("35254"),h=a("62949"),D=a("14315"),y=a("67294"),x=a("72541"),Z=a("38895"),F=a("10499"),R=a("56396"),k=a.n(R),O=a("94287"),C=a("45109"),W=a("39719"),M=a("33079"),w=a("41015"),L=a("89990"),S=a("20687"),N=a("52412"),E=a("92689"),P=a("94591"),T=a("74761"),z=a("62951"),_=a("39142"),V=a("18898"),K=a("82524"),H=a("1410"),I=a("13657"),A=a.n(I),$=a("5406"),j=a("39903"),B=a("74094"),U=a("22092"),q=a("83214"),G=a("68264"),Q=a("56723"),J=a("27528"),X=a("85018"),Y=a("72841"),ee=a("94327"),et=a("62876"),ea=a("29500"),er=a("12490"),el=a("99081"),eo=a("60862"),en=a("51529"),ei=a("21548"),es=a.n(ei),ed=a("94379"),eu=a("12373"),ec=a("31956"),ef=a("44012"),eg=a("51636"),em=a("31875");let eb=e=>{let{dayPrice:t,isLoadingPrices:a}=e,l=null==t?void 0:t.price,o=null==l?"-":(0,m.Z)(em.Z,{maxSize:6},void 0,l);return(0,m.Z)("div",{className:(0,H.Z)("text-small font-medium leading-small [&_.long.spTypo-caption]:text-[10px]",(null==t?void 0:t.color)==="low"?"text-success-foreground":"text-secondary-foreground"),"data-test":"NewDatepickerPrice"},void 0,a?r||(r=(0,m.Z)(eg.default,{width:22,height:8,animate:!0})):o)};var ep=a("76465"),ev=a("86896");let eh=e=>{let{date:t,oppositeValue:a,activeField:r,disabled:o,scrollableView:n,children:i}=e,{formatMessage:s}=(0,ev.Z)();return!n&&"returnRange"===r&&!o&&(0,Z.Ws)(a)&&(0,p.R)(t,a.from)?(0,m.Z)("div",{className:"w-full"},void 0,(0,m.Z)(ep.default,{content:l||(l=(0,m.Z)(j.default,{},void 0,(0,m.Z)(ef.Z,{id:"search.form.date_picker.earlier_return"}))),tabIndex:"-1",placement:"top",labelClose:s({id:"orbit.button_close"}),block:!0},void 0,i)):i},eD=e=>{let{children:t,isFirst:a=!1,isFirstOpposite:r=!1,isToday:l=!1,isInSelection:o=!1,past:n=!1,selected:i=!1,isLast:s=!1,isLastOpposite:d=!1,isInOpposite:u=!1,isWithinHoveredFlexibleDatesRange:c,isMiddleDateOfSelectedFlexibleRange:f,isMiddleDateOfSelectedOppositeFlexibleRange:g,isOverlappedFlexibleDay:b,isFirstOverlappedFlexibleDay:p=!1,isLastOverlappedFlexibleDay:v=!1}=e;return(0,m.Z)("div",{"data-test":"DateContent",className:(0,H.Z)("flex h-[46px] w-full flex-col justify-center",(a||r)&&"rounded-l-100",(s||d)&&"rounded-r-100",l&&"rounded-b-100",(o&&!n||!i&&(l||u))&&!c&&!f&&!g&&"bg-cloud-light",i&&!f&&(!b||v||p?"!bg-blue-light":"!bg-blue-light-hover"))},"content",t)},ey=e=>{let{onClick:t,muted:a=!1,selected:r=!1,last:l=!1}=e;return(0,m.Z)("div",{role:"presentation",onClick:t,className:(0,H.Z)("absolute bottom-[17px] h-0 w-0 border-[6px] border-solid border-[transparent]","after:absolute after:-bottom-150 after:h-0 after:w-0 after:animate-pulse-infinite after:border-[6px] after:border-solid after:border-[transparent] after:opacity-30 after:content-empty",l?(0,H.Z)("-right-150 cursor-e-resize border-r-[0] after:right-0 after:origin-left after:border-r-[0]",a?"border-l-ink-light after:border-l-ink-light":"border-l-blue-normal after:border-l-blue-normal"):(0,H.Z)("-left-150 cursor-w-resize border-l-[0] after:left-0 after:origin-right after:border-l-[0]",a?"border-r-ink-light after:border-r-ink-light":"border-r-blue-normal after:border-r-blue-normal"),r?"z-[2]":"z-default")})},ex=e=>{let{type:t,muted:a=!1,isFirst:r=!1,isLast:l=!1,isRtl:o=!1,firstInWeek:n=!1,lastInWeek:i=!1,isWithinHoveredFlexibleDatesRange:s=!1,isFirstDayOfHoveredFlexibleRange:d=!1,isFirstDayOfSelectedFlexibleRange:u=!1,isLastDayOfHoveredFlexibleRange:c=!1,isLastDayOfSelectedFlexibleRange:f=!1,isFirstDayOfOppositeFlexibleRange:g=!1,isLastDayOfOppositeFlexibleRange:b=!1,isWithinSelectedFlexibleDatesRange:p=!1,isToday:v=!1,isMiddleDateOfSelectedFlexibleRange:h=!1,isMiddleDateOfSelectedOppositeFlexibleRange:D=!1,isMiddleDateOfHoveredFlexibleRange:y=!1,isOppositeOverlappedFlexibleDay:x=!1,isFirstOverlappedFlexibleDay:Z=!1,isLastOverlappedFlexibleDay:F=!1,shouldNotHaveHigherZindex:R=!1,isSameDepartureAndReturnDate:k=!1,hovered:O=!1}=e;return(0,m.Z)("div",{"data-test":`DaySelected-${t}`,className:(0,H.Z)("absolute bottom-0 h-[46px] w-full border-b-2 border-t-2 border-solid border-blue-normal",!R&&"z-[2]",(p||s)&&"!border-blue-light-active",a&&"border-ink-light",d&&s||u&&p&&!Z||g&&"selected-opposite"===t||v?"rounded-s-100 border-s-2":"rounded-s-0 border-s-0",c&&s||f&&p&&!F||b&&!p?"rounded-e-100 border-e-2":"rounded-e-0 border-e-0",(o?l:r)&&!s&&"rounded-tl-100 !border-l-2",(o?l:r)&&!s&&(h||D||y?"rounded-bl-0":"rounded-bl-100"),(o?r:l)&&!s&&"rounded-tr-100 !border-r-2",(o?r:l)&&!s&&(h||D||y?"rounded-br-0":"rounded-br-100"),n&&!r&&!u&&!g&&!v&&"!border-s-2 ltr:[border-left-style:dashed] rtl:[border-right-style:dashed]",i&&!l&&!f&&!(b&&"selected-opposite"===t)&&!v&&"!border-e-2 ltr:[border-right-style:dashed] rtl:[border-left-style:dashed]","selected-opposite"===t&&(x?"!-z-default":"z-default"),"selected-opposite"===t&&"!border-ink-light-active","selected-opposite"===t&&k&&"border-blue-normal","selected-opposite"===t&&a&&"!border-ink-light","hover"===t&&(0,H.Z)("pointer-events-none",O?"z-[2]":"!-z-default",s&&h&&"bg-blue-light-hover",s&&!h&&"bg-blue-light",n&&!y&&!d&&!g&&s&&!v&&"border-start-2 ltr:[border-left-style:dashed] rtl:[border-right-style:dashed]",i&&!y&&!c&&!b&&s&&!v&&"border-end-2 ltr:[border-right-style:dashed] rtl:[border-left-style:dashed]"))},t)},eZ=e=>{let{children:t,active:a=!1,hovered:r=!1,muted:l=!1,areRangesOverlapping:o=!1,maxLabelWidth:n,isOverlappedFlexibleDay:i=!1,onMouseDown:s,onClick:d}=e;return(0,m.Z)("button",{type:"button","data-test":`DirectionLabel-${a?"active":"inactive"}`,className:(0,H.Z)("absolute left-0 top-50 z-[3] min-w-full whitespace-nowrap rounded-t-100 bg-ink-light-active px-100 py-50",o&&!a&&i&&"!top-[-21px]",o&&!a&&!i&&"!top-[-15px]",!(o&&!a)&&i&&"!-top-100",r&&"z-[5]",a&&"z-[4]",o&&!a&&"pb-[19px]",l&&"bg-ink-light",(a||r)&&"!bg-blue-normal"),style:{maxWidth:`${100*n}%`},onMouseDown:s,onClick:d},void 0,t)},eF=e=>{let{shouldBeClickable:t=!1,last:a=!1,direction:r,onClick:l,onDragStart:o,onDragEnd:n,onMouseDown:i,onMouseEnter:s,onMouseLeave:d}=e;return(0,m.Z)("div",{role:"button",tabIndex:-1,"aria-label":r,"data-test":`DayDragArrow${r}`,className:(0,H.Z)("absolute bottom-0 h-[46px] w-300 bg-transparent",t?"z-[3]":"-z-default",a?"-right-300 cursor-e-resize":"-left-300 cursor-w-resize"),onClick:l,draggable:!0,onDragStart:o,onDragEnd:n,onMouseDown:i,onMouseEnter:s,onMouseLeave:d})},eR=e=>{let{children:t}=e;return(0,m.Z)("span",{className:"text-[10px] leading-[1]"},void 0,t)},ek=(e,t,a,r)=>{if(r)return 1;let l=(0,en._)((0,Q.V)(e))-(0,en._)(e)+1,o=(7-a)%7+1;return t&&t.from&&t.to?Math.min(l,o,Math.abs((0,q.j)(t.from,t.to))+1):Math.min(l,o)},eO=e=>e.stopPropagation(),eC=e=>{var t;let{selected:a,isHoveredAndWithinRange:r,isHoveredAndWithinRangeOpposite:l,dragHovered:f,areRangesOverlapping:g,disabled:b,dayPrice:p,shouldHavePrice:h,isLoadingPrices:D,isInOpposite:x,isFirst:Z,isLast:F,isFirstOpposite:R,isLastOpposite:k,isInSelection:O,languageDirection:C,mouseOver:W,handleExtendLeft:M,handleExtendRight:w,handleHoveredLabelClick:L,date:S,isToday:N,activeField:E,value:P,oppositeValue:T,scrollableView:z,handleDragStart:_,onDragEnd:V,onDragMouseEnter:K,onDragMouseLeave:I,dayInWeek:A,isWithinHoveredFlexibleDatesRange:$,isFirstDayOfHoveredFlexibleRange:B,isFirstDayOfSelectedFlexibleRange:U,isLastDayOfHoveredFlexibleRange:q,isLastDayOfSelectedFlexibleRange:G,isWithinOppositeFlexibleDatesRange:Q,isFirstDayOfOppositeFlexibleRange:J,isLastDayOfOppositeFlexibleRange:X,isWithinSelectedFlexibleDatesRange:Y,isDraggingDisabled:ee,isMiddleDateOfSelectedFlexibleRange:et,isMiddleDateOfSelectedOppositeFlexibleRange:ea,isMiddleDateOfHoveredFlexibleRange:er,isOneOverlappedFlexibleDayLast:el,isOneOverlappedFlexibleDayFirst:eo}=e,ei=W&&!b||$,es=R&&k||Z&&F,eg=null!==(t=(null==P?void 0:P.type)==="dateRange"&&(null==T?void 0:T.type)&&"dateRange"===T.type&&(0,v.K)(P.from,T.from))&&void 0!==t&&t,em=$&&Y||er,ep=U&&Y&&$&&!es,ev=G&&Y&&$&&!es,eC=$&&Q||ea,eW=es&&(U||G||eg&&(null==P?void 0:P.type)==="dateRange"&&(null==T?void 0:T.type)==="dateRange"&&(0,v.K)(P.to,T.from)&&(0,v.K)(P.from,T.to)&&$),eM=1===A||(0,eu.b)(S),ew=0===A||(0,ec.h)(S);return(0,m.Z)("div",{className:"flex h-full w-full cursor-pointer items-end justify-center text-center","data-test":"DayContentContainer"},void 0,a&&(0,m.Z)(ex,{type:"selected",firstInWeek:eM,isFirst:Z,isFirstDayOfHoveredFlexibleRange:B,isFirstDayOfOppositeFlexibleRange:J,isFirstDayOfSelectedFlexibleRange:U,isFirstOverlappedFlexibleDay:ep,isLast:F,isLastDayOfHoveredFlexibleRange:q,isLastDayOfOppositeFlexibleRange:X,isLastDayOfSelectedFlexibleRange:G,isLastOverlappedFlexibleDay:ev,isMiddleDateOfHoveredFlexibleRange:er,isMiddleDateOfSelectedFlexibleRange:et,isMiddleDateOfSelectedOppositeFlexibleRange:ea,isOppositeOverlappedFlexibleDay:eC,isToday:N,isWithinHoveredFlexibleDatesRange:$,isWithinSelectedFlexibleDatesRange:Y,isSameDepartureAndReturnDate:eg,lastInWeek:ew,muted:r,isRtl:"rtl"===C,shouldNotHaveHigherZindex:eW},"selected"),x&&(0,m.Z)(ex,{type:"selected-opposite",isRtl:"rtl"===C,isFirst:R,isLast:k,firstInWeek:1===A||(0,eu.b)(S),lastInWeek:0===A||(0,ec.h)(S),muted:l&&!es,isFirstDayOfOppositeFlexibleRange:J,isLastDayOfOppositeFlexibleRange:X,isToday:N,isMiddleDateOfSelectedOppositeFlexibleRange:ea,isOppositeOverlappedFlexibleDay:eC,isSameDepartureAndReturnDate:eg},"selected-opposite"),ei&&!f&&(0,m.Z)(ex,{type:"hover",isRtl:"rtl"===C,isFirst:!0,isLast:!0,firstInWeek:1===A||(0,eu.b)(S),lastInWeek:0===A||(0,ec.h)(S),isWithinHoveredFlexibleDatesRange:$,isFirstDayOfHoveredFlexibleRange:B,isLastDayOfHoveredFlexibleRange:q,isToday:N,hovered:ei&&!$,isMiddleDateOfSelectedFlexibleRange:et,isMiddleDateOfHoveredFlexibleRange:er},"hover"),!ee&&(0,m.Z)(y.Fragment,{},"drag-left",Z&&(!N||Z!==F)&&(0,m.Z)(ey,{onClick:M,last:"rtl"===C,muted:r,selected:a}),(0,m.Z)(eF,{direction:"Left",onClick:Z&&(!N||Z!==F)?M:void 0,last:"rtl"===C,shouldBeClickable:Z&&(!N||Z!==F),onDragStart:_,onDragEnd:V,onMouseDown:eO,onMouseEnter:K,onMouseLeave:I})),N&&!a&&!x&&!$&&(o||(o=(0,m.Z)("div",{className:"absolute left-0 top-50 w-full rounded-100 bg-cloud-light px-100 py-50"},void 0,(0,m.Z)(ed.default,{},void 0,(0,m.Z)(j.default,{size:"small",type:"secondary",weight:"bold",align:"center"},void 0,(0,m.Z)(eR,{},void 0,(0,m.Z)(ef.Z,{id:"common.today"}))))))),(Z&&"departureRange"===E||R&&"returnRange"===E)&&(0,m.Z)(eZ,{maxLabelWidth:ek(S,P,A,es),muted:Z?r:l,active:"departureRange"===E,areRangesOverlapping:g,isOverlappedFlexibleDay:($||Y)&&(et||ea)},void 0,(0,m.Z)(ed.default,{},void 0,(0,m.Z)(j.default,{size:"small",type:"white",weight:"bold",align:"center"},void 0,(0,m.Z)(eR,{},void 0,Z&&F||R&&k?n||(n=(0,m.Z)(ef.Z,{id:"search.form.calendar.depart_on"})):i||(i=(0,m.Z)(ef.Z,{id:"search.form.calendar.depart_between"})))))),(Z&&"returnRange"===E||R&&"departureRange"===E)&&(0,m.Z)(eZ,{maxLabelWidth:ek(S,P,A,es),muted:Z?r:l,active:"returnRange"===E,areRangesOverlapping:g,isOverlappedFlexibleDay:($||Y)&&(et||ea)},void 0,(0,m.Z)(ed.default,{},void 0,(0,m.Z)(j.default,{size:"small",type:"white",weight:"bold",align:"center"},void 0,(0,m.Z)(eR,{},void 0,Z&&F||R&&k?s||(s=(0,m.Z)(ef.Z,{id:"search.form.calendar.return_on"})):d||(d=(0,m.Z)(ef.Z,{id:"search.form.calendar.return_between"})))))),ei&&!f&&!$&&(0,m.Z)(eZ,{hovered:ei,maxLabelWidth:1,onMouseDown:eO,onClick:L},void 0,(0,m.Z)(ed.default,{},void 0,(0,m.Z)(j.default,{size:"small",type:"white",weight:"bold",align:"center"},void 0,(0,m.Z)(eR,{},void 0,"departureRange"===E?u||(u=(0,m.Z)(ef.Z,{id:"search.form.calendar.depart_on"})):c||(c=(0,m.Z)(ef.Z,{id:"search.form.calendar.return_on"})))))),(0,m.Z)(eh,{date:S,activeField:E,oppositeValue:T,disabled:b,scrollableView:z},void 0,(0,m.Z)(eD,{isToday:N,past:b,selected:a,isInOpposite:x,isFirst:Z,isLast:F,isFirstOpposite:R,isLastOpposite:k,isInSelection:O,isWithinHoveredFlexibleDatesRange:$,isMiddleDateOfSelectedFlexibleRange:et,isMiddleDateOfSelectedOppositeFlexibleRange:ea,isOverlappedFlexibleDay:em,isFirstOverlappedFlexibleDay:ep,isLastOverlappedFlexibleDay:ev},void 0,(0,m.Z)("div",{className:(0,H.Z)("flex h-[42px] flex-col items-center justify-center",(ev||ep)&&"z-[5] bg-blue-light-hover",ev&&"rounded-e-100",ev&&el&&"ms-50",ep&&"rounded-s-100",ep&&eo&&"me-50")},void 0,(0,m.Z)("div",{className:(0,H.Z)("text-large font-bold",h?"pt-50 leading-normal":"leading-[22px]",b?"text-ink-light":"text-ink-dark",h&&b&&"pb-400"),"data-test":"DayDateTypography"},void 0,(0,en._)(S)),!b&&h&&(0,m.Z)(eb,{dayPrice:p,isLoadingPrices:D})))),!ee&&(0,m.Z)(y.Fragment,{},"drag-right",F&&(0,m.Z)(ey,{onClick:w,last:"ltr"===C,muted:r,selected:a}),(0,m.Z)(eF,{direction:"Right",onClick:F?w:void 0,last:"ltr"===C,shouldBeClickable:F,onDragStart:_,onDragEnd:V,onMouseDown:eO,onMouseEnter:K,onMouseLeave:I})))};var eW=a("79535"),eM=a("85893");let ew=e=>{let{date:t,selected:a,disabled:r,isFirst:l,isLast:o,isFirstOpposite:n,isLastOpposite:i,isInSelection:s,languageDirection:d,dayInWeek:u,isInOpposite:c,onDragEnd:f,dayPrice:g,shouldHavePrice:b,isLoadingPrices:p,dragging:v,activeField:h,value:D,oppositeValue:F,scrollableView:R=!1,isHoveredAndWithinRange:k,isHoveredAndWithinRangeOpposite:O,onDragMouseEnter:W,onDragMouseLeave:M,dragHovered:w,areRangesOverlapping:L,selectedDayRef:S,isWithinHoveredFlexibleDatesRange:N,isFirstDayOfHoveredFlexibleRange:E,isFirstDayOfSelectedFlexibleRange:P,isLastDayOfHoveredFlexibleRange:T,isLastDayOfSelectedFlexibleRange:z,isWithinOppositeFlexibleDatesRange:_,isFirstDayOfOppositeFlexibleRange:V,isLastDayOfOppositeFlexibleRange:K,isWithinSelectedFlexibleDatesRange:H,isDraggingDisabled:I,isMiddleDateOfSelectedFlexibleRange:$,isMiddleDateOfSelectedOppositeFlexibleRange:j,isMiddleDateOfHoveredFlexibleRange:U,isOneOverlappedFlexibleDayLast:q,isOneOverlappedFlexibleDayFirst:G,setFieldValue:Q,onDragStart:J,onTouchStart:X,onDragEnter:ee,onClose:et,onMouseOverDay:ea,onDayPress:eo,trackDateChange:ei,flexibleDate:ed}=e,[eu,ec]=(0,y.useState)(!1),ef=1===(0,en._)(t)?u||7:void 0,eg=(0,x.P)(200,e=>{if(e.preventDefault(),e.stopPropagation(),!r){let e=(0,Z.$m)(t,t,!1,ed);ei(e),Q(e)}}),em=(0,y.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),!r&&eo(t,ed)},[t,r,ed,eo]),eb=(0,y.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),eg(e),et&&et()},[eg,et]),ep=(0,y.useCallback)(e=>{if(e.stopPropagation(),!(0,Y.z)(t)&&!A()(D)&&(0,Z.Ws)(D)){let e=(0,Z.$m)((0,el.k)(D.from,1),D.to);ei(e,!0),Q(e,!0)}},[t,ei,Q,D]),ev=(0,y.useCallback)(e=>{if(e.stopPropagation(),!A()(D)&&(0,Z.Ws)(D)){let e=(0,Z.$m)(D.from,(0,B.E)(D.to,1));ei(e,!0),Q(e,!0)}},[ei,Q,D]),eh=(0,y.useCallback)(e=>{e.stopPropagation();let a=(0,Z.$m)(t,t,!1,ed);ei(a,!0),Q(a)},[t,ed,ei,Q]),eD=(0,y.useCallback)(e=>{e.stopPropagation(),!r&&(l||o)&&X(t)},[t,r,l,o,X]),ey=(0,y.useCallback)(e=>{e.stopPropagation(),!r&&J(t)},[t,r,J]),ex=(0,y.useCallback)(e=>{e.cancelable&&e.preventDefault(),ee(r?(0,er.I)():t)},[t,r,ee]),eZ=(0,y.useCallback)(e=>{ec(e),ea(e&&!r?t:null),e&&v&&ee(r?(0,er.I)():t)},[t,r,v,ee,ea]);return(0,eM.jsx)("div",{role:"button",className:"relative mb-50 mt-[-8px] flex h-[62px] w-[calc(100%/7)] items-center outline-none",style:null==ef?void 0:{marginInlineStart:`${(ef-1)*100/7}%`},"data-type":r?"":"DayContainer","data-value":r?null:(0,C.WU)(t,eW.sc),"data-test":r?"CalendarDay-disabled":"CalendarDay",onTouchStart:eD,onDoubleClick:eb,onClick:eg,onMouseDown:em,onDragEnter:ex,onMouseEnter:es()(eZ,void 0,!0),onMouseLeave:es()(eZ,void 0,!1),ref:l?S:void 0,tabIndex:-1,onFocus:es()(eZ,void 0,!0),onBlur:es()(eZ,void 0,!1),children:(0,m.Z)(eC,{selected:a,isHoveredAndWithinRange:k,isHoveredAndWithinRangeOpposite:O,dragHovered:w,areRangesOverlapping:L,disabled:r,dayPrice:g,shouldHavePrice:b,isLoadingPrices:p,isInOpposite:c,isFirst:l,isLast:o,isFirstOpposite:n,isLastOpposite:i,isInSelection:s,languageDirection:d,mouseOver:eu&&!v,handleExtendLeft:ep,handleExtendRight:ev,handleHoveredLabelClick:eh,date:t,onDragEnd:f,onDragMouseEnter:W,onDragMouseLeave:M,handleDragStart:ey,isToday:(0,Y.z)(t),activeField:h,value:D,oppositeValue:F,scrollableView:R,dayInWeek:u,isWithinHoveredFlexibleDatesRange:N,isFirstDayOfHoveredFlexibleRange:E,isFirstDayOfSelectedFlexibleRange:P,isLastDayOfHoveredFlexibleRange:T,isLastDayOfSelectedFlexibleRange:z,isWithinOppositeFlexibleDatesRange:_,isFirstDayOfOppositeFlexibleRange:V,isLastDayOfOppositeFlexibleRange:K,isWithinSelectedFlexibleDatesRange:H,isDraggingDisabled:I,isMiddleDateOfSelectedFlexibleRange:$,isMiddleDateOfSelectedOppositeFlexibleRange:j,isMiddleDateOfHoveredFlexibleRange:U,isOneOverlappedFlexibleDayLast:q,isOneOverlappedFlexibleDayFirst:G})})},eL=(0,eo.Z)(10)((e,t)=>{let a=(0,K.F8)(t),r=(0,et.Qc)(e,"yyyy-MM",new Date);return k()(0,(0,T.N)(r)).map(e=>{let t=(0,B.E)(r,e);return{date:t,dayInWeek:(0,P.w)(t)+1-a}})}),eS=(0,y.memo)(e=>{let t,{month:a,setFieldValue:r,value:l,onDragStart:o,onDragEnter:n,prices:i,shouldHavePrices:s,isLoadingPrices:d,oppositeValue:u,languageDirection:c,onClose:f,onTouchMove:g,onTouchEnd:x,onTouchStart:F,minDate:R,maxDate:k,dragging:O,activeField:W,mouseOverDay:M,onMouseOverDay:L,onDayPress:S,scrollableView:N,onDragEnd:E,locale:P,onDragMouseEnter:T,onDragMouseLeave:_,dragHovered:V,trackDateChange:H,selectedDayRef:I,isDraggingDisabled:X}=e,et=(0,y.useCallback)(()=>{r((0,Z.$m)((0,h.F)([R,(0,z.N)(a)]),(0,D.V)([k,(0,Q.V)(a)])))},[k,R,a,r]),eo=l.flexibleDate&&M?(0,D.V)([k,(0,B.E)(M,l.flexibleDate)]):null,en=l.flexibleDate&&M?(0,el.k)(M,l.flexibleDate):null,ei=(0,Z.xs)(l),es=(0,Z.LP)(l),ed=(0,Z.xs)(u),eu=(0,Z.LP)(u),ec=!!(en&&ei&&(0,v.K)(en,ei)),ef=!!(eo&&es&&(0,v.K)(eo,es)),eg=(0,y.useCallback)(e=>"returnRange"===W&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)?e&&(0,p.R)(e,u.from)&&!(0,v.K)(l.from,u.from)&&!eu?u.from:(0,v.K)(l.from,u.from)&&!eu?null:(0,v.K)(l.from,u.from)&&eu&&e&&(0,p.R)(e,eu)||!(0,v.K)(l.from,u.from)&&eu&&e&&(0,p.R)(e,eu)?eu:e:e,[W,u,eu,l]),em=(0,y.useCallback)(e=>"departureRange"===W&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)?ed&&e&&(0,p.R)(ed,e)&&!(0,v.K)(l.from,u.from)?ed:e&&(0,p.R)(u.from,e)&&!(0,v.K)(l.from,u.from)&&(0,v.K)(u.from,u.to)&&!ed?u.from:!ed&&(0,v.K)(l.from,u.from)&&(0,v.K)(u.from,u.to)?null:ed&&e&&(0,p.R)(ed,e)&&(0,v.K)(l.from,u.from)?ed:!(0,v.K)(u.from,u.to)&&e&&(0,p.R)(u.to,e)?u.to:e:e,[W,u,ed,l]),eb=(0,y.useCallback)(e=>"returnRange"!==W?e:ei&&e&&(0,p.R)(ei,e)?ei:!ei&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)&&!(0,v.K)(l.from,u.from)&&e&&(0,p.R)(l.from,e)&&(0,v.K)(l.from,l.to)?l.from:!ei&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)&&(0,v.K)(l.from,u.from)?null:(0,Z.Ws)(l)&&!(0,v.K)(l.to,l.from)&&e&&(0,p.R)(l.to,e)?l.to:e,[W,u,ei,l]),ep=(0,y.useCallback)(e=>"departureRange"!==W?e:es&&e&&(0,p.R)(e,es)&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)&&!(0,v.K)(l.from,u.from)||es&&e&&(0,p.R)(e,es)?es:!ei&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)&&!(0,v.K)(l.from,u.from)&&e&&(0,p.R)(e,l.from)?l.from:!ei&&(0,Z.Ws)(l)&&(0,Z.Ws)(u)&&(0,v.K)(l.from,u.from)?null:e,[W,u,es,ei,l]);return(0,m.Z)("div",{onTouchMove:g,onTouchEnd:x},void 0,(0,m.Z)("div",{className:"mb-300 mt-100 flex flex-1 items-center justify-center"},"month",(0,m.Z)($.default,{dataTest:"DatepickerMonthButton",type:"secondary",size:"small",disabled:R>=(0,Q.V)(a)||k<=(0,z.N)(a),onClick:et,tabIndex:"-1"},void 0,(0,C.WU)(a,"LLLL yyyy",{locale:P}))),(t=P,(0,m.Z)("div",{className:"flex"},"dayNames",(0,K.D1)(t).map(e=>(0,m.Z)("div",{className:"flex h-[35px] w-[calc(100%/7)] items-center justify-center"},e,(0,m.Z)(j.default,{align:"center",size:"small",type:"secondary"},void 0,e))))),(0,m.Z)("div",{className:"flex flex-wrap","data-test":"CalendarContainer"},"days",eL((0,C.WU)(a,"yyyy-MM"),P).map(e=>{let t=(0,Z.Ws)(l)&&(0,v.K)(l.from,e.date),a=(0,Z.Ws)(l)&&(0,v.K)(l.to,e.date),g=!!(M&&en&&eo&&(!(0,Y.z)(M)&&(0,ee._)(e.date,{start:(0,ea.b)((0,J.C)(en)?(0,er.I)():en),end:(0,G.i)((0,el.k)(M,1))})||!(0,v.K)(M,k)&&(0,ee._)(e.date,{start:(0,ea.b)((0,D.V)([k,(0,B.E)(M,1)])),end:(0,G.i)(eo)}))),y=!!(en&&eo&&(0,ee._)(e.date,{start:(0,ea.b)(en),end:(0,G.i)(eo)})&&!g),x=es&&(0,J.C)(es)?eg((0,er.I)()):eg(es),C=ei&&(0,p.R)(ei,k)?em(ei):k,P=!!((0,Z.Ws)(l)&&es&&ei&&(!(0,Y.z)(l.from)&&x&&(0,ee._)(e.date,{start:(0,ea.b)(x),end:(0,G.i)((0,el.k)(l.from,1))})||!(0,v.K)(l.from,k)&&C&&(0,ee._)(e.date,{start:(0,ea.b)((0,D.V)([k,(0,B.E)(l.from,1)])),end:(0,G.i)(C)}))),z=!!(es&&ei&&x&&C&&(0,ee._)(e.date,{start:(0,ea.b)((0,D.V)([k,x])),end:(0,G.i)(C)})&&!P),K=eu&&(0,J.C)(eu)?ep((0,er.I)()):ep(eu),$=ed&&(0,p.R)(ed,k)?eb(ed):k,j=!!((0,Z.Ws)(u)&&eu&&ed&&(!(0,Y.z)(u.from)&&K&&(0,ee._)(e.date,{start:(0,ea.b)(K),end:(0,G.i)((0,el.k)(u.from,1))})||!(0,v.K)(u.from,k)&&$&&(0,ee._)(e.date,{start:(0,ea.b)((0,D.V)([k,(0,B.E)(u.from,1)])),end:(0,G.i)($)}))),Q=!!(eu&&ed&&K&&$&&(0,ee._)(e.date,{start:(0,ea.b)(K),end:(0,G.i)($)})&&!j),et=!!(en&&(0,v.K)(e.date,en)),ev=!!(x&&(0,v.K)(e.date,x)),eh=!!(eo&&(0,v.K)(e.date,eo)),eD=!!(C&&(0,v.K)(e.date,C)),ey=!!(K&&(0,v.K)(e.date,K)),ex=!!($&&(0,v.K)(e.date,$)),eZ=!!((0,Z.Ws)(u)&&((0,ee._)(e.date,{start:(0,D.V)([M||u.from,u.from]),end:(0,h.F)([M||u.to,u.to])})||(0,Z.Ws)(l)&&(0,ee._)(e.date,{start:(0,D.V)([l.from,u.from]),end:(0,h.F)([l.to,u.to])}))),eF=!A()(u)&&(0,Z.Ws)(u)&&(0,v.K)(u.from,e.date),eR=!A()(u)&&(0,Z.Ws)(u)&&(0,v.K)(u.to,e.date),ek=!!(M&&!(V||O)&&(0,Z.Ws)(l)&&(0,ee._)(M,{start:l.from,end:l.to})),eO=!!(M&&(0,Z.Ws)(u)&&(0,ee._)(M,{start:u.from,end:u.to})),eC=!!((0,Z.Ws)(l)&&(0,Z.Ws)(u)&&(!(0,Z.uz)(l)||!(0,Z.uz)(u)||(0,v.K)(l.from,u.from)&&(0,v.K)(l.to,u.to))&&(0,U.i)({start:l.from,end:(0,B.E)(l.to,1)},{start:u.from,end:(0,B.E)(u.to,1)})&&2>Math.abs((0,q.j)(u.from,l.from))),eM=(0,eW.NB)(s);return(0,m.Z)(ew,{date:e.date,dayInWeek:e.dayInWeek,setFieldValue:r,selected:!A()(l)&&(0,Z.bs)(l,e.date)||P,isInOpposite:!A()(u)&&(0,Z.bs)(u,e.date)||j,disabled:(0,p.R)(e.date,R)||(0,b.A)(e.date,k),isFirst:t,isLast:a,isFirstOpposite:eF,isLastOpposite:eR,isInSelection:eZ,value:t||a?l:null,oppositeValue:u,dayPrice:i&&(0,w.HL)(e.date,i),shouldHavePrice:eM,isLoadingPrices:d,languageDirection:c,onClose:f,dragging:O,activeField:W,scrollableView:!!N,isHoveredAndWithinRange:ek,isHoveredAndWithinRangeOpposite:eO,dragHovered:V,onMouseOverDay:L,onDayPress:S,onDragStart:o,onTouchStart:F,onDragEnter:n,onDragEnd:E,onDragMouseEnter:T,onDragMouseLeave:_,areRangesOverlapping:eC,trackDateChange:H,selectedDayRef:I,isWithinHoveredFlexibleDatesRange:g,isFirstDayOfHoveredFlexibleRange:et,isFirstDayOfSelectedFlexibleRange:ev,isLastDayOfHoveredFlexibleRange:eh,isLastDayOfSelectedFlexibleRange:eD,isWithinOppositeFlexibleDatesRange:j,isFirstDayOfOppositeFlexibleRange:ey,isLastDayOfOppositeFlexibleRange:ex,isWithinSelectedFlexibleDatesRange:P,flexibleDate:l.flexibleDate,isDraggingDisabled:X,isMiddleDateOfSelectedFlexibleRange:z,isMiddleDateOfSelectedOppositeFlexibleRange:Q,isMiddleDateOfHoveredFlexibleRange:y,isOneOverlappedFlexibleDayLast:ec,isOneOverlappedFlexibleDayFirst:ef},String(e.date))})))},(e,t)=>{let{month:a,minDate:r,value:l,mouseOverDay:o,oppositeValue:n,prices:i,dragHovered:s,dragging:d}=e;return!((0,Z.Fg)(l,t.value,a)||(0,Z.Fg)(n,t.oppositeValue,a)||(0,Z.Ws)(l)&&(0,Z.Ws)(n)&&(0,v.K)(l.from,n.from)||!(0,X.x)(a,t.month)||i!==t.prices||!(0,v.K)(r,t.minDate)||(0,Z.Tq)(t.dragging,t.value,a)||(0,Z.Tq)(d,l,a)||o!==t.mouseOverDay||s!==t.dragHovered)}),eN=(0,y.memo)(e=>{let{index:t,style:a,data:r}=e,l=(null==r?void 0:r.minDate)||new Date,o=(0,y.useMemo)(()=>(0,O.z)((0,z.N)(l),t),[l,t]);if(!r)return console.warn("AutosizedListItem should always receive data"),null;let{setFieldValue:n,value:i,oppositeValue:s,handleDragStart:d,handleDragEnter:u,handleDragEnd:c,prices:f,shouldHavePrices:g,isLoadingPrices:b,onClose:p,handleTouchStart:v,handleTouchMove:h,handleTouchEnd:D,maxDate:x,dragging:Z,activeField:F,languageDirection:R,mouseOverDay:k,onMouseOverDay:W,onDayPress:M,scrollableView:L=!1,locale:S,dragHovered:N,onDragMouseEnter:E,onDragMouseLeave:P,trackDateChange:T,selectedDayRef:_}=r;return(0,m.Z)("div",{className:(0,H.Z)("w-full",L&&"not-last:mb-400"),dir:R,style:a,"data-value":t>0?(0,C.WU)(o,eW.sc):(0,C.WU)(l,eW.sc)},t,(0,m.Z)(eS,{month:o,setFieldValue:n,value:i,oppositeValue:s,onDragStart:d,onDragEnter:u,onDragEnd:c,prices:f&&(0,w.W7)(o,f),shouldHavePrices:g,isLoadingPrices:b,onClose:p,onTouchStart:v,onTouchMove:h,onTouchEnd:D,minDate:l,maxDate:x,dragging:Z,activeField:F,languageDirection:R,mouseOverDay:k,onMouseOverDay:W,onDayPress:M,scrollableView:L,locale:S,dragHovered:N,onDragMouseEnter:E,onDragMouseLeave:P,trackDateChange:T,selectedDayRef:_}))}),eE=(e,t,a)=>(0,Z.Ws)(e)&&e.from?(0,z.N)(e.from):(0,z.N)((0,Z.Ws)(t)&&t.from?t.from:a),eP=e=>{let{value:t,oppositeValue:a,minDate:r,maxDate:l,activeField:o,prices:n,shouldHavePrices:i,isLoadingPrices:s,locale:d,onClose:u,handleDragStart:c,handleDragEnter:f,handleDragEnd:g,handleTouchStart:b,handleTouchMove:p,handleTouchEnd:v,dragging:h,setFieldValue:D,languageDirection:x,onMouseOverDay:Z,onDayPress:F,mouseOverDay:R,scrollableView:C,dragHovered:W,onDragMouseEnter:M,onDragMouseLeave:w,trackDateChange:L,mobileWrapperRef:S}=e,N=eE(t,a,r),H=(0,E.d)((0,z.N)(N),(0,z.N)(r)),I=(0,y.useRef)(null),A=(0,y.useRef)(null);(0,y.useEffect)(()=>{if(A.current&&S.current){let t=S.current.getBoundingClientRect(),a=A.current.getBoundingClientRect(),r=a.top>t.top&&a.bottom<t.bottom;if(I.current&&!r){var e;null==I||null===(e=I.current)||void 0===e||e.scrollToItem(H,"auto")}}},[H,S]);let $=(0,y.useCallback)(e=>{let t=(0,O.z)((0,z.N)(r),e),a=1===(0,K.F8)(d)?6:0;return(((0,P.w)(t)+a)%7+(0,T.N)(t))/7>5?425:369},[r,d]),j=k()(0,H).reduce((e,t)=>e+$(t),0);return(0,m.Z)(_.ZP,{className:"AutoSizer"},void 0,e=>{let{width:m,height:y}=e;return(0,eM.jsx)(V.S_,{ref:I,height:y,width:m,overscanCount:1,itemCount:13,itemSize:$,initialScrollOffset:j,style:h?{overflow:"hidden"}:void 0,itemData:{setFieldValue:D,value:t,oppositeValue:a,handleDragStart:c,handleDragEnter:f,handleDragEnd:g,prices:n,shouldHavePrices:i,isLoadingPrices:s,onClose:u,handleTouchStart:b,handleTouchMove:p,handleTouchEnd:v,minDate:r,maxDate:l,dragging:h,activeField:o,languageDirection:x,mouseOverDay:R,onMouseOverDay:Z,onDayPress:F,scrollableView:C,locale:d,dragHovered:W,onDragMouseEnter:M,onDragMouseLeave:w,trackDateChange:L,selectedDayRef:A},children:eN})})};var eT=a("9031"),ez=a("96637");let e_=e=>{let{children:t,dataTest:a,left:r=!1,onClick:l}=e;return(0,m.Z)("div",{role:"button","data-test":a,className:(0,H.Z)("absolute top-100",r?"left-400":"right-400"),onClick:l},void 0,t)},eV=(0,y.memo)(e=>{let{children:t,currentMonth:a,handlePrevMonthClick:r,handleNextMonthClick:l,maxDate:o,numberOfVisibleMonths:n}=e,{formatMessage:i}=(0,ev.Z)();return(0,eM.jsxs)(eM.Fragment,{children:[(0,m.Z)("div",{className:"flex h-full select-none justify-between"},"calendarWrapper",t),(0,eM.jsxs)(eM.Fragment,{children:[(0,m.Z)(e_,{dataTest:"CalendarMovePrevious",onClick:"rtl"===window.document.dir?l:r,left:!0},"prevMonth",(0,m.Z)($.default,{dataTest:"CalendarMovePreviousButton",iconLeft:f||(f=(0,m.Z)(eT.default,{})),type:"secondary",size:"small",width:"32px",title:i({id:"orbit.prev_month"}),tabIndex:"-1"})),(0,m.Z)(e_,{dataTest:"CalendarMoveNext",onClick:"rtl"===window.document.dir?r:l},"nextMonth",(0,m.Z)($.default,{dataTest:"CalendarMoveNextButton",iconLeft:g||(g=(0,m.Z)(ez.default,{})),type:"secondary",size:"small",width:"32px",title:i({id:"orbit.next_month"}),disabled:(0,O.z)(a,n)>o,tabIndex:"-1"}))]})]})}),eK=e=>{let{value:t,oppositeValue:a,prices:r,shouldHavePrices:l,isLoadingPrices:o,onClose:n,minDate:i,activeField:s,handleDragStart:d,handleDragEnter:u,handleDragEnd:c,handleTouchStart:f,handleTouchMove:g,handleTouchEnd:b,dragging:p,setFieldValue:v,onMouseOverDay:h,onDayPress:D,mouseOverDay:x,scrollableView:Z=!1,onDragMouseEnter:F,onDragMouseLeave:R,dragHovered:E,trackDateChange:P,isDraggingDisabled:T}=e,z=(0,W.v9)(S.fK).direction,{locale:_}=(0,y.useContext)(L.ZP),{currentMonth:V,numberOfVisibleMonths:K,handlePrevMonthClick:H,handleNextMonthClick:I}=(0,y.useContext)(M.B),A=(0,y.useRef)(null),$=(0,N.nG)();return Z?(0,eM.jsx)("div",{className:"w-full flex-1 [&_.AutoSizer>div]:!overflow-x-hidden",ref:A,children:(0,m.Z)("div",{className:"h-full select-none"},"calendarWrapper",(0,m.Z)(eP,{locale:_,value:t,prices:r,shouldHavePrices:l,isLoadingPrices:o,oppositeValue:a,onClose:n,minDate:i,maxDate:$,activeField:s,handleDragStart:d,handleDragEnter:u,handleDragEnd:c,handleTouchStart:f,handleTouchMove:g,handleTouchEnd:b,dragging:p,setFieldValue:v,languageDirection:z,onMouseOverDay:h,onDayPress:D,mouseOverDay:x,scrollableView:Z,dragHovered:E,onDragMouseEnter:F,onDragMouseLeave:R,trackDateChange:P,mobileWrapperRef:A}))}):(0,m.Z)(eV,{currentMonth:V,handleNextMonthClick:I,handlePrevMonthClick:H,numberOfVisibleMonths:K,maxDate:$},void 0,k()(0,K).map(e=>(0,m.Z)("div",{className:"w-full not-last:me-400","data-value":e>0?(0,C.WU)((0,O.z)(V,e),eW.sc):i.toString()},e,(0,m.Z)(eS,{month:(0,O.z)(V,e),setFieldValue:v,activeField:s,value:t,oppositeValue:a,onDragStart:d,onDragEnter:u,onDragEnd:c,prices:r&&(0,w.W7)((0,O.z)(V,e),r),shouldHavePrices:l,isLoadingPrices:o,onClose:n,onTouchStart:f,onTouchMove:g,onTouchEnd:b,minDate:i,maxDate:$,dragging:p,languageDirection:z,mouseOverDay:x,onMouseOverDay:h,onDayPress:D,locale:_,dragHovered:E,onDragMouseEnter:F,onDragMouseLeave:R,trackDateChange:P,isDraggingDisabled:T},e))))},eH=e=>{let{value:t,setFieldValue:a,oppositeValue:r,minDate:l,activeField:o,onClose:n,scrollableView:i,prices:s,shouldHavePrices:d,isLoadingPrices:u=!1,trackFieldChange:c,isDraggingDisabled:f=!1,selectingFrom:g,setSelectingFrom:R,handleSetActiveField:k,searchForm:O}=e,[C,W]=(0,y.useState)(null),[M,w]=(0,y.useState)(null),[L,S]=(0,y.useState)(!1),[N,E]=(0,y.useState)(!1),P=(0,F.iJ)(O),T=(0,y.useCallback)(e=>{c&&c(o,e)},[o,c]),z=(0,y.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),g&&(0,Z.Ws)(t)&&!f&&(!N&&T(t),a(t)),R(null),W(null)},[f,N,g,a,T,t]),_=(0,y.useCallback)(e=>{e.cancelable&&e.preventDefault()},[]);(0,y.useEffect)(()=>(document.addEventListener("mouseup",z),()=>{document.removeEventListener("mouseup",z),document.removeEventListener("touchmove",_)}),[]);let V=(0,y.useCallback)((e,t)=>{!f&&(R(e),E(!0),a((0,Z.$m)(e,e,!1,t),!0))},[f,a]),K=(0,y.useCallback)(e=>{w(e),g&&e&&a((0,Z.$m)((0,D.V)([g,e]),(0,h.F)([g,e])),!0)},[g,a]),H=(0,y.useCallback)(e=>{document.addEventListener("touchmove",_,{passive:!1}),(0,Z.Ws)(t)&&W((0,v.K)(t.from,e)?"start":"end")},[_,t]),I=(0,y.useCallback)(e=>{if(E(!1),!!(0,Z.Ws)(t))"start"===C?(0,b.A)(e,t.to)?(a((0,Z.$m)(t.to,e),!0),W("end")):a((0,Z.$m)(e,t.to),!0):"end"===C&&((0,p.R)(e,t.from)?(a((0,Z.$m)(e,t.from),!0),W("start")):a((0,Z.$m)(t.from,e),!0))},[C,a,t]),A=(0,y.useCallback)(()=>{document.removeEventListener("touchmove",_),null!==C&&(!N&&T(t),W(null),"return"===P&&(null==r?void 0:r.type)!=="timeToStay"&&setTimeout(()=>{k("departureRange"===o?"returnRange":"departureRange")}))},[C,N,_,T,t]),$=(0,x.P)(100,e=>I(e)),j=(0,y.useCallback)(e=>{if(C){let t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY),a=(0,eW.Hz)(t);a&&$(a)}},[C,$]),B=(0,y.useCallback)(()=>{S(!0)},[]),U=(0,y.useCallback)(()=>{S(!1)},[]),q=(0,y.useCallback)((e,t)=>{(N||t)&&T(e)},[N,T]);return(0,m.Z)(eK,{handleDragStart:H,handleDragEnter:I,handleTouchStart:H,handleTouchMove:j,handleDragEnd:A,handleTouchEnd:A,trackDateChange:q,dragging:!!(null!=C?C:g),setFieldValue:a,mouseOverDay:M,onMouseOverDay:K,onDayPress:V,onDragMouseEnter:B,onDragMouseLeave:U,dragHovered:L,activeField:o,oppositeValue:r,value:t,minDate:l,onClose:n,scrollableView:i,prices:s,shouldHavePrices:d,isLoadingPrices:u,isDraggingDisabled:f})}},79535:function(e,t,a){a.d(t,{CW:function(){return M},Hz:function(){return O},NB:function(){return N},R_:function(){return E},_9:function(){return S},sc:function(){return k}});var r=a(94287),l=a(68264),o=a(41958),n=a(31191),i=a(69337),s=a(62876),d=a(29500),u=a(90146),c=a(1563),f=a(78776),g=a(25298),m=a(41015),b=a(78291),p=a(42195),v=a(21406),h=a(23101),D=a(20721),y=a(73561),x=a(84708),Z=a(93435),F=a(20890),R=a(30045);let k="yyyy-MM-dd",O=e=>{let t=e;for(;t&&!t.getAttribute("data-value")&&t.parentElement;)t=t.parentElement;let a=t&&t.getAttribute("data-value");return a&&(!a||(0,n.B)(a,k))?(0,s.Qc)(a,k,new Date):null},C=(e,t,a,r,l,o,n)=>{let i=(0,D.E6)({searchForm:e,filtersState:a,options:r,providers:(0,y.Y)({...r,allowFresh:!1,allowKayak:!1,allowWego:!1,allowU2:!1,userMarket:n},o),currencyData:l});return"returnRange"===t&&(i.outbound=i.inbound),i.inbound=void 0,i.outbound&&(i.outbound.days=void 0),i},W=(e,t,a,n,s)=>{let{origin:u,destination:c}=(0,m.q3)(e,a,n),f=(0,d.b)(new Date),g=(0,o.R)(t,f)?f:t;return null!=s?(0,D.RF)(e,u,c,{start:g,end:(0,l.i)((0,i.q)((0,r.z)(g,s-1)))}):(0,D.RF)(e,u,c,{start:g,end:(0,l.i)((0,i.q)(g))})},M=(0,u.P1)([m.Gk,(e,t)=>t.searchForm,(e,t)=>t.index,(e,t)=>t.activeField,b.rh,h.T,g.r7,p.iF,(e,t)=>t.currentMonth,(e,t)=>t.numberOfVisibleMonths,v.Jw,(e,t)=>t.priceElasticityGuaranteeTestValue,R.l,(e,t)=>t.user],(e,t,a,r,l,o,n,i,s,d,u,c,f,g)=>e&&"returnTTS"!==r?{search:W(t,s,r,a,d),filter:C(t,r,l,o,n,i,f),options:(0,D.Ph)({searchForm:t,filtersState:l,options:o,currency:n.id,ui:u,priceElasticityGuaranteeTestValue:c,market:f,userEmail:(0,F.gV)(g)})}:null),w={CHEAP:"low",AVERAGE:"normal",EXPENSIVE:"high"},L=e=>{let t={};return null!=e&&e.calendar&&e.calendar.forEach(e=>{var a,r;let{date:l,ratedPrice:o}=null!=e?e:{};if(!l||!o)return;let n=Number.parseFloat(null!==(a=null===(r=o.price)||void 0===r?void 0:r.amount)&&void 0!==a?a:"0");if(!n)return;let i=l.substring(0,7),s=l.substring(8,10);!t[i]&&(t[i]={}),t[i][s]={price:n,color:(0,x.f)("normal",o.rating,w)}}),t},S=e=>null==e?null:L(e),N=e=>!!e||!1,E=e=>{let{activeField:t,isLoading:a,departureLoadingState:r,returnLoadingState:l,track:o,isReturn:n}=e;"departureRange"===t&&a&&"idle"===r.current&&((0,Z.RA)(),r.current="loading"),"departureRange"===t&&!a&&"loading"===r.current&&(o(f.oK,{pricingType:"one-way"}),o(c.Iu,{timeToLoad:(0,Z.Qi)()}),r.current="loaded",l.current="idle"),"returnRange"===t&&a&&"idle"===l.current&&((0,Z.RA)(),l.current="loading"),"returnRange"===t&&!a&&"loading"===l.current&&(o(f.oK,{pricingType:n?"return":"one-way"}),o(c.Iu,{timeToLoad:(0,Z.Qi)()}),l.current="loaded",r.current="idle")}},31875:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(63127),l=a(67294),o=a(39719),n=a(7945),i=a(25298),s=a(37401);let d=e=>{let t;let{formatThousandsAndDecimals:a=!0,children:d,prefix:u="",convert:c=!1,alreadyRounded:f=!1,maxSize:g=0,noBreak:m=!1}=e,b=(0,o.v9)(i.EW),p=(0,o.v9)(i.o4),v=(0,o.v9)(i.jP),h=(0,o.v9)(i.Bg),{className:D=""}=e,y=(0,l.useContext)(n.ZP),x=e.currency||y||b,Z=Number.parseFloat(d);if(Number.isNaN(Z))return null;t=c?(0,s.Z)(Z,p[x]):f?Z:Number.parseFloat(h(Z,x));let F=v(x,t,a);if(g>0){let a=t.toFixed(0);F=v(x,a),!e.showCurrencySymbol&&(`${F}`.length>g||e.hideCurrencySymbol)&&(F=a,`${F}`.length>g&&(Math.round(F=Number.parseFloat(a)/1e3)!==F&&(F=F.toFixed(1)),F=`${F}k`),`${F}`.length>=g&&(D+=" text-small"))}return F=u+F,D+=` length-${F.length}`,F=m?F.replace(/ /g,"\xa0"):F,(0,r.Z)("span",{className:D},void 0,F)}},6196:function(e,t,a){a.d(t,{Z:function(){return f}});var r,l=a(63127),o=a(51035),n=a(82810),i=a(39903),s=a(67294),d=a(44012),u=a(38895);let c=e=>{let{defaultValue:t,onChange:a,trackChange:c,minValue:f,maxValue:g}=e,[m,b]=(0,s.useState)(t),p=(0,s.useCallback)(e=>{if("object"==typeof e){let[t,r]=e;b({min:t,max:r,type:"timeToStay",isDefault:!1}),a((0,u.Vk)(t,r))}},[a]),v=(0,s.useCallback)(e=>{if("object"==typeof e&&c){let[t,a]=e;c((0,u.Vk)(t,a))}},[c]);return(0,l.Z)("div",{className:"flex-1 select-none p-400","data-test":"PickerTimeToStay"},void 0,(0,l.Z)(o.default,{type:"title3",spaceAfter:"large"},void 0,(()=>{if(m.min===m.max)return 1===m.min?r||(r=(0,l.Z)(d.Z,{id:"search.form.date_picker.time_of_stay.one_night"})):(0,l.Z)(d.Z,{id:"search.form.date_picker.time_of_stay.more_nights",values:{count:m.min}});return(0,l.Z)(d.Z,{id:"form_search.stay_nights",values:{min:m.min,max:m.max}})})()),(0,l.Z)(n.default,{minValue:f,maxValue:g,defaultValue:[t.min,t.max],onChange:p,onChangeAfter:v,dataTest:"TimeToStaySlider"}),(0,l.Z)("div",{className:"flex items-center justify-between"},void 0,(0,l.Z)(i.default,{size:"large",type:"secondary"},void 0,f),(0,l.Z)(i.default,{dataTest:"MaxValueNightsText",size:"large",type:"secondary"},void 0,g)))};c.defaultProps={minValue:0,maxValue:31};let f=c},96181:function(e,t,a){a.d(t,{i:function(){return r}});let r=["de","pt","tr","us"]},33079:function(e,t,a){a.d(t,{B:function(){return c},Z:function(){return g}});var r=a(63127),l=a(94287),o=a(85018),n=a(62951),i=a(91538),s=a(67294),d=a(38895),u=a(3279);let c=(0,s.createContext)({currentMonth:(0,n.N)(new Date),numberOfVisibleMonths:2,handlePrevMonthClick:()=>{},handleNextMonthClick:()=>{}}),f=(e,t,a,r,l)=>{if((0,d.Ws)(e))return(0,o.x)(e.from,r)&&2===l?(0,n.N)((0,i.W)(r,1)):(0,n.N)(e.from);if((0,d.Ws)(t))return(0,o.x)(t.from,r)&&2===l?(0,n.N)((0,i.W)(r,1)):(0,n.N)(t.from);return(0,n.N)(a)},g=e=>{let{value:t,oppositeValue:a,minDate:o,maxDate:n,children:d}=e,{isDesktop:g}=(0,u.Z)(),m=g?2:1,[b,p]=(0,s.useState)(f(t,a,o,n,m)),v=(0,s.useCallback)(()=>{b>o&&p((0,i.W)(b,1))},[o,b]),h=(0,s.useCallback)(()=>{(0,l.z)(b,m)<n&&p((0,l.z)(b,1))},[n,b,m]);return(0,r.Z)(c.Provider,{value:{currentMonth:b,numberOfVisibleMonths:m,handlePrevMonthClick:v,handleNextMonthClick:h}},void 0,d)}},41015:function(e,t,a){a.d(t,{Gk:function(){return u},HL:function(){return f},W7:function(){return c},q3:function(){return d}});var r=a(45109),l=a(90146),o=a(27356),n=a(29495),i=a(10499);let s=(e,t)=>!(0,n.xb)(e)&&!(0,n.rP)(e)&&!(0,n.rP)(t)&&!(0,n.xb)(t),d=(e,t,a)=>{let r=i._7("origin",e,a),l=i._7("destination",e,a),o="returnRange"===t;return{origin:o?l:r,destination:o?r:l}},u=(0,l.P1)([(e,t)=>t.searchForm,(e,t)=>t.activeField,(e,t)=>t.index],(e,t,a)=>{if("returnTTS"===t)return!1;let{origin:r,destination:l}=d(e,t,a);return!!(i.iJ(e)!==i.xd.nomad&&s(r,l))&&e.cabinClass.type===o.Ux||!1}),c=(e,t)=>{var a;return null!==(a=t[(0,r.WU)(e,"yyyy-MM")])&&void 0!==a?a:null},f=(e,t)=>{var a;return null!==(a=t[(0,r.WU)(e,"dd")])&&void 0!==a?a:null}},7945:function(e,t,a){a.d(t,{ZP:function(){return l},zt:function(){return o}});let r=(0,a(67294).createContext)(null),l=r,{Provider:o,Consumer:n}=r}}]);
//# sourceMappingURL=1854.e8df668a.js.map